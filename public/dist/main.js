(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/agent/agent.component.html":
/*!********************************************!*\
  !*** ./src/app/agent/agent.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-md-12 d-flex align-items-baseline\">\n            <mat-form-field>\n                <input matInput type=\"text\" placeholder=\"Search Agents\" (keyup)=\"searchAgents($event)\" />\n            </mat-form-field>\n            <button type=\"button\" class=\"mx-3\" mat-icon-button (click)=\"toggleSortUsers()\">\n                <mat-icon>sort_by_alpha</mat-icon>\n                <mat-icon>{{sortAscending ? 'arrow_drop_up' : 'arrow_drop_down'}}</mat-icon>\n            </button>\n            <mat-slide-toggle (change)=\"toggleAgents($event)\" [checked]=\"true\">\n                {{ showInactive ? 'Hide Inactive' : 'Show Inactive' }}\n            </mat-slide-toggle>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-md-6 py-2\" *ngFor=\"let user of users | async\">\n            <div class=\"card hoverable\">\n                <div \n                    class=\"card-header text-white d-flex align-items-end justify-content-between\" \n                    [ngClass]=\"{'bg-vs-primary': user.agent.isActive, 'bg-vs-muted': !user.agent.isActive}\"\n                >\n                    <ul class=\"nav nav-tabs card-header-tabs\">\n                        <li class=\"nav-item\">\n                            <button mat-button class=\"nav-link\" [class.active]=\"user.display === 0\" (click)=\"user.display = 0\">Summary</button>\n                        </li>\n                        <li class=\"nav-item\" *ngIf=\"user.detail != null\">\n                            <button mat-button class=\"nav-link\" [class.active]=\"user.display === 1\" (click)=\"user.display = 1\">Detail</button>\n                        </li>\n                        <li class=\"nav-item\">\n                            <button mat-button class=\"nav-link\" [class.active]=\"user.display === 2\" (click)=\"user.display = 2\">Sales</button>\n                        </li>\n                    </ul>\n                    <button class=\"p-0 hover-item\" type=\"button\" mat-icon-button (click)=\"editAgent(user)\">\n                        <mat-icon color=\"accent\">edit</mat-icon>\n                    </button>\n                </div>\n                <div class=\"card-body\" [class.card-body-auto]=\"user.display === 2\">\n                    <ng-container *ngIf=\"user.display === 0\">\n                        <div class=\"d-flex flex-column justify-content-center align-items-center\" style=\"width:100%;height:100%;\">\n                            <h3 class=\"card-title\" [class.text-muted]=\"!user.agent.isActive\">\n                                {{user.firstName}} {{user.lastName}} <small *ngIf=\"!user.agent.isActive\">(Inactive)</small>\n                            </h3>\n                            <div class=\"d-flex align-items-center text-muted\">\n                                <i class=\"material-icons\">account_box</i>\n                                {{user.username}}\n                            </div>\n                            <div class=\"card-text\" *ngIf=\"user.detail\">Birthdate: {{user.detail.birthDate | date:'shortDate'}}</div>\n                            <div class=\"card-text\">Anniversary: {{ user.createdAt | date:'shortDate' }}</div>\n                        </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"user.display === 1\">\n                        <p class=\"font-weight-light font-italic text-muted\">{{user.firstName}} {{user.lastName}}</p>\n                        <p *ngIf=\"user.detail.street == null && user.detail.phone == null\">\n                            <button type=\"button\" class=\"btn btn-link\" (click)=\"editAgent(user)\">\n                                Add Details\n                            </button>\n                        </p>\n                        <div *ngIf=\"user.detail && user.detail.street != null\">\n                            <span class=\"font-weight-bold\">Address: </span>\n                            <address class=\"font-weight-light\">\n                                {{user.detail.street}}\n                                {{user.detail.street2}}\n                                {{user.detail.city}} {{user.detail.state}} {{user.detail.zip}}\n                            </address>\n                        </div>\n                        <div *ngIf=\"user.detail && user.detail.phone != null\">\n                            <span class=\"font-weight-bold\">Phone: </span>\n                            <span class=\"font-weight-light\">{{user.detail.phone | phone}}</span>\n                        </div>\n                        <div *ngIf=\"user.detail && user.detail.ssn != null && user.detail.ssn > 0\">\n                            <span class=\"font-weight-bold\">SSN: </span>\n                            <span class=\"font-weight-light\">{{replaceCharAt(user.detail.ssn, 0, 4, 'X')}}</span>\n                        </div>\n                        <div *ngIf=\"user.detail && user.detail.bankRouting\">\n                            <span class=\"font-weight-bold\">Routing: </span>\n                            <span class=\"font-weight-light\">{{user.detail.bankRouting}}</span>\n                        </div>\n                        <div *ngIf=\"user.detail && user.detail.bankAccount\">\n                            <span class=\"font-weight-bold\">Account: </span>\n                            <span class=\"font-weight-light\">{{user.detail.bankAccount}}</span>\n                        </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"user.display === 2\" [formGroup]=\"user.pairingsForm\">\n                        <div class=\"d-flex justify-content-between align-items-center mb-2\">\n                            <p class=\"font-weight-light font-italic text-muted\">\n                                {{user.firstName}} {{user.lastName}}\n                            </p>\n                            <button type=\"button\" \n                                mat-button \n                                class=\"float-right\" \n                                (click)=\"addEmptyPairing(user.pairingsForm.controls['array'], user.agent.pairings)\"\n                                [disabled]=\"disableAddPairingBtn\"\n                            >\n                                <mat-icon>add</mat-icon> Pairing\n                            </button>\n                        </div>\n                        \n                        <div formArrayName=\"array\" *ngIf=\"user.agent.pairings.length; else noPairings\">\n                            <mat-card *ngFor=\"let pairing of user.agent.pairings; let i=index\">\n                                <mat-card-content [formGroupName]=\"i\" class=\"mb-0\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-6\">\n                                            <mat-form-field>\n                                                <mat-select placeholder=\"Campaign\" formControlName=\"campaignId\" required>\n                                                    <mat-option *ngFor=\"let campaign of campaigns\" [value]=\"campaign.campaignId\">\n                                                        {{campaign.name}}\n                                                    </mat-option>\n                                                </mat-select>\n                                                <mat-error *ngIf=\"user.pairingsForm.controls['array'].controls[i].hasError('required')\">\n                                                    Please select a campaign.\n                                                </mat-error>\n                                            </mat-form-field>\n                                        </div>\n                                        <div class=\"col-md-6 d-flex\">\n                                            <mat-form-field class=\"flex-grow-1\">\n                                                <input matInput type=\"text\" placeholder=\"Code\" formControlName=\"salesId\" required #pairingRows />\n                                                <mat-icon matSuffix\n                                                    color=\"primary\"\n                                                    class=\"clickable\"\n                                                    *ngIf=\"user.pairingsForm.controls['array'].controls[i].value.salesPairingsId > 0 && user.pairingsForm.controls['array'].controls[i].dirty\"\n                                                    (click)=\"savePairingUpdate(user.pairingsForm.controls['array'].controls[i], user)\"\n                                                >save</mat-icon>\n                                                <mat-error *ngIf=\"user.pairingsForm.controls['array'].controls[i].hasError('required')\">\n                                                    Please enter a sales ID.\n                                                </mat-error>\n                                            </mat-form-field>\n                                        </div>\n                                    </div>\n                                </mat-card-content>\n                                <mat-card-actions class=\"d-flex\" *ngIf=\"pairing.salesPairingsId == null || pairing.salesPairingsId < 1\">\n                                    <button type=\"button\" mat-button \n                                        *ngIf=\"user.pairingsForm.controls['array'].controls[i].touched\" \n                                        (click)=\"cancelNewPairing(user.pairingsForm.controls['array'].controls[i], user, i)\"\n                                    >\n                                        <mat-icon>clear</mat-icon> Cancel\n                                    </button>\n                                    <button type=\"button\" mat-button color=\"primary\" \n                                        [disabled]=\"user.pairingsForm.invalid\" \n                                        (click)=\"saveNewPairing(user.pairingsForm.controls['array'].controls[i], user)\"\n                                    >\n                                        <mat-icon>save</mat-icon> Save\n                                    </button>\n                                </mat-card-actions>\n                            </mat-card>\n                        </div>\n                        <ng-template #noPairings>\n                            <h5 class=\"text-muted\">\n                                Click the <span class=\"font-italic\">+ Pairings</span> button to get started.\n                            </h5>\n                        </ng-template>\n                    </ng-container>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<vs-float-button\n  mat-icon=\"add\"\n  (callback)=\"showAddAgent()\"\n  [isOpen]=\"floatOpen$\"\n></vs-float-button>"

/***/ }),

/***/ "./src/app/agent/agent.component.scss":
/*!********************************************!*\
  !*** ./src/app/agent/agent.component.scss ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".card-body {\n  height: 200px;\n  overflow-y: auto; }\n\n.card-body-auto {\n  height: auto !important;\n  max-height: 400px;\n  overflow-y: auto; }\n"

/***/ }),

/***/ "./src/app/agent/agent.component.ts":
/*!******************************************!*\
  !*** ./src/app/agent/agent.component.ts ***!
  \******************************************/
/*! exports provided: AgentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentComponent", function() { return AgentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @app/agent/agent.service */ "./src/app/agent/agent.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/core/agents/dialogs/add-agent.component */ "./src/app/core/agents/dialogs/add-agent.component.ts");
/* harmony import */ var _app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/fab-float-btn/float-btn.service */ "./src/app/fab-float-btn/float-btn.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/agent/edit-agent-dialog/edit-agent-dialog.component */ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var AgentDisplay;
(function (AgentDisplay) {
    AgentDisplay[AgentDisplay["Summary"] = 0] = "Summary";
    AgentDisplay[AgentDisplay["Detail"] = 1] = "Detail";
})(AgentDisplay || (AgentDisplay = {}));
var PAIRING_KEYS = ['agentId', 'campaignId', 'clientId', 'salesId', 'salesPairingsId'];
var AgentComponent = /** @class */ (function () {
    function AgentComponent(service, session, dialog, floatBtnService, campaignService, fb, msg, changeDetector) {
        var _this = this;
        this.service = service;
        this.session = session;
        this.dialog = dialog;
        this.floatBtnService = floatBtnService;
        this.campaignService = campaignService;
        this.fb = fb;
        this.msg = msg;
        this.changeDetector = changeDetector;
        this.store = {};
        this.users$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.managers$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.showSearchContextChip = false;
        this.sortAscending = true;
        this.campaigns$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.disableAddPairingBtn = false;
        this.showInactive = true;
        this.floatOpen$ = this.floatBtnService.opened$.asObservable();
        this.users = this.users$.asObservable();
        this.users$.subscribe(function (next) { return _this._filteredUsers = next; });
        this.campaigns$.subscribe(function (next) { return _this.campaigns = next; });
    }
    AgentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.showLoader();
        this.session.userItem.subscribe(function (user) {
            if (user == null || _this.user != null)
                return;
            _this.user = user;
            _this.refreshAgents();
            _this.campaignService.getCampaignsByClient(_this.user.sessionUser.sessionClient)
                .subscribe(function (campaigns) {
                _this._campaigns = campaigns;
                _this.campaigns$.next(_this._campaigns);
            });
        });
    };
    AgentComponent.prototype.ngAfterViewChecked = function () {
        var _this = this;
        this._pairingRowsSub = this.pairingRows.changes.subscribe(function (next) {
            if (!_this.pairingRows.length || !_this.disableAddPairingBtn)
                return;
            _this.pairingRows.last.nativeElement.focus();
            _this.changeDetector.detectChanges();
        });
    };
    AgentComponent.prototype.ngOnDestroy = function () {
        this._pairingRowsSub.unsubscribe();
    };
    AgentComponent.prototype.showAddAgent = function () {
        var _this = this;
        this.floatBtnService.open();
        this.dialog.open(_app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_7__["AddAgentDialogComponent"], {
            width: '600px',
            data: {
                user: this.user
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            _this.floatBtnService.close();
            if (result == null || !result)
                return;
            _this.refreshAgents();
        });
    };
    AgentComponent.prototype.saveNewPairing = function (form, user) {
        var _this = this;
        if (form.invalid)
            return;
        this.disableAddPairingBtn = false;
        var model = this.preparePairingFromForm(form);
        model.agentId = model.agentId || user.agent.agentId;
        var isDuplicateEntry = this.isDuplicateCampaignPairing(user.agent.pairings, model.campaignId);
        if (isDuplicateEntry)
            return;
        var isNewPairing = model.salesPairingsId == null || model.salesPairingsId < 1;
        this.session.showLoader();
        this.service.saveAgentSalesPairing(model, model.agentId)
            .subscribe(function (result) {
            user.agent.pairings[user.agent.pairings.length - 1] = result;
            _this.resetPairingFormGroup(form, result);
            _this.session.hideLoader();
        });
    };
    /**
     * Updates an existing sales pairing entity. This is used explicitly separate from the AgentComponent.saveNewPairing
     * because it makes different changes to the UI.
     *
     * @param form:@type FormGroup Form that matches the corresponding ISalesPairing entity.
     * @param user:@type UserView The agent that owns this entity.
     */
    AgentComponent.prototype.savePairingUpdate = function (form, user) {
        var _this = this;
        if (form.invalid)
            return;
        var model = this.preparePairingFromForm(form);
        this.session.showLoader();
        this.service.saveAgentSalesPairing(model, model.agentId)
            .subscribe(function (result) {
            user.agent.pairings.forEach(function (p, i) {
                if (p.salesPairingsId != result.salesPairingsId)
                    return;
                user.agent.pairings[i] = result;
            });
            _this.resetPairingFormGroup(form, result);
            _this.session.hideLoader();
        });
    };
    AgentComponent.prototype.toggleAgents = function (event) {
        var showAll = event.checked;
        if (showAll) {
            this.users$.next(this.store.users);
            this.showInactive = true;
        }
        else {
            var filtered = this.store.users.filter(function (u) {
                return u.agent.isActive == true;
            });
            this.users$.next(filtered);
            this.showInactive = false;
        }
    };
    AgentComponent.prototype.resetPairingFormGroup = function (form, pairing) {
        form.reset();
        form.patchValue({
            salesPairingsId: pairing.salesPairingsId,
            salesId: pairing.salesId,
            campaignId: pairing.campaignId,
            clientId: pairing.clientId,
            agentId: pairing.agentId
        });
    };
    AgentComponent.prototype.isDuplicateCampaignPairing = function (pairings, proposedCampaignId) {
        var existing = lodash__WEBPACK_IMPORTED_MODULE_4__["find"](pairings, function (p) {
            return p.campaignId == proposedCampaignId;
        });
        if (existing)
            this.msg.addMessage('This agent already has a code for that campaign.', 'dismiss', 5000);
        return existing != null;
    };
    AgentComponent.prototype.cancelNewPairing = function (form, user, index) {
        form.patchValue({
            campaignId: null,
            salesId: null
        });
        form.reset();
        user.agent.pairings.splice(index, 1);
        form.parent.removeAt(index);
        this.disableAddPairingBtn = false;
    };
    AgentComponent.prototype.addEmptyPairing = function (formArray, existingPairings) {
        this.disableAddPairingBtn = true;
        if (existingPairings != null)
            existingPairings.push({});
        else
            existingPairings = [{}];
        formArray.push(this.buildPairingsFormGroup(PAIRING_KEYS, {}));
        // set focus on this form new form element, so that the form scrolls to where it needs to 
        // for the user.
    };
    AgentComponent.prototype.preparePairingFromForm = function (form) {
        return {
            salesPairingsId: form.value.salesPairingsId || 0,
            agentId: form.value.agentId,
            clientId: form.value.clientId || this.user.sessionUser.sessionClient,
            campaignId: form.value.campaignId,
            salesId: form.value.salesId
        };
    };
    AgentComponent.prototype.createPairingsForm = function (pairings) {
        var _this = this;
        var formArray = this.fb.array([]);
        pairings.forEach(function (p) { return formArray.push(_this.buildPairingsFormGroup(PAIRING_KEYS, p)); });
        return this.fb.group({ array: formArray });
    };
    AgentComponent.prototype.buildPairingsFormGroup = function (keys, p) {
        var _this = this;
        var group = this.fb.group({});
        keys.forEach(function (k) {
            var validatorFn;
            var formControl;
            if (k == 'salesId' || k == 'campaignId') {
                validatorFn = _angular_forms__WEBPACK_IMPORTED_MODULE_10__["Validators"].required;
                formControl = _this.fb.control(p[k] || '', [validatorFn]);
            }
            else {
                formControl = _this.fb.control(p[k] || '');
            }
            group.addControl(k, formControl);
        });
        return group;
    };
    AgentComponent.prototype.refreshAgents = function () {
        var _this = this;
        this.service.getAgentsByClient(this.user.sessionUser.sessionClient)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["map"])(this.setMoments))
            .subscribe(function (users) {
            lodash__WEBPACK_IMPORTED_MODULE_4__["remove"](users, function (u) { return u.agent == null; });
            users.forEach(function (u, i) {
                if (u.detail == null)
                    users[i].detail = {
                        userId: u.id,
                        street: null,
                        street2: null,
                        city: null,
                        state: null,
                        zip: null,
                        phone: null,
                        birthDate: null,
                        ssn: null,
                        bankRouting: null,
                        bankAccount: null
                    };
                if (u.agent.pairings != null && u.agent.pairings.length)
                    users[i].pairingsForm = _this.createPairingsForm(u.agent.pairings);
                else
                    users[i].pairingsForm = _this.createPairingsForm([]);
            });
            _this.store.users = lodash__WEBPACK_IMPORTED_MODULE_4__["orderBy"](users, ['lastName', 'firstName'], ['asc', 'asc']);
            _this.users$.next(_this.store.users);
            _this.setManagers(_this.store.users);
            _this.session.hideLoader();
        });
    };
    AgentComponent.prototype.setMoments = function (users) {
        if (!users)
            return users;
        users.forEach(function (user) {
            if (user.agent == null)
                return;
            user.agent.createdAt = moment__WEBPACK_IMPORTED_MODULE_5__(user.agent.createdAt);
            user.display = AgentDisplay.Summary;
        });
        return users;
    };
    AgentComponent.prototype.setManagers = function (users) {
        this.store.managers = lodash__WEBPACK_IMPORTED_MODULE_4__["filter"](users, function (user) {
            return user.agent.isManager;
        });
        this.managers$.next(this.store.managers);
    };
    AgentComponent.prototype.replaceCharAt = function (input, start, end, replaceChar) {
        var counter = end - start;
        var calculatedReplacement;
        for (var i = 0; i < counter; i++) {
            calculatedReplacement += replaceChar;
        }
        return input.substr(start, end) + calculatedReplacement + input.substr(end, calculatedReplacement.length);
    };
    AgentComponent.prototype.editAgent = function (user) {
        var _this = this;
        var displayType = user.display;
        this.dialog.open(_app_agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_11__["EditAgentDialogComponent"], {
            width: '600px',
            data: {
                user: this.user,
                agent: user,
                managers: this.store.managers
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return; /** If the result is undefined, the user canceled the changes. */
            _this.session.showLoader();
            _this.service.updateUserWithRelationships(_this.user.sessionUser.sessionClient, result)
                .subscribe(function (user) {
                var idx = lodash__WEBPACK_IMPORTED_MODULE_4__["findIndex"](_this.store.users, { id: user.id });
                if (idx < 0) {
                    // this will be for a new user
                }
                else {
                    user.display = displayType || AgentDisplay.Summary;
                    if (user.agent.pairings != null && user.agent.pairings.length)
                        user.pairingsForm = _this.createPairingsForm(user.agent.pairings);
                    else
                        user.pairingsForm = _this.createPairingsForm([]);
                    _this.store.users[idx] = user;
                    _this.users$.next(_this.store.users);
                    _this.setManagers(_this.store.users);
                    _this.session.hideLoader();
                }
            });
        });
    };
    AgentComponent.prototype.searchAgents = function (event) {
        var _this = this;
        this.searchContext = event.target.value;
        var agentsResult = lodash__WEBPACK_IMPORTED_MODULE_4__["filter"](this.store.users, function (u) {
            return u.firstName.concat(u.lastName).toLowerCase().trim().includes(_this.searchContext);
        });
        this.users$.next(agentsResult);
    };
    AgentComponent.prototype.handleSearchContext = function () {
        if (this.searchContext != null) {
            this.searchChipValue = this.searchContext;
            this.searchContext = null;
            this.showSearchContextChip = true;
        }
    };
    AgentComponent.prototype.removeSearchChip = function () {
        this.searchChipValue = null;
        this.showSearchContextChip = false;
    };
    AgentComponent.prototype.toggleSortUsers = function () {
        var direction = this.sortAscending ? 'desc' : 'asc';
        this._filteredUsers = lodash__WEBPACK_IMPORTED_MODULE_4__["orderBy"](this._filteredUsers, ['lastName', 'firstName'], [direction, 'asc']);
        this.users$.next(this._filteredUsers);
        this.sortAscending = !this.sortAscending;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChildren"])('pairingRows'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["QueryList"])
    ], AgentComponent.prototype, "pairingRows", void 0);
    AgentComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'vs-agent',
            template: __webpack_require__(/*! ./agent.component.html */ "./src/app/agent/agent.component.html"),
            styles: [__webpack_require__(/*! ./agent.component.scss */ "./src/app/agent/agent.component.scss")],
            providers: [_app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_8__["FloatBtnService"]]
        }),
        __metadata("design:paramtypes", [_app_agent_agent_service__WEBPACK_IMPORTED_MODULE_1__["AgentService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatDialog"],
            _app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_8__["FloatBtnService"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_12__["CampaignService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_10__["FormBuilder"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_13__["MessageService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]])
    ], AgentComponent);
    return AgentComponent;
}());



/***/ }),

/***/ "./src/app/agent/agent.service.ts":
/*!****************************************!*\
  !*** ./src/app/agent/agent.service.ts ***!
  \****************************************/
/*! exports provided: AgentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentService", function() { return AgentService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AgentService = /** @class */ (function () {
    function AgentService(auth, http) {
        this.auth = auth;
        this.http = http;
        this.api = this.auth.apiUrl + 'api' || '';
    }
    /**
     * Gets a list of agents by the client id.
     *
     * @param clientId
     */
    AgentService.prototype.getAgentsByClient = function (clientId) {
        var url = this.api + "/clients/" + clientId + "/agents";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    AgentService.prototype.getAgentByUser = function (clientId, userId) {
        return this.http.get(this.api + "/clients/" + clientId + "/users/" + userId + "/agents")
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    AgentService.prototype.updateUserWithRelationships = function (clientId, user) {
        var url = this.api + "/clients/" + clientId + "/users/" + user.id;
        return this.http.post(url, user)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    AgentService.prototype.checkUsernameAvailability = function (username) {
        return this.http.get(this.api + "/usernames?u=" + username)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    /**
     * Return an array of sales pairings entities by agent id.
     *
     * @param agentId
     * @param clientId
     */
    AgentService.prototype.getAgentSalesPairings = function (agentId, clientId) {
        return this.http.get(this.api + "/sales-pairings/clients/" + clientId + "/agents/" + agentId + "/sales-pairings")
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    AgentService.prototype.getSalesPairingsByClient = function (clientId) {
        return this.http.get(this.api + "/sales-pairings/clients/" + clientId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    /**
     * Save a list of agent sales pairings.
     *
     * @param pairings
     * @param agentId
     */
    AgentService.prototype.saveAgentSalesPairings = function (pairings, agentId) {
        return this.http.post(this.api + "/sales-pairings/agents/" + agentId + "/sales-pairings", { pairings: pairings })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    AgentService.prototype.saveAgentSalesPairing = function (pairing, agentId) {
        var url = pairing.salesPairingsId > 0
            ? this.api + "/agents/" + agentId + "/sales-pairings/" + pairing.salesPairingsId
            : this.api + "/agents/" + agentId + "/sales-pairings";
        return this.http.post(url, pairing)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    AgentService.prototype.deleteAgentSalesPairings = function (pairingId) {
        return this.http.delete(this.api + "/sales-pairings/" + pairingId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    AgentService.prototype.handleError = function (error) {
        if (error.error instanceof ErrorEvent) {
            console.log('Error occurred: ', error.error.message || error.message);
        }
        else {
            console.error("Server returned error code " + error.status + ": " + error.error);
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["throwError"])('There was a network error. Please try again.');
    };
    AgentService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_app_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], AgentService);
    return AgentService;
}());



/***/ }),

/***/ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.html":
/*!**************************************************************************!*\
  !*** ./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <mat-dialog-container> -->\n    <h3 mat-dialog-title>\n        Edit Agent\n        <button type=\"button\" class=\"float-right\" mat-icon-button (click)=\"onNoClick()\" tabindex=\"-1\">\n            <mat-icon>clear</mat-icon>\n        </button>\n    </h3>\n    <p class=\"text-muted\">\n        All fields denoted with * are required.\n    </p>\n    <mat-dialog-content>\n        <form [formGroup]=\"form\">\n            <ng-container formGroupName=\"user\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"firstName\" placeholder=\"First Name\" required /> \n                            <mat-error *ngIf=\"form.get('user').get('firstName').hasError('required')\">\n                                Please enter a first name.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"lastName\" placeholder=\"Last Name\" required />\n                            <mat-error *ngIf=\"form.get('user').get('lastName').hasError('required')\">\n                                Please enter a last name.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6 py-3\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"username\" placeholder=\"Username\" required readonly />\n                            <mat-hint>Please contact a system admin to edit a username</mat-hint>\n                            <mat-error *ngIf=\"form.get('user').get('username').hasError('required')\">\n                                Please enter a username.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6 d-flex flex-column\">\n                        <mat-checkbox formControlName=\"active\">Portal Access</mat-checkbox>\n                        <span class=\"text-muted font-italic font-sm\">Allow user to login to online portal</span>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container formGroupName=\"detail\">\n                <div class=\"row\">\n                    <div class=\"col-md-8\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"street\" placeholder=\"Street Address\" required />\n                            <mat-error *ngIf=\"form.get('detail').get('street').hasError('required')\">\n                                Please enter a street address.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-4\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"street2\" placeholder=\"Apt/Unit/Suite\" />\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"city\" placeholder=\"City\" required />\n                            <mat-error *ngIf=\"form.get('detail').get('city').hasError('required')\">\n                                Please enter a city.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <mat-form-field>\n                            <mat-select placeholder=\"State\" formControlName=\"state\" required>\n                                <mat-option *ngFor=\"let state of states\" [value]=\"state.abbreviation\">\n                                    {{state.name}}\n                                </mat-option>\n                            </mat-select>\n                            <mat-error *ngIf=\"form.get('detail').get('state').hasError('required')\">\n                                Please select a state.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput formControlName=\"zip\" placeholder=\"Postal Code\" required />\n                            <mat-error *ngIf=\"form.get('detail').get('zip').hasError('required')\">\n                                Please enter a postal code.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input matInput [matDatepicker]=\"birthDatePicker\" placeholder=\"Birth Date\" formControlName=\"birthDate\" />\n                            <mat-datepicker-toggle matSuffix [for]=\"birthDatePicker\"></mat-datepicker-toggle>\n                            <mat-datepicker #birthDatePicker></mat-datepicker>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput placeholder=\"Social Security Number\" formControlName=\"ssn\" />\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput placeholder=\"Phone\" formControlName=\"phone\" required />\n                            <mat-error *ngIf=\"form.get('detail').get('phone').hasError('required')\">\n                                Please enter a phone number.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput placeholder=\"Bank Routing\" formControlName=\"routing\" />\n                            <mat-hint>\n                                Use if agent has direct deposit setup.\n                            </mat-hint>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <input type=\"text\" matInput placeholder=\"Bank Account\" formControlName=\"account\" />\n                            <mat-hint>\n                                Use if agent has direct deposit setup.\n                            </mat-hint>\n                        </mat-form-field>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container formGroupName=\"agent\">\n                <div class=\"row py-4\">\n                    <div class=\"col-md-6\">\n                        <mat-form-field>\n                            <mat-select placeholder=\"Manager\" formControlName=\"manager\" required>\n                                <mat-option *ngFor=\"let manager of managers\" [value]=\"manager.id\">\n                                    {{manager.firstName}} {{manager.lastName}}\n                                </mat-option>\n                            </mat-select>\n                            <mat-error *ngIf=\"form.get('agent').get('manager').hasError('required')\">\n                                Please select a manager.\n                            </mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <p class=\"text-muted\">\n                            Select the manager that this agent reports to.\n                        </p>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-checkbox formControlName=\"isManager\">Manager</mat-checkbox>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <p class=\"text-muted\">\n                            This denotes the agent as a manager in the system, enabling their overrides and allowing you to assign\n                            other users to them for payroll.\n                        </p>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <mat-checkbox formControlName=\"active\">Active Employee</mat-checkbox>\n                    </div>\n                    <div class=\"col-md-6\">\n                        <p class=\"text-muted\">\n                            If this is unchecked, the agent is considered \"terminated\" and will no longer show up in the system as \n                            an active employee. This will affect payroll and if they are not active, their payroll will not be calculated. This \n                            does <strong>NOT</strong> disable their login access, because terminated employees may need access to their historical\n                            pay data for a determinate amount of time.\n                        </p>\n                    </div>\n                </div>\n            </ng-container>\n        </form>\n    </mat-dialog-content>\n    <mat-dialog-actions>\n        <button type=\"button\" mat-button (click)=\"onNoClick()\">Cancel</button>\n        <button type=\"button\" mat-button color=\"primary\" (click)=\"saveAgentChanges()\">Save</button>\n    </mat-dialog-actions>\n<!-- </mat-dialog-container> -->"

/***/ }),

/***/ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.scss":
/*!**************************************************************************!*\
  !*** ./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.scss ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host mat-form-field {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.ts ***!
  \************************************************************************/
/*! exports provided: EditAgentDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditAgentDialogComponent", function() { return EditAgentDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var EditAgentDialogComponent = /** @class */ (function () {
    function EditAgentDialogComponent(fb, data, ref) {
        this.fb = fb;
        this.data = data;
        this.ref = ref;
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_3__["States"].$get();
    }
    EditAgentDialogComponent.prototype.ngOnInit = function () {
        this.agent = this.data.agent;
        this.managers = this.data.managers;
        this.managers.unshift({
            id: -1,
            firstName: 'No',
            lastName: 'Manager'
        });
        this.createForm();
    };
    EditAgentDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    EditAgentDialogComponent.prototype.saveAgentChanges = function () {
        var updatedAgent = this.prepareModel();
        this.ref.close(updatedAgent);
    };
    /** Creates a form that has separate form groups for the user entity, user_detail entity and the agent entity. */
    EditAgentDialogComponent.prototype.createForm = function () {
        this.form = this.fb.group({
            user: this.fb.group({
                firstName: this.fb.control(this.agent.firstName, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
                lastName: this.fb.control(this.agent.lastName, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
                username: this.fb.control(this.agent.username, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
                email: this.fb.control(this.agent.email, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].email]),
                active: this.fb.control(this.agent.active)
            }),
            detail: this.fb.group({
                street: this.fb.control(this.agent.detail.street, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
                street2: this.fb.control(this.agent.detail.street2),
                city: this.fb.control(this.agent.detail.city, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
                state: this.fb.control(this.agent.detail.state, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
                zip: this.fb.control(this.agent.detail.zip, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].pattern('[0-9]+')]),
                ssn: this.fb.control(this.agent.detail.ssn || ''),
                birthDate: this.fb.control(this.agent.detail.birthDate, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
                phone: this.fb.control(this.agent.detail.phone, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].pattern('[0-9]+')]),
                routing: this.fb.control(this.agent.detail.bankRouting),
                account: this.fb.control(this.agent.detail.bankAccount)
            }),
            agent: this.fb.group({
                manager: this.fb.control(this.agent.agent.managerId, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
                isManager: this.fb.control(this.agent.agent.isManager),
                active: this.fb.control(this.agent.agent.isActive)
            })
        });
    };
    EditAgentDialogComponent.prototype.prepareModel = function () {
        return {
            id: this.agent.id,
            firstName: this.form.value.user.firstName,
            lastName: this.form.value.user.lastName,
            email: this.form.value.user.email,
            username: this.form.value.user.username,
            active: this.form.value.user.active,
            detail: {
                userDetailId: this.agent.detail.userDetailId || 0,
                userId: this.agent.detail.userId,
                street: this.form.value.detail.street,
                street2: this.form.value.detail.street2,
                city: this.form.value.detail.city,
                state: this.form.value.detail.state,
                zip: this.form.value.detail.zip,
                ssn: +this.form.value.detail.ssn,
                birthDate: this.form.value.detail.birthDate,
                phone: +this.form.value.detail.phone,
                bankRouting: this.form.value.detail.routing,
                bankAccount: this.form.value.detail.account
            },
            agent: {
                agentId: this.agent.agent.agentId || 0,
                firstName: this.form.value.user.firstName,
                lastName: this.form.value.user.lastName,
                managerId: this.form.value.agent.manager,
                isManager: this.form.value.agent.isManager,
                isActive: this.form.value.agent.active
            }
        };
    };
    EditAgentDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'vs-edit-agent-dialog',
            template: __webpack_require__(/*! ./edit-agent-dialog.component.html */ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.html"),
            styles: [__webpack_require__(/*! ./edit-agent-dialog.component.scss */ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], Object, _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"]])
    ], EditAgentDialogComponent);
    return EditAgentDialogComponent;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dashboard/dashboard.component */ "./src/app/dashboard/dashboard.component.ts");
/* harmony import */ var _my_information_my_information_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./my-information/my-information.component */ "./src/app/my-information/my-information.component.ts");
/* harmony import */ var _client_information_client_information_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./client-information/client-information.component */ "./src/app/client-information/client-information.component.ts");
/* harmony import */ var _payroll_payroll_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./payroll/payroll.component */ "./src/app/payroll/payroll.component.ts");
/* harmony import */ var _auth_guard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./auth.guard */ "./src/app/auth.guard.ts");
/* harmony import */ var _app_campaigns_campaigns_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/campaigns/campaigns.component */ "./src/app/campaigns/campaigns.component.ts");
/* harmony import */ var _app_daily_sale_tracker_daily_sale_tracker_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/daily-sale-tracker/daily-sale-tracker.component */ "./src/app/daily-sale-tracker/daily-sale-tracker.component.ts");
/* harmony import */ var _app_agent_agent_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/agent/agent.component */ "./src/app/agent/agent.component.ts");
/* harmony import */ var _app_public_home_public_home_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/public-home/public-home.component */ "./src/app/public-home/public-home.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












var routes = [
    { path: '', redirectTo: 'home', pathMatch: 'full' },
    { path: 'home', component: _app_public_home_public_home_component__WEBPACK_IMPORTED_MODULE_11__["PublicHomeComponent"] },
    { path: 'login', component: _login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"] },
    { path: 'dashboard', component: _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_3__["DashboardComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'my-information', component: _my_information_my_information_component__WEBPACK_IMPORTED_MODULE_4__["MyInformationComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'client-information', component: _client_information_client_information_component__WEBPACK_IMPORTED_MODULE_5__["ClientInformationComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'campaigns', component: _app_campaigns_campaigns_component__WEBPACK_IMPORTED_MODULE_8__["CampaignsComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'payroll-tools', component: _payroll_payroll_component__WEBPACK_IMPORTED_MODULE_6__["PayrollComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'agents', component: _app_agent_agent_component__WEBPACK_IMPORTED_MODULE_10__["AgentComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: 'daily-tracker', component: _app_daily_sale_tracker_daily_sale_tracker_component__WEBPACK_IMPORTED_MODULE_9__["DailySaleTrackerComponent"], canActivate: [_auth_guard__WEBPACK_IMPORTED_MODULE_7__["AuthGuard"]] },
    { path: '**', redirectTo: 'home' }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]],
            imports: [
                _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes, {
                    useHash: true,
                })
            ]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-sidenav-container *ngIf=\"_loggedIn; else loggedOut;\">\n    <mat-sidenav #navigation mode=\"side\" class=\"sidenav\" autoFocus=\"false\">\n        <side-nav></side-nav>\n    </mat-sidenav>\n    <!-- <mat-sidenav-content scrollLock [trapScroll]=\"_loading\" class=\"pb-4\"> -->\n    <mat-sidenav-content class=\"pb-4\">\n        <ngx-loading [show]=\"_loading\"></ngx-loading>\n        <app-header></app-header>\n        <router-outlet></router-outlet>\n    </mat-sidenav-content>\n</mat-sidenav-container>\n<ng-template #loggedOut>\n    <!-- <div scrollLock [trapScroll]=\"_loading\"> -->\n    <div>\n        <ngx-loading [show]=\"_loading\"></ngx-loading>\n        <app-header></app-header>\n        <router-outlet></router-outlet>\n    </div>\n</ng-template>"

/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-sidenav-content {\n  height: 100vh; }\n\n.navigation {\n  background-color: #fafafa; }\n\nhtml, body {\n  margin: 0;\n  width: 100%;\n  height: 100%; }\n\nmat-sidenav-container, .sidenav-content {\n  margin: 0;\n  width: 100%;\n  height: 100%; }\n\nmat-sidenav-layout {\n  background: rgba(0, 0, 0, 0.03); }\n\n@media screen and (max-width: 480px) {\n  .sidenav {\n    width: 100%; } }\n\n@media screen and (min-width: 481px) {\n  .sidenav {\n    width: 300px; } }\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./session.service */ "./src/app/session.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _env_environment_prod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @env/environment.prod */ "./src/environments/environment.prod.ts");
/* harmony import */ var _app_shared_moment_extensions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/shared/moment-extensions */ "./src/app/shared/moment-extensions.ts");
/* harmony import */ var _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/sidenav/sidenav.service */ "./src/app/sidenav/sidenav.service.ts");
/* harmony import */ var _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/cdk/layout */ "./node_modules/@angular/cdk/esm5/layout.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var AppComponent = /** @class */ (function () {
    function AppComponent(session, cd, sidenavService, breakpointObserver, router) {
        var _this = this;
        this.session = session;
        this.cd = cd;
        this.sidenavService = sidenavService;
        this.breakpointObserver = breakpointObserver;
        this.router = router;
        this.title = 'app';
        this.loading = true;
        var counter = 0;
        // wire up our extension methods
        _app_shared_moment_extensions__WEBPACK_IMPORTED_MODULE_5__["MomentExtensions"].init();
        this.session.loading$.subscribe(function (next) {
            // dev only bug -
            // https://stackoverflow.com/questions/39787038/how-to-manage-angular2-expression-has-changed-after-it-was-checked-exception-w
            if (!_env_environment_prod__WEBPACK_IMPORTED_MODULE_4__["environment"].production)
                _this.cd.detectChanges();
            if (next == null)
                return;
            _this.loading$ = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(next);
            _this._loading = next;
        });
        this.session.isLoginSubject.subscribe(function (next) {
            if (next == null)
                return;
            _this.loggedInStatus = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(next);
            _this._loggedIn = next;
        });
        this.observeBreakpoints();
    }
    AppComponent.prototype.ngOnInit = function () {
        this.session.loadUserStorageItem();
    };
    AppComponent.prototype.ngAfterContentInit = function () {
        //Called after ngOnInit when the component's or directive's content has been initialized.
        //Add 'implements AfterContentInit' to the class.
        // this.loading = this.session.loadingState;
    };
    AppComponent.prototype.ngAfterViewChecked = function () {
        // initialize our sidenav service
        this.sidenavService.setSidenav(this.sidenav);
        // dev only bug -
        // https://stackoverflow.com/questions/39787038/how-to-manage-angular2-expression-has-changed-after-it-was-checked-exception-w
        if (!_env_environment_prod__WEBPACK_IMPORTED_MODULE_4__["environment"].production)
            this.cd.detectChanges();
    };
    /**
     * Observes the layout and if the viewport changes sizes to the size of a smartphone,
     * this method calls a method to update services on the layout for mobile/desktop mode when applicable.
     */
    AppComponent.prototype.observeBreakpoints = function () {
        var _this = this;
        this.breakpointObserver.observe([
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_7__["Breakpoints"].Handset
        ]).subscribe(function (result) {
            if (result.matches)
                _this.handleMobileViewport();
            else
                _this.handleFullViewport();
        });
    };
    AppComponent.prototype.handleMobileViewport = function () {
        var _this = this;
        this.routerSubscription = this.router.events.subscribe(function () {
            _this.sidenavService.close();
        });
    };
    AppComponent.prototype.handleFullViewport = function () {
        if (this.routerSubscription != null)
            this.routerSubscription.unsubscribe();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('navigation'),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSidenav"])
    ], AppComponent.prototype, "sidenav", void 0);
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")]
        }),
        __metadata("design:paramtypes", [_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_6__["SidenavService"],
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_7__["BreakpointObserver"],
            _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/core.module */ "./src/app/core/core.module.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sidenav/sidenav.component */ "./src/app/sidenav/sidenav.component.ts");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _scroll_lock_directive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./scroll-lock.directive */ "./src/app/scroll-lock.directive.ts");
/* harmony import */ var ngx_loading__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-loading */ "./node_modules/ngx-loading/ngx-loading/ngx-loading.es5.js");
/* harmony import */ var _header_header_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./header/header.component */ "./src/app/header/header.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _agent_agent_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./agent/agent.component */ "./src/app/agent/agent.component.ts");
/* harmony import */ var _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @app/fab-float-btn/fab-float-btn.module */ "./src/app/fab-float-btn/fab-float-btn.module.ts");
/* harmony import */ var _app_pipes_pipes_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @app/pipes/pipes.module */ "./src/app/pipes/pipes.module.ts");
/* harmony import */ var _agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./agent/edit-agent-dialog/edit-agent-dialog.component */ "./src/app/agent/edit-agent-dialog/edit-agent-dialog.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _public_home_public_home_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./public-home/public-home.component */ "./src/app/public-home/public-home.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


















var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_11__["BrowserAnimationsModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["BrowserModule"],
                _core_core_module__WEBPACK_IMPORTED_MODULE_1__["CoreModule"],
                _material_material_module__WEBPACK_IMPORTED_MODULE_6__["MaterialModule"],
                ngx_loading__WEBPACK_IMPORTED_MODULE_8__["LoadingModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_10__["AppRoutingModule"],
                _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_13__["FabFloatBtnModule"],
                _app_pipes_pipes_module__WEBPACK_IMPORTED_MODULE_14__["PipesModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_16__["ReactiveFormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_16__["FormsModule"]
            ],
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"],
                _sidenav_sidenav_component__WEBPACK_IMPORTED_MODULE_5__["SidenavComponent"],
                _scroll_lock_directive__WEBPACK_IMPORTED_MODULE_7__["ScrollLockDirective"],
                _header_header_component__WEBPACK_IMPORTED_MODULE_9__["HeaderComponent"],
                _agent_agent_component__WEBPACK_IMPORTED_MODULE_12__["AgentComponent"],
                _agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_15__["EditAgentDialogComponent"],
                _public_home_public_home_component__WEBPACK_IMPORTED_MODULE_17__["PublicHomeComponent"]
            ],
            entryComponents: [
                _agent_edit_agent_dialog_edit_agent_dialog_component__WEBPACK_IMPORTED_MODULE_15__["EditAgentDialogComponent"]
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/auth.guard.ts":
/*!*******************************!*\
  !*** ./src/app/auth.guard.ts ***!
  \*******************************/
/*! exports provided: AuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuard", function() { return AuthGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./session.service */ "./src/app/session.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







/**
 * Design and built with help from: https://www.code-sample.com/2018/03/angular-5-auth-guard-and-route-guards.html
 *
 */
var AuthGuard = /** @class */ (function () {
    function AuthGuard(authService, router, userService, session) {
        this.authService = authService;
        this.router = router;
        this.userService = userService;
        this.session = session;
    }
    AuthGuard.prototype.canActivate = function (route, state) {
        var _this = this;
        var url = state.url;
        return rxjs__WEBPACK_IMPORTED_MODULE_3__["Observable"].create(function (observer) { return _this.session.isUserAuthenticated()
            .toPromise()
            .then(function (store) {
            if (store != null && store.expires > moment__WEBPACK_IMPORTED_MODULE_6__().valueOf()) {
                observer.next(true);
                observer.complete();
            }
            else {
                _this.session.navigateQueue.push(url);
                _this.router.navigateByUrl('login');
                observer.next(false);
                observer.complete();
            }
        }); });
    };
    AuthGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"],
            _session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"]])
    ], AuthGuard);
    return AuthGuard;
}());



/***/ }),

/***/ "./src/app/auth.service.ts":
/*!*********************************!*\
  !*** ./src/app/auth.service.ts ***!
  \*********************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./session.service */ "./src/app/session.service.ts");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message.service */ "./src/app/message.service.ts");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var environments_environment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var AuthService = /** @class */ (function () {
    function AuthService(http, router, session, userService, msg) {
        this.http = http;
        this.router = router;
        this.session = session;
        this.userService = userService;
        this.msg = msg;
        this.apiUrl = environments_environment__WEBPACK_IMPORTED_MODULE_7__["environment"].apiUrl;
        this.redirectUrl = '/';
        this.selectedClient = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](null);
        this.loading = false;
    }
    /**
     * User attempted oauth login. This could potentially offer oauth2 login services through
     * other authentication methods like google/facebook.
     *
     * @param data
     * @param callback
     */
    AuthService.prototype.login = function (data) {
        this.loading = true;
        this.session.clearStorage();
        var url = this.apiUrl + 'oauth/token';
        return this.http.post(url, data).toPromise();
    };
    AuthService.prototype.ngLogin = function (data) {
        return this.http.post(this.apiUrl + "api/authenticate", data);
    };
    /**
     * Log out. Clears session storage.
     *
     */
    AuthService.prototype.logout = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.redirectUrl = _this.router.routerState.snapshot.url;
            _this.session.logout();
            _this.userService.logout();
            resolve(_this.redirectUrl);
        });
    };
    /**
     * Get's user from the database by the username after they've been authenticated and issued
     * a token.
     *
     * @param username
     * @param callback
     */
    AuthService.prototype.getUserSession = function (username, callback) {
        var _this = this;
        var url = this.apiUrl + 'api/users/' + username + '/session';
        return new Promise(function (resolve, reject) {
            _this.http.get(url)
                .toPromise()
                .then(function (result) {
                _this.populateUserRoles()
                    .then(function (data) { return _this.roles = data; });
                resolve(result);
            }, function (err) { return reject(err); });
        });
    };
    AuthService.prototype.setSession = function (key, value) {
        this.session[key] = value;
    };
    /**
     * Gets all user roles.
     */
    AuthService.prototype.populateUserRoles = function () {
        return this.http.get(this.apiUrl + 'api/utilities/get-user-roles').toPromise();
    };
    AuthService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_6__["UserService"],
            _message_service__WEBPACK_IMPORTED_MODULE_5__["MessageService"]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/base/base.module.ts":
/*!*************************************!*\
  !*** ./src/app/base/base.module.ts ***!
  \*************************************/
/*! exports provided: BaseModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseModule", function() { return BaseModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _loading_spinner_loading_spinner_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../loading-spinner/loading-spinner.component */ "./src/app/loading-spinner/loading-spinner.component.ts");
/* harmony import */ var _select_mapper_select_mapper_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../select-mapper/select-mapper.component */ "./src/app/select-mapper/select-mapper.component.ts");
/* harmony import */ var _client_information_client_information_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../client-information/client-information.component */ "./src/app/client-information/client-information.component.ts");
/* harmony import */ var _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../client-selector/client-selector.component */ "./src/app/client-selector/client-selector.component.ts");
/* harmony import */ var _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dashboard/dashboard.component */ "./src/app/dashboard/dashboard.component.ts");
/* harmony import */ var _dashboard_chart_js_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../dashboard/chart-js-content */ "./src/app/dashboard/chart-js-content.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_material_material_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/dashboard/dialogs/add-sale-dialog.component */ "./src/app/dashboard/dialogs/add-sale-dialog.component.ts");
/* harmony import */ var _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/cdk/portal */ "./node_modules/@angular/cdk/esm5/portal.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};














var BaseModule = /** @class */ (function () {
    function BaseModule() {
    }
    BaseModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_9__["BrowserModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_10__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_10__["ReactiveFormsModule"],
                _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_13__["PortalModule"],
                _app_material_material_module__WEBPACK_IMPORTED_MODULE_11__["MaterialModule"]
            ],
            declarations: [
                _login_login_component__WEBPACK_IMPORTED_MODULE_8__["LoginComponent"],
                _dashboard_chart_js_content__WEBPACK_IMPORTED_MODULE_7__["ChartJsContent"],
                _dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_6__["DashboardComponent"],
                _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_5__["ClientSelectorComponent"],
                _client_information_client_information_component__WEBPACK_IMPORTED_MODULE_4__["ClientInformationComponent"],
                _select_mapper_select_mapper_component__WEBPACK_IMPORTED_MODULE_3__["SelectMapperComponent"],
                _loading_spinner_loading_spinner_component__WEBPACK_IMPORTED_MODULE_2__["LoadingSpinnerComponent"],
                _app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_12__["AgentAddSaleDialog"]
            ],
            entryComponents: [
                _app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_12__["AgentAddSaleDialog"]
            ]
        })
    ], BaseModule);
    return BaseModule;
}());



/***/ }),

/***/ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"modal-header\">\n    <h4 class=\"modal-title\">Filters</h4>\n    <button type=\"button\" mat-icon-button tabindex=\"-1\" (click)=\"onNoClick()\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</div>\n<div class=\"modal-body\">\n    <form [formGroup]=\"form\" class=\"pb-4\">\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <h6>Active Status <small>Select to include:</small></h6>\n                <mat-checkbox [(checked)]=\"showAllStatuses\" (change)=\"changeShowAll($event)\" color=\"primary\">Show All</mat-checkbox><br />\n                <mat-checkbox formControlName=\"active\">Active</mat-checkbox><br />\n                <mat-checkbox formControlName=\"inactive\">Inactive</mat-checkbox>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <mat-form-field>\n                    <mat-label>Compensation</mat-label>\n                    <span matPrefix>$ &nbsp;</span>\n                    <input type=\"text\" matInput formControlName=\"compensation\" (change)=\"updateCompOperatorForm()\" />\n                </mat-form-field>\n\n                <ng-container *ngIf=\"showCompOperator\">\n                    <mat-form-field>\n                        <mat-select formControlName=\"compOperator\">\n                            <mat-option value=\"0\">=</mat-option>\n                            <mat-option value=\"1\"><</mat-option>\n                            <mat-option value=\"2\">></mat-option>\n                            <mat-option value=\"3\"><=</mat-option>\n                            <mat-option value=\"4\">>=</mat-option>\n                        </mat-select>\n                        <mat-hint>Filter compensation amount</mat-hint>\n                    </mat-form-field>\n                </ng-container>\n            </div>\n        </div>\n    </form>\n    <div class=\"float-right\">\n        <button type=\"button\" mat-button (click)=\"onNoClick()\">Cancel</button>\n        <button type=\"button\" mat-button color=\"primary\" (click)=\"saveFilter()\">Save</button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.ts ***!
  \**************************************************************************************/
/*! exports provided: CampaignFilterDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CampaignFilterDialogComponent", function() { return CampaignFilterDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @app/models/campaign-filters.model */ "./src/app/models/campaign-filters.model.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var CampaignFilterDialogComponent = /** @class */ (function () {
    function CampaignFilterDialogComponent(fb, data, ref) {
        this.fb = fb;
        this.data = data;
        this.ref = ref;
        this.showAllStatuses = true;
    }
    CampaignFilterDialogComponent.prototype.ngOnInit = function () {
        this.filter = lodash__WEBPACK_IMPORTED_MODULE_4__["cloneDeep"](this.data.filter);
        this.createForm();
        this.showCompOperator = this.filter.compensation != null;
    };
    CampaignFilterDialogComponent.prototype.onNoClick = function () {
        this.ref.close();
    };
    CampaignFilterDialogComponent.prototype.saveFilter = function () {
        if (this.form.invalid)
            return;
        this.prepareModel();
        this.ref.close(this.filter);
    };
    CampaignFilterDialogComponent.prototype.updateCompOperatorForm = function () {
        this.showCompOperator = this.form.value.compensation != null;
    };
    CampaignFilterDialogComponent.prototype.changeShowAll = function (event) {
        this.showAllStatuses = event.checked;
        if (this.showAllStatuses) {
            this.form.controls.active.patchValue(!this.showAllStatuses);
            this.form.controls.active.disable();
            this.form.controls.inactive.patchValue(!this.showAllStatuses);
            this.form.controls.inactive.disable();
        }
        else {
            this.form.controls.active.enable();
            this.form.controls.inactive.enable();
        }
    };
    CampaignFilterDialogComponent.prototype.createForm = function () {
        this.showAllStatuses = this.filter.activeStatus == null || this.filter.activeStatus === 'all';
        this.form = this.fb.group({
            active: this.fb.control({ value: this.filter.activeStatus === 'active', disabled: this.showAllStatuses }),
            inactive: this.fb.control({ value: this.filter.activeStatus === 'inactive', disabled: this.showAllStatuses }),
            compensation: this.fb.control(this.filter.compensation || ''),
            compOperator: this.fb.control((this.filter.compOperator || _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_1__["CompOperator"].Equals).toString(), [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            location: this.fb.control(this.filter.location)
        });
    };
    CampaignFilterDialogComponent.prototype.prepareModel = function () {
        if (this.showAllStatuses) {
            this.filter.activeStatus = 'all';
        }
        else if (this.form.value.active && !this.form.value.inactive) {
            this.filter.activeStatus = 'active';
        }
        else if (this.form.value.inactive && !this.form.value.active) {
            this.filter.activeStatus = 'inactive';
        }
        else if (this.form.value.active && this.form.value.inactive) {
            this.filter.activeStatus = 'all';
        }
        this.filter.compensation = this.form.value.compensation;
        this.filter.compOperator = this.form.value.compOperator;
        this.filter.location = this.form.value.location;
    };
    CampaignFilterDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-campaign-filter-dialog',
            template: __webpack_require__(/*! ./campaign-filter-dialog.component.html */ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.html"),
            styles: [__webpack_require__(/*! ./campaign-filter-dialog.component.scss */ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], Object, _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"]])
    ], CampaignFilterDialogComponent);
    return CampaignFilterDialogComponent;
}());



/***/ }),

/***/ "./src/app/campaigns/campaign.service.ts":
/*!***********************************************!*\
  !*** ./src/app/campaigns/campaign.service.ts ***!
  \***********************************************/
/*! exports provided: CampaignService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CampaignService", function() { return CampaignService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CampaignService = /** @class */ (function () {
    function CampaignService(http, auth) {
        this.http = http;
        this.auth = auth;
        this.apiUrl = this.auth.apiUrl + 'api/' || '';
        this.api = this.auth.apiUrl + 'api';
    }
    // TODO: do I even use this anywhere?
    // getCampaignsByClient(clientId:number): Promise<any> {
    //   return this.http.get(this.apiUrl + 'clients/' + clientId + '/campaigns').toPromise();
    // }
    /**
     * Returns all active campaigns accessible by the current user
     *
     * @param clientId
     */
    CampaignService.prototype.getCampaigns = function (clientId, activeOnly) {
        if (activeOnly === void 0) { activeOnly = null; }
        var url = activeOnly == null
            ? this.apiUrl + "campaigns/clients/" + clientId + "/active"
            : this.apiUrl + "campaigns/clients/" + clientId + "/active/" + activeOnly;
        return this.http.get(url).toPromise();
    };
    CampaignService.prototype.getCampaignsByClient = function (clientId) {
        return this.http.get(this.api + "/campaigns/clients/" + clientId)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    /**
     * Get campaign entities by agent.
     *
     * @param clientId
     * @param agentId
     */
    CampaignService.prototype.getCampaignsByAgent = function (clientId, agentId) {
        var url = this.apiUrl + "campaigns/clients/" + clientId + "/agents/" + agentId;
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    /**
     * Checks to see if a campaign already exists for this clients by name.
     *
     * @param clientId
     * @param name
     */
    CampaignService.prototype.checkCampaignNameAvailability = function (clientId, name) {
        return this.http.get(this.apiUrl + 'campaigns/clients/' + clientId + '/campaign-name', {
            params: {
                name: name
            }
        }).toPromise();
    };
    /**
     * Save a new/existing campaign entity.
     *
     * @param clientId
     * @param campaignId
     * @param dto
     */
    CampaignService.prototype.saveCampaign = function (clientId, campaignId, dto) {
        var url = campaignId != null
            ? this.apiUrl + 'campaigns/clients/' + clientId + '/campaigns/' + campaignId
            : this.apiUrl + 'campaigns/clients/' + clientId + '/campaigns';
        return this.http
            .post(url, { dto: dto }).toPromise();
    };
    CampaignService.prototype.handleError = function (error) {
        if (error.error instanceof ErrorEvent) {
            // client side network error
            console.log('Error occurred: ', error.error.message || error.message);
        }
        else {
            // backend returned server error
            console.error("\n        Server returned error code " + error.status + ": " + error.error + "\n      ");
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])('There was a network error. Please try again.');
    };
    CampaignService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]])
    ], CampaignService);
    return CampaignService;
}());



/***/ }),

/***/ "./src/app/campaigns/campaigns.component.html":
/*!****************************************************!*\
  !*** ./src/app/campaigns/campaigns.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- <mat-card>\n  <mat-card-content>\n    <h2>{{user.selectedClient.name}}'s Campaigns</h2>\n    <mat-tab-group class=\"campaign-tab-group\" [selectedIndex]=\"activeTab\">\n      <mat-tab label=\"Active\">\n        <div class=\"campaign-tab-content\">\n          <div class=\"mat-elevation-z2 p-3 d-flex justify-content-center\" *ngIf=\"activeTableSource.length === 0\">\n              <h5 class=\"mb-0\">No Active Campaigns</h5>\n          </div>\n          <div class=\"campaigns-table active mat-elevation-z8\" *ngIf=\"activeTableSource.length > 0\">\n            <table mat-table #table [dataSource]=\"activeTableSource\" class=\"active-table\">\n\n              <ng-container matColumnDef=\"name\">\n                <th mat-header-cell *matHeaderCellDef>Name</th>\n                <td mat-cell *matCellDef=\"let item\" class=\"hover\">\n                  {{item.name}}\n                  <i class=\"material-icons clickable\" (click)=\"editCampaign(item)\">create</i>\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"campaignId\">\n                <th mat-header-cell *matHeaderCellDef>Campaign ID</th>\n                <td mat-cell *matCellDef=\"let item\">{{item.campaignId}}</td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"active\">\n                <th mat-header-cell *matHeaderCellDef>Deactivate</th>\n                <td mat-cell *matCellDef=\"let item\">\n                  <button mat-icon-button>\n                    <mat-icon aria-label=\"Deactivate\" color=\"warn\" (click)=\"switchActiveStatus(item)\">clear</mat-icon>\n                  </button>\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"createdAt\">\n                <th mat-header-cell *matHeaderCellDef>Date Added</th>\n                <td mat-cell *matCellDef=\"let item\">{{item.createdAt | date }}</td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"updatedAt\">\n                <th mat-header-cell *matHeaderCellDef>Last Modified</th>\n                <td mat-cell *matCellDef=\"let item\">{{item.updatedAt | date:'short'}}</td>\n              </ng-container>\n\n              <tr mat-header-row *matHeaderRowDef=\"activeTableColumns\"></tr>\n              <tr mat-row *matRowDef=\"let row; columns: activeTableColumns;\"></tr>\n            </table>\n          </div>\n        </div>\n      </mat-tab>\n      <mat-tab label=\"Inactive\">\n        <div class=\"campaign-tab-content\">\n          <div class=\"mat-elevation-z2 p-3 d-flex justify-content-center\" *ngIf=\"inactiveTableSource.length === 0\">\n            <h5 class=\"mb-0\">No Inactive Campaigns</h5>\n          </div>\n          <div class=\"campaigns-table active mat-elevation-z8\" *ngIf=\"inactiveTableSource.length > 0\">\n            <table mat-table #table [dataSource]=\"inactiveTableSource\" class=\"active-table\">\n\n              <ng-container matColumnDef=\"name\">\n                <th mat-header-cell *matHeaderCellDef>Name</th>\n                <td mat-cell *matCellDef=\"let item\">{{item.name}}</td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"campaignId\">\n                <th mat-header-cell *matHeaderCellDef>Campaign ID</th>\n                <td mat-cell *matCellDef=\"let item\">{{item.campaignId}}</td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"active\">\n                <th mat-header-cell *matHeaderCellDef>Activate</th>\n                <td mat-cell *matCellDef=\"let item\">\n                  <button mat-icon-button>\n                    <mat-icon aria-label=\"Activate\" color=\"primary\" (click)=\"switchActiveStatus(item)\">check_cirle_outline</mat-icon>\n                  </button>\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"createdAt\">\n                <th mat-header-cell *matHeaderCellDef>Date Added</th>\n                <td mat-cell *matCellDef=\"let item\">{{item.createdAt | date }}</td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"updatedAt\">\n                <th mat-header-cell *matHeaderCellDef>Last Modified</th>\n                <td mat-cell *matCellDef=\"let item\">{{item.updatedAt | date:'short'}}</td>\n              </ng-container>\n\n              <tr mat-header-row *matHeaderRowDef=\"activeTableColumns\"></tr>\n              <tr mat-row *matRowDef=\"let row; columns: activeTableColumns;\"></tr>\n            </table>\n          </div>\n        </div>\n      </mat-tab>\n    </mat-tab-group>\n  </mat-card-content>\n</mat-card> -->\n\n<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-md-10\">\n            <h6 class=\"display-4\">Campaign Management</h6>\n        </div>\n        <div class=\"col-md-2 d-flex justify-content-end align-items-center\">\n            <button type=\"button\" \n                mat-icon-button \n                color=\"primary\" \n                (click)=\"setFilters()\" \n                [class.filter-active]=\"filterActive\"\n            >\n                <mat-icon>filter_list</mat-icon>\n            </button>\n            <button type=\"button\"\n                class=\"ml-2\"\n                mat-flat-button\n                color=\"primary\"\n                [matBadge]=\"numFilters\"\n                matBadgePosition=\"after\"\n                matBadgeColor=\"accent\"\n                [matBadgeHidden]=\"!filterActive\"\n                matBadgeOverlap=\"true\"\n                (click)=\"clearFilters()\"\n                *ngIf=\"filterActive\"\n            >\n                Clear Filters\n            </button>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-md-6 my-2\" *ngFor=\"let c of (campaigns | async); let i = index\">\n            <div class=\"card hoverable\">\n                <!-- <div class=\"card-header text-center\">{{c.name}}</div> -->\n                <div class=\"card-body px-3 pt-1 pb-2\" [ngClass]=\"c.active ? 'border-top-info' : 'border-top-light'\">\n                    <div class=\"row\">\n                        <div class=\"col-md-10 d-flex align-items-center\">\n                            <h5 class=\"card-title mb-0\" [class.text-muted]=\"!c.active\">{{c.name}}</h5>\n                        </div>\n                        <div class=\"col-md-2 d-flex align-items-start justify-content-end\">\n                            <button mat-icon-button type=\"button\" [matMenuTriggerFor]=\"menu\" class=\"float-right\" [class.text-muted]=\"!c.active\">\n                                <mat-icon>more_vert</mat-icon>\n                            </button>\n                            <mat-menu #menu>\n                                <button mat-menu-item (click)=\"editCampaign(c)\" *ngIf=\"c.active\">Edit</button>\n                                <button mat-menu-item (click)=\"switchActiveStatus(c, i)\">{{c.active ? 'Deactivate' : 'Activate'}}</button>\n                            </mat-menu>\n                        </div>\n                    </div>\n                    \n                    <div \n                        class=\"card-text my-2\" \n                        *ngIf=\"c.mdDetails != null; else noDetail\" \n                        [innerHTML]=\"sanitize(c.mdDetails)\"\n                        [class.campaign-body]=\"c.mdDetails != null\"\n                    ></div>\n                    <ng-template #noDetail>\n                        <div \n                            class=\"card-text font-italic text-muted my-2\"\n                            [class.campaign-body]=\"c.mdDetails != null\"\n                        >No details saved.</div>\n                    </ng-template>\n\n                </div>\n                <div class=\"card-footer d-flex bg-light\" [ngClass]=\"c.compensation != null ? 'justify-content-between' : 'justify-content-end'\">\n                    <small class=\"font-italic text-dark\" *ngIf=\"c.compensation != null\">Compensation: ${{c.compensation}}</small>\n                    <small class=\"font-italic\" [ngClass]=\"!c.active ? 'text-muted' : 'text-info'\">\n                        {{c.active ? 'Active' : 'Inactive'}}\n                    </small>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n</div>\n\n<vs-float-button\n  mat-icon=\"add\"\n  (callback)=\"addCampaign()\"\n  [isOpen]=\"floatIsOpen\"\n></vs-float-button>\n"

/***/ }),

/***/ "./src/app/campaigns/campaigns.component.scss":
/*!****************************************************!*\
  !*** ./src/app/campaigns/campaigns.component.scss ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".campaign-tab-group {\n  border: 1px solid #e8e8e8; }\n\n.campaign-tab-content {\n  padding: 16px; }\n\n.campaigns-table .active {\n  display: flex;\n  flex-direction: column;\n  max-height: 500px;\n  min-width: 300px;\n  overflow: auto; }\n\n.active-table {\n  width: 100%; }\n\n.campaign-body {\n  height: 200px;\n  overflow-y: auto; }\n"

/***/ }),

/***/ "./src/app/campaigns/campaigns.component.ts":
/*!**************************************************!*\
  !*** ./src/app/campaigns/campaigns.component.ts ***!
  \**************************************************/
/*! exports provided: CampaignsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CampaignsComponent", function() { return CampaignsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_campaigns_new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/campaigns/new-campaign-dialog/new-campaign-dialog.component */ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _app_models_role_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/models/role.model */ "./src/app/models/role.model.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/models/campaign-filters.model */ "./src/app/models/campaign-filters.model.ts");
/* harmony import */ var _app_campaigns_campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component */ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var CampaignsComponent = /** @class */ (function () {
    function CampaignsComponent(dialog, session, service, msg, sanitizer) {
        this.dialog = dialog;
        this.session = session;
        this.service = service;
        this.msg = msg;
        this.sanitizer = sanitizer;
        this.defaultFilter = {
            activeStatus: 'all',
            compOperator: _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_10__["CompOperator"].Equals,
            compensation: null,
            location: { name: 'Michigan', abbreviation: 'MI' }
        };
        this.numFilters = 0;
        this.store = {};
        this.activeTableColumns = ['name', 'campaignId', 'active', 'createdAt', 'updatedAt'];
        this.activeTableSource = [];
        this.campaigns = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.inactiveTableSource = [];
        this.floatBtnIsOpen$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](false);
        this.filter = this.defaultFilter;
    }
    CampaignsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.showLoader();
        this.session.userItem.subscribe(function (next) {
            if (next == null)
                return;
            _this.user = next;
            // if the user isn't at least a company admin, then we are going to send them back to the page they
            // were prior to reaching this point...
            if (_this.user.role.role < _app_models_role_model__WEBPACK_IMPORTED_MODULE_8__["UserRole"].companyAdmin)
                _this.session.navigateBack().then(function (result) {
                    console.dir(result);
                });
            _this.service
                .getCampaigns(_this.user.sessionUser.sessionClient, false)
                .then(function (campaigns) {
                _this.store.campaigns = campaigns;
                _this.campaigns.next(campaigns);
                _this.session.hideLoader();
                // TODO: remove after restructuring
                _this.tableData = campaigns;
                _this.sortCampaignsByStatus();
            })
                .catch(_this.msg.showWebApiError);
        });
        this.floatIsOpen = this.floatBtnIsOpen$.asObservable();
    };
    CampaignsComponent.prototype.switchActiveStatus = function (item, index) {
        var _this = this;
        this.session.showLoader();
        index = lodash__WEBPACK_IMPORTED_MODULE_1__["findIndex"](this.store.campaigns, { campaignId: item.campaignId });
        var pendingCampaign = this.store.campaigns[index];
        pendingCampaign.active = !pendingCampaign.active;
        this.service.saveCampaign(this.user.sessionUser.sessionClient, pendingCampaign.campaignId, pendingCampaign)
            .then(function (updated) {
            _this.session.hideLoader();
            _this.store.campaigns.map(function (c) { return c.campaignId === item.campaignId ? updated : c; });
            _this.campaigns.next(_this.store.campaigns);
        })
            .catch(this.msg.showWebApiError);
    };
    CampaignsComponent.prototype.addCampaign = function () {
        var _this = this;
        this.floatBtnIsOpen$.next(true);
        // show dialog with form...
        var ref = this.dialog.open(_app_campaigns_new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_3__["NewCampaignDialogComponent"], {
            width: '650px',
            data: {
                user: this.user
            }
        });
        ref.afterClosed().subscribe(function (result) {
            _this.floatBtnIsOpen$.next(false);
            if (result == null)
                return;
            // do whatever updates that need to happen right here after adding a new campaign
            _this.tableData.push(result);
            _this.sortCampaignsByStatus();
            _this.updateActiveTab();
        });
    };
    CampaignsComponent.prototype.editCampaign = function (item) {
        var _this = this;
        var ref = this.dialog.open(_app_campaigns_new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_3__["NewCampaignDialogComponent"], {
            width: '650px',
            data: {
                user: this.user,
                campaign: item
            }
        });
        ref.afterClosed().subscribe(function (result) {
            if (result == null)
                return;
            for (var i = 0; i < _this.tableData.length; i++) {
                // if the campaign ids don't match, skip to the next iteration
                if (_this.tableData[i].campaignId != result.campaignId)
                    continue;
                _this.tableData[i] = result;
                _this.sortCampaignsByStatus();
                _this.updateActiveTab();
            }
        });
    };
    CampaignsComponent.prototype.setFilters = function () {
        var _this = this;
        this.dialog.open(_app_campaigns_campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_11__["CampaignFilterDialogComponent"], {
            width: '350px',
            data: {
                filter: this.filter
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            _this.filter = result;
            _this.updateCampaignsByFilter();
        });
    };
    CampaignsComponent.prototype.updateCampaignsByFilter = function () {
        var _this = this;
        var result;
        this.numFilters = 0;
        if (this.filter.activeStatus === 'all') {
            result = this.store.campaigns;
            this.numFilters++;
        }
        else {
            if (this.filter.activeStatus === 'active') {
                result = lodash__WEBPACK_IMPORTED_MODULE_1__["filter"](this.store.campaigns, function (c) {
                    return c.active;
                });
                this.numFilters++;
            }
            if (this.filter.activeStatus === 'inactive') {
                result = lodash__WEBPACK_IMPORTED_MODULE_1__["filter"](this.store.campaigns, function (c) {
                    return !c.active;
                });
                this.numFilters++;
            }
        }
        if (this.filter.compensation > 0) {
            if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_10__["CompOperator"].Equals) {
                result = lodash__WEBPACK_IMPORTED_MODULE_1__["filter"](result, function (c) {
                    return c.compensation === _this.filter.compensation;
                });
            }
            else if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_10__["CompOperator"].GreaterThan) {
                result = lodash__WEBPACK_IMPORTED_MODULE_1__["filter"](result, function (c) {
                    return c.compensation > _this.filter.compensation;
                });
            }
            else if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_10__["CompOperator"].GreaterThanEqualTo) {
                result = lodash__WEBPACK_IMPORTED_MODULE_1__["filter"](result, function (c) {
                    return c.compensation >= _this.filter.compensation;
                });
            }
            else if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_10__["CompOperator"].LessThan) {
                result = lodash__WEBPACK_IMPORTED_MODULE_1__["filter"](result, function (c) {
                    return c.compensation < _this.filter.compensation;
                });
            }
            else if (this.filter.compOperator == _app_models_campaign_filters_model__WEBPACK_IMPORTED_MODULE_10__["CompOperator"].LessThanEqualTo) {
                result = lodash__WEBPACK_IMPORTED_MODULE_1__["filter"](result, function (c) {
                    return c.compensation <= _this.filter.compensation;
                });
            }
            this.numFilters++;
        }
        // if(this.filter.location != null) {
        // add this... 
        // result = _.filter(result, (c:ICampaign) => {
        //     return c.
        // });
        // }
        if (result != null)
            this.campaigns.next(result);
        this.filterActive = true;
    };
    CampaignsComponent.prototype.clearFilters = function () {
        this.filterActive = false;
        this.campaigns.next(this.store.campaigns);
        this.filter = this.defaultFilter;
        this.numFilters = 0;
    };
    CampaignsComponent.prototype.sanitize = function (value) {
        return this.sanitizer.bypassSecurityTrustHtml(value);
    };
    // PRIVATE METHODS
    CampaignsComponent.prototype.sortCampaignsByStatus = function () {
        this.activeTableSource = [];
        this.inactiveTableSource = [];
        for (var i = 0; i < this.tableData.length; i++) {
            var item = this.tableData[i];
            if (item.active) {
                this.activeTableSource.push(item);
            }
            else {
                this.inactiveTableSource.push(item);
            }
        }
        this.activeTableSource = lodash__WEBPACK_IMPORTED_MODULE_1__["sortBy"](this.activeTableSource, ['name']);
        this.inactiveTableSource = lodash__WEBPACK_IMPORTED_MODULE_1__["sortBy"](this.inactiveTableSource, ['name']);
    };
    CampaignsComponent.prototype.updateActiveTab = function () {
        if (this.activeTableSource.length === 0 && this.inactiveTableSource.length > 0) {
            this.activeTab = 1;
        }
        else if (this.inactiveTableSource.length === 0 && this.activeTableSource.length > 0) {
            this.activeTab = 0;
        }
    };
    CampaignsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-campaigns',
            template: __webpack_require__(/*! ./campaigns.component.html */ "./src/app/campaigns/campaigns.component.html"),
            styles: [__webpack_require__(/*! ./campaigns.component.scss */ "./src/app/campaigns/campaigns.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialog"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_6__["CampaignService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_7__["MessageService"],
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_9__["DomSanitizer"]])
    ], CampaignsComponent);
    return CampaignsComponent;
}());

var TABLE_DATA = [
    { campaignId: 1, clientId: 0, name: 'Consumers', active: true, createdAt: new Date(), updatedAt: new Date() },
    { campaignId: 2, clientId: 0, name: 'DTE', active: true, createdAt: new Date(), updatedAt: new Date() },
    { campaignId: 3, clientId: 0, name: 'Spark', active: false, createdAt: new Date(), updatedAt: new Date() }
];


/***/ }),

/***/ "./src/app/campaigns/campaigns.module.ts":
/*!***********************************************!*\
  !*** ./src/app/campaigns/campaigns.module.ts ***!
  \***********************************************/
/*! exports provided: CampaignsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CampaignsModule", function() { return CampaignsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _campaigns_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./campaigns.component */ "./src/app/campaigns/campaigns.component.ts");
/* harmony import */ var _app_material_material_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./new-campaign-dialog/new-campaign-dialog.component */ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/fab-float-btn/fab-float-btn.module */ "./src/app/fab-float-btn/fab-float-btn.module.ts");
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-quill */ "./node_modules/ngx-quill/fesm5/ngx-quill.js");
/* harmony import */ var _campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./campaign-filter-dialog/campaign-filter-dialog.component */ "./src/app/campaigns/campaign-filter-dialog/campaign-filter-dialog.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};










var CampaignsModule = /** @class */ (function () {
    function CampaignsModule() {
    }
    CampaignsModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _app_material_material_module__WEBPACK_IMPORTED_MODULE_3__["MaterialModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ReactiveFormsModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__["BrowserModule"],
                _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_7__["FabFloatBtnModule"],
                ngx_quill__WEBPACK_IMPORTED_MODULE_8__["QuillModule"]
            ],
            declarations: [
                _campaigns_component__WEBPACK_IMPORTED_MODULE_2__["CampaignsComponent"],
                _new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_4__["NewCampaignDialogComponent"],
                _campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_9__["CampaignFilterDialogComponent"]
            ],
            entryComponents: [
                _new_campaign_dialog_new_campaign_dialog_component__WEBPACK_IMPORTED_MODULE_4__["NewCampaignDialogComponent"],
                _campaign_filter_dialog_campaign_filter_dialog_component__WEBPACK_IMPORTED_MODULE_9__["CampaignFilterDialogComponent"]
            ]
        })
    ], CampaignsModule);
    return CampaignsModule;
}());



/***/ }),

/***/ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"modal-header\">\n    <h3 class=\"modal-title\">Add a Campaign</h3>\n    <button type=\"button\" mat-icon-button (click)=\"onNoClick()\" tabindex=\"-1\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</div>\n<div class=\"modal-body\">\n    <form [formGroup]=\"form\" (ngSubmit)=\"saveCampaign()\">\n        <div class=\"row\">\n            <div class=\"col-md-5\">\n                <mat-form-field>\n                    <input type=\"text\" matInput placeholder=\"Name\" formControlName=\"name\" />\n                    <mat-error *ngIf=\"form.get('name').hasError('required')\">\n                        Please enter a name.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-7 d-flex align-items-center\">\n                <mat-checkbox hidden formControlName=\"active\">Active</mat-checkbox>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <mat-form-field>\n                    <span matPrefix>$ &nbsp;</span>\n                    <input matInput type=\"text\" placeholder=\"Compensation\" formControlName=\"compensation\" />\n                    <mat-error *ngIf=\"form.get('compensation').hasError('pattern')\">\n                        Please enter numbers only.\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n        \n        <div class=\"row mb-4\">\n            <div class=\"col-md-12\">\n                <mat-accordion>\n                    <mat-expansion-panel expanded=\"true\">\n                        <mat-expansion-panel-header>\n                            <mat-panel-title>\n                                Detail and Info\n                            </mat-panel-title>\n                        </mat-expansion-panel-header>\n\n                        <p class=\"font-italic text-muted\">\n                            This is some brief information that describes the campaign and gives pertinent information to employees.\n                        </p>\n                        <quill-editor \n                            [style]=\"{height: '200px'}\" \n                            formControlName=\"mdDetails\" \n                            (onContentChanged)=\"quillContentChanged($event)\"\n                            [modules]=\"modules\"\n                        ></quill-editor>\n                    </mat-expansion-panel>\n\n                    <mat-expansion-panel>\n                        <mat-expansion-panel-header>\n                            <mat-panel-title>\n                                How we get started\n                            </mat-panel-title>\n                        </mat-expansion-panel-header>\n\n                        <p class=\"font-italic text-muted\">\n                            Onboarding. No problem. Let's tell the employees how to get it done. \n                        </p>\n                        <quill-editor \n                            [style]=\"{height: '200px'}\" \n                            formControlName=\"mdOnboarding\" \n                            (onContentChanged)=\"quillContentChanged($event)\"\n                            [modules]=\"modules\"\n                        ></quill-editor>\n                    </mat-expansion-panel>\n\n                    <mat-expansion-panel>\n                        <mat-expansion-panel-header>\n                            <mat-panel-title>\n                                Additional Info\n                            </mat-panel-title>\n                        </mat-expansion-panel-header>\n\n                        <p class=\"font-italic text-muted\">\n                            Is there additional information you need to share about this campaign? (Restrictions, permit necessities, etc)\n                        </p>\n                        <quill-editor \n                            [style]=\"{height: '200px'}\" \n                            formControlName=\"mdOther\" \n                            (onContentChanged)=\"quillContentChanged($event)\"\n                            [modules]=\"modules\"\n                        ></quill-editor>\n                    </mat-expansion-panel>\n                </mat-accordion>\n            </div>\n        </div>\n\n        <!-- <div class=\"row mb-4\">\n            <div class=\"col-md-12\">\n                <p class=\"h6\">Details and Info</p>\n                <p class=\"font-italic text-muted\">\n                    This is some brief information that describes the campaign and gives pertinent information to employees.\n                </p>\n                <quill-editor \n                    [style]=\"{height: '200px'}\" \n                    formControlName=\"mdDetails\" \n                    (onContentChanged)=\"quillContentChanged($event)\"\n                    [modules]=\"modules\"\n                ></quill-editor>\n            </div>\n        </div> -->\n        <!-- <div class=\"row mb-4\">\n            <div class=\"col-md-12\">\n                <p class=\"h6\">How to get started</p>\n                <p class=\"font-italic text-muted\">\n                    Onboarding. No problem. Let's tell the employees how to get it done. \n                </p>\n                <quill-editor \n                    [style]=\"{height: '200px'}\" \n                    formControlName=\"mdOnboarding\" \n                    (onContentChanged)=\"quillContentChanged($event)\"\n                    [modules]=\"modules\"\n                ></quill-editor>\n            </div>\n        </div> -->\n        <!-- <div class=\"row mb-4\">\n            <div class=\"col-md-12\">\n                <p class=\"h6\">Additional Info</p>\n                <p class=\"font-italic text-muted\">\n                    Is there additional information you need to share about this campaign? (Restrictions, permit necessities, etc)\n                </p>\n                <quill-editor \n                    [style]=\"{height: '200px'}\" \n                    formControlName=\"mdOther\" \n                    (onContentChanged)=\"quillContentChanged($event)\"\n                    [modules]=\"modules\"\n                ></quill-editor>\n            </div>\n        </div> -->\n    </form>\n    <div class=\"float-right\">\n        <button mat-button type=\"button\" (click)=\"cancel()\">Cancel</button>\n        <button mat-button color=\"primary\" (click)=\"saveCampaign()\">Save</button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.scss":
/*!**********************************************************************************!*\
  !*** ./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.scss ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ":host .mat-dialog-container {\n  padding-top: 0.75rem !important; }\n"

/***/ }),

/***/ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.ts ***!
  \********************************************************************************/
/*! exports provided: NewCampaignDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NewCampaignDialogComponent", function() { return NewCampaignDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-quill */ "./node_modules/ngx-quill/fesm5/ngx-quill.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var NewCampaignDialogComponent = /** @class */ (function () {
    function NewCampaignDialogComponent(diagRef, data, fb, service, session, msg) {
        this.diagRef = diagRef;
        this.data = data;
        this.fb = fb;
        this.service = service;
        this.session = session;
        this.msg = msg;
        // set to true if an existing campaign has been opened
        this.hasExistingCampaign = false;
        this.modules = {
            toolbar: [
                ['bold', 'italic', 'underline', 'strike'],
                [{ 'font': [] }],
                [{ 'color': [], 'background': [] }],
                [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
                [{ 'list': 'ordered' }, { 'list': 'bullet' }],
                [{ 'align': [] }],
                ['blockquote'],
                [{ 'indent': '-1' }, { 'indent': '+1' }],
                ['link', 'image'] // media
            ]
        };
        this.hasExistingCampaign = this.data.campaign != null;
        if (!this.hasExistingCampaign) {
            this.createForm();
            this.campaign = this.createEmptyCampaign();
        }
        else {
            this.campaign = data.campaign;
            this.createForm(this.campaign);
        }
        this.user = this.data.user;
    }
    NewCampaignDialogComponent.prototype.ngOnInit = function () {
        this.session.loadTokenStorageItem();
    };
    NewCampaignDialogComponent.prototype.onNoClick = function () {
        this.diagRef.close();
    };
    /**
     * Save a new/existing campaign entity to the database.
     *
     */
    NewCampaignDialogComponent.prototype.saveCampaign = function () {
        var _this = this;
        // If this dialog had an existing campaign passed to it when it opened
        // we are going to skip checking if one exists, so that we don't get an error
        // telling us we can't update.
        if (this.hasExistingCampaign) {
            this.campaign = this.prepareCampaign();
            this.service
                .saveCampaign(this.user.sessionUser.sessionClient, this.campaign.campaignId, this.campaign)
                .then(function (updated) {
                _this.diagRef.close(updated);
            })
                .catch(this.msg.showWebApiError);
        }
        else {
            this.service
                .checkCampaignNameAvailability(1, this.form.controls.name.value)
                .then(function (exists) {
                if (exists) {
                    _this.msg.addMessage('Name already exists.', 'dismiss', 6000);
                    return;
                }
                _this.campaign = _this.prepareCampaign();
                // FINISH THE METHOD HERE TO SAVE THE NEW CAMPAIGN
                _this.service
                    .saveCampaign(_this.user.sessionUser.sessionClient, null, _this.campaign)
                    .then(function (campaign) {
                    _this.diagRef.close(campaign);
                })
                    .catch(_this.msg.showWebApiError);
            })
                .catch(this.msg.showWebApiError);
        }
    };
    NewCampaignDialogComponent.prototype.cancel = function () {
        this.diagRef.close(null);
    };
    NewCampaignDialogComponent.prototype.quillContentChanged = function (event) {
        // console.dir(this.form.value);
    };
    // PRIVATE METHODS
    NewCampaignDialogComponent.prototype.prepareCampaign = function () {
        var form = this.form.value;
        return {
            campaignId: this.campaign.campaignId || null,
            clientId: this.user.sessionUser.sessionClient,
            name: form.name,
            active: form.active,
            compensation: form.compensation,
            mdDetails: form.mdDetails,
            mdOnboarding: form.mdOnboarding,
            mdOther: form.mdOther
        };
    };
    NewCampaignDialogComponent.prototype.createForm = function (campaign) {
        if (campaign === void 0) { campaign = null; }
        this.form = this.fb.group({
            name: this.fb.control(campaign == null ? '' : campaign.name, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
            active: this.fb.control(campaign == null ? true : campaign.active),
            compensation: this.fb.control(campaign == null ? '' : campaign.compensation || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].pattern(/(?=.*?\d)^\$?(([1-9]\d{0,2}(,\d{3})*)|\d+)?(\.\d{1,2})?$/)]),
            mdDetails: this.fb.control(campaign == null ? '' : campaign.mdDetails || ''),
            mdOnboarding: this.fb.control(campaign == null ? '' : campaign.mdOnboarding || ''),
            mdOther: this.fb.control(campaign == null ? '' : campaign.mdOther || '')
        });
    };
    NewCampaignDialogComponent.prototype.createEmptyCampaign = function () {
        return {
            campaignId: null,
            clientId: null,
            name: null,
            active: true,
            compensation: null,
            mdDetails: null,
            mdOnboarding: null,
            mdOther: null
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('editor'),
        __metadata("design:type", ngx_quill__WEBPACK_IMPORTED_MODULE_6__["QuillEditorComponent"]
        // set to true if an existing campaign has been opened
        )
    ], NewCampaignDialogComponent.prototype, "editor", void 0);
    NewCampaignDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-new-campaign-dialog',
            template: __webpack_require__(/*! ./new-campaign-dialog.component.html */ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.html"),
            styles: [__webpack_require__(/*! ./new-campaign-dialog.component.scss */ "./src/app/campaigns/new-campaign-dialog/new-campaign-dialog.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_3__["CampaignService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_5__["MessageService"]])
    ], NewCampaignDialogComponent);
    return NewCampaignDialogComponent;
}());



/***/ }),

/***/ "./src/app/client-information/client-information.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/client-information/client-information.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n\n<div>\n  <mat-card>\n    <form #f=\"ngForm\" (ngSubmit)=\"save(f)\">\n      <mat-card-header class=\"justify-content-between\">\n        <mat-card-title>\n          <h3>Organization Details</h3>\n        </mat-card-title>\n        <mat-slide-toggle\n          [ngClass]=\"{'float-right': true, 'text-muted': !editMode, 'text-light': editMode}\"\n          [checked]=\"editMode\"\n          (change)=\"changeEditMode(f)\"\n          [disabled]=\"f.touched\"\n          color=\"primary\"\n        ></mat-slide-toggle>\n      </mat-card-header>\n      <mat-card-content class=\"flex-column\">\n        <mat-form-field>\n          <mat-label>Company Name</mat-label>\n          <input type=\"text\" name=\"firstName\" [(ngModel)]=\"client.name\" matInput [disabled]=\"!editMode\" />\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>Street Address</mat-label>\n          <input type=\"text\" matInput [value]=\"client.street\" [disabled]=\"!editMode\" />\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>City</mat-label>\n          <input type=\"text\" matInput [value]=\"client.city\" [disabled]=\"!editMode\" />\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>State</mat-label>\n          <mat-select placeholder=\"State\" [disabled]=\"!editMode\" (change)=\"onStateChange($event)\" [(value)]=\"client.state\">\n            <mat-option *ngFor=\"let state of states\" [value]=\"state\">\n              {{state}}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n      </mat-card-content>\n      <mat-card-actions class=\"d-flex justify-content-between mb-0\">\n        <button mat-button type=\"button\" *ngIf=\"editMode\" (click)=\"cancel(f)\">Cancel</button>\n        <button mat-raised-button type=\"submit\" color=\"primary\" *ngIf=\"editMode\">Save</button>\n      </mat-card-actions>\n    </form>\n  </mat-card>\n  <!-- <mat-card>\n    <mat-card-header class=\"justify-content-between\">\n      <mat-card-title>\n        <h4>Settings</h4>\n      </mat-card-title>\n      <mat-slide-toggle\n        [ngClass]=\"{'float-right': true, 'text-muted': !editOptions, 'text-light': editOptions}\"\n        [checked]=\"editOptions\"\n        (change)=\"changeOptionsMode()\"\n        color=\"primary\"\n      ></mat-slide-toggle>\n    </mat-card-header>\n    <mat-card-content>\n      <mat-checkbox\n        [(ngModel)]=\"client.options.hasOnboarding\"\n        matTooltip=\"Enables the onboarding feature on the user's profile.\"\n        [matTooltipPosition]=\"tooltipPosition\"\n        [disabled]=\"!editOptions\"\n      >Onboarding</mat-checkbox>\n    </mat-card-content>\n    <mat-card-actions class=\"d-flex justify-content-end mx-1 mb-0\">\n      <button\n        mat-raised-button\n        type=\"button\"\n        color=\"primary\"\n        *ngIf=\"editOptions\"\n        (click)=\"saveOptions()\"\n      >Save</button>\n    </mat-card-actions>\n  </mat-card> -->\n  <mat-card class=\"mat-elevation-z8\">\n    <mat-card-header>\n      <mat-card-title>\n        <h4>Sale Status Configuration</h4>\n      </mat-card-title>\n      <mat-card-subtitle>\n        The following is your organization's sale statuses. These should be updated to be used on your invoices based on the campaigns\n        you work with.\n      </mat-card-subtitle>\n    </mat-card-header>\n\n    <mat-card-content class=\"status-table\">\n      <button type=\"button\" mat-raised-button (click)=\"showAddSaleStatusDialog()\" color=\"primary\" class=\"ml-4 mr-2\">\n        <mat-icon>add</mat-icon> Add\n      </button>\n      <mat-checkbox [(ngModel)]=\"showAllStatuses\" (change)=\"filterStatuses()\" [disabled]=\"!hasInactiveStatuses\" class=\"mx-2 mt-1\">Show All</mat-checkbox>\n      <table mat-table [dataSource]=\"saleStatuses$\">\n        <tr mat-header-row *matHeaderRowDef=\"displayColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayColumns\"></tr>\n\n        <ng-container matColumnDef=\"name\">\n          <th mat-header-cell *matHeaderCellDef>Name</th>\n          <td mat-cell *matCellDef=\"let item\">\n            {{item.name}}\n          </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"isActive\">\n          <th mat-header-cell *matHeaderCellDef>Active</th>\n          <td mat-cell *matCellDef=\"let item\">\n            <mat-checkbox [(ngModel)]=\"item.isActive\" (change)=\"updateActiveStatus(item)\">Active</mat-checkbox>\n          </td>\n        </ng-container>\n\n      </table>\n    </mat-card-content>\n  </mat-card>\n</div>\n"

/***/ }),

/***/ "./src/app/client-information/client-information.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/client-information/client-information.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "mat-form-field {\n  display: block; }\n\nmat-card {\n  margin: 1rem 0 1rem 0; }\n\n:host ::ng-deep .mat-slide-toggle-thumb {\n  text-align: center;\n  vertical-align: middle; }\n\n:host ::ng-deep .mat-slide-toggle-thumb::before {\n    font-size: .8rem;\n    font-family: \"Material Icons\";\n    content: \"\\e3c9\"; }\n\n.status-table table {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/client-information/client-information.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/client-information/client-information.component.ts ***!
  \********************************************************************/
/*! exports provided: ClientInformationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientInformationComponent", function() { return ClientInformationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../message.service */ "./src/app/message.service.ts");
/* harmony import */ var _client_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./client.service */ "./src/app/client-information/client.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/client-information/dialogs/add-sale-status.component */ "./src/app/client-information/dialogs/add-sale-status.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var ClientInformationComponent = /** @class */ (function () {
    function ClientInformationComponent(msg, clientService, userService, session, fb, dailog) {
        this.msg = msg;
        this.clientService = clientService;
        this.userService = userService;
        this.session = session;
        this.fb = fb;
        this.dailog = dailog;
        this.displayColumns = ['name', 'isActive'];
        this.saleStatuses$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]([]);
        this.tooltipPosition = 'after';
        this.states = ['AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY'];
        this.client = this.setEmptyClient();
    }
    ClientInformationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.loadTokenStorageItem();
        this.userService.user.subscribe(function (next) {
            if (next == null)
                return;
            _this.user = next;
            _this.client = _this.user.sessionUser.client;
            _this.clients = _this.user.clients;
            _this.clientService.getSaleStatuses(_this.client.clientId)
                .subscribe(function (statuses) {
                _this.allStatuses = statuses;
                _this.evaluateShowAllStatus();
                var activeStatuses = lodash__WEBPACK_IMPORTED_MODULE_5__["filter"](statuses, function (s) { return s.isActive; });
                _this.saleStatuses$.next(activeStatuses);
                _this.createSaleStatusForm();
                var defaults = [];
                lodash__WEBPACK_IMPORTED_MODULE_5__["forEach"](statuses, function (s) {
                    if (s.clientId > 0)
                        return;
                    defaults.push(s);
                });
                if (defaults.length > 0) {
                    _this.clientService.setDefaultStatuses(_this.client.clientId, defaults)
                        .subscribe(function (results) {
                        _this.saleStatuses$.next(results);
                    });
                }
            });
        });
    };
    ClientInformationComponent.prototype.filterStatuses = function () {
        var filteredStatusList = this.showAllStatuses
            ? this.allStatuses
            : lodash__WEBPACK_IMPORTED_MODULE_5__["filter"](this.allStatuses, function (s) { return s.isActive; });
        this.saleStatuses$.next(filteredStatusList);
    };
    ClientInformationComponent.prototype.save = function (f) {
        if (f.valid) {
            if (this.client.clientId > 0) {
                this.clientService.updateClient(this.client);
                this.editMode = !this.editMode;
                if (this.client.clientId > 0)
                    f.reset();
            }
        }
    };
    ClientInformationComponent.prototype.cancel = function (f) {
        this.client = this.user.sessionUser.client;
        this.editMode = !this.editMode;
        f.reset();
    };
    ClientInformationComponent.prototype.changeEditMode = function (f) {
        if (!f.dirty) {
            this.editMode = !this.editMode;
        }
        else {
            f.reset();
        }
    };
    ClientInformationComponent.prototype.onStateChange = function ($evt) {
        this.client.state = $evt.value;
    };
    ClientInformationComponent.prototype.changeOptionsMode = function () {
        this.editOptions = !this.editOptions;
    };
    ClientInformationComponent.prototype.saveOptions = function () {
        this.clientService.updateClientOptions(this.user.sessionUser.client.options);
    };
    ClientInformationComponent.prototype.updateActiveStatus = function (saleStatus) {
        var _this = this;
        this.clientService.updateSaleStatus(saleStatus.clientId, saleStatus)
            .subscribe(function (item) {
            _this.msg.addMessage('Successfully updated!', 'dismiss', 2500);
            _this.allStatuses.map(function (s) {
                if (s.saleStatusId != item.saleStatusId)
                    return s;
                s = item;
                return s;
            });
            _this.evaluateShowAllStatus();
        });
    };
    ClientInformationComponent.prototype.showAddSaleStatusDialog = function () {
        var _this = this;
        var ref = this.dailog.open(_app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_9__["AddSaleStatusDialog"], {
            width: '400px'
        });
        ref.afterClosed().subscribe(function (result) {
            if (result == null)
                return;
            var dto = {
                saleStatusId: null,
                name: result.name,
                isActive: result.isActive,
                clientId: _this.client.clientId
            };
            _this.clientService.createSaleStatus(_this.client.clientId, dto)
                .subscribe(function (result) {
                _this.msg.addMessage('Successfully saved status.', 'dismiss', 3000);
                _this.allStatuses.push(result);
                _this.allStatuses = lodash__WEBPACK_IMPORTED_MODULE_5__["sortBy"](_this.allStatuses, ['name']);
                _this.evaluateShowAllStatus();
            });
        });
    };
    ClientInformationComponent.prototype.evaluateShowAllStatus = function () {
        this.hasInactiveStatuses = lodash__WEBPACK_IMPORTED_MODULE_5__["find"](this.allStatuses, function (s) { return !s.isActive; }) != null;
        this.showAllStatuses = this.hasInactiveStatuses
            ? this.showAllStatuses
            : false;
    };
    ClientInformationComponent.prototype.setEmptyClient = function () {
        return {
            clientId: 0,
            active: false,
            city: null,
            name: null,
            options: {
                clientId: 0,
                hasOnboarding: false,
                optionsId: 0
            },
            phone: null,
            state: null,
            street: null,
            taxid: null,
            zip: null
        };
    };
    ClientInformationComponent.prototype.createSaleStatusForm = function () {
        var _this = this;
        var statuses = this.saleStatuses$.getValue();
        var formArray = [];
        if (statuses.length > 0) {
            statuses.forEach(function (s) {
                formArray.push(_this.createSaleFormGroup(s));
            });
            formArray.push(this.createSaleFormGroup());
        }
        else {
            formArray.push(this.createSaleFormGroup());
        }
        return this.fb.group({
            statuses: formArray
        });
    };
    ClientInformationComponent.prototype.createSaleFormGroup = function (status) {
        if (status === void 0) { status = null; }
        status = status == null
            ? { saleStatusId: null, name: null, isActive: false, clientId: null }
            : status;
        return this.fb.group({
            name: this.fb.control(status.name || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
            isActive: this.fb.control(status.isActive)
        });
    };
    ClientInformationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-client-information',
            template: __webpack_require__(/*! ./client-information.component.html */ "./src/app/client-information/client-information.component.html"),
            styles: [__webpack_require__(/*! ./client-information.component.scss */ "./src/app/client-information/client-information.component.scss")]
        }),
        __metadata("design:paramtypes", [_message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"],
            _client_service__WEBPACK_IMPORTED_MODULE_3__["ClientService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_6__["UserService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_7__["SessionService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"],
            _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatDialog"]])
    ], ClientInformationComponent);
    return ClientInformationComponent;
}());



/***/ }),

/***/ "./src/app/client-information/client.service.ts":
/*!******************************************************!*\
  !*** ./src/app/client-information/client.service.ts ***!
  \******************************************************/
/*! exports provided: ClientService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientService", function() { return ClientService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../message.service */ "./src/app/message.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ClientService = /** @class */ (function () {
    function ClientService(http, router, auth, userService, msg, session) {
        var _this = this;
        this.http = http;
        this.router = router;
        this.auth = auth;
        this.userService = userService;
        this.msg = msg;
        this.session = session;
        this.dataStore = {
            client: {},
            options: {},
            campaigns: []
        };
        this.url = this.auth.apiUrl;
        this.client$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](null);
        this.options$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](null);
        this.campaigns$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](null);
        this.client = this.client$.asObservable();
        this.options = this.options$.asObservable();
        this.campaigns = this.campaigns$.asObservable();
        this.userService.user.subscribe(function (next) {
            if (next == null)
                return;
            _this.user = next;
            // store client
            _this.dataStore.client = next.sessionUser.client;
            _this.client$.next(_this.dataStore.client);
            // store client options
            _this.dataStore.options = next.sessionUser.client.options;
            _this.options$.next(_this.dataStore.options);
            // this.loadCampaigns();
        });
    }
    ClientService.prototype.updateClient = function (client) {
        var _this = this;
        this.http.post(this.url + 'api/clients/' + client.clientId, client)
            .subscribe(function (data) {
            _this.dataStore.client = data;
            _this.client$.next(Object.assign({}, _this.dataStore.client));
        }, function (err) { return console.dir(err); });
    };
    ClientService.prototype.loadClientOptions = function () {
        var _this = this;
        this.http.get(this.url + 'api/clients/' + this.user.sessionUser.sessionClient)
            .subscribe(function (options) {
            _this.dataStore.options = options;
            _this.options$.next(_this.dataStore.options);
        }, function (err) { return console.dir(err); });
    };
    ClientService.prototype.updateClientOptions = function (options) {
        var _this = this;
        this.http.post(this.url + 'api/clients/' + options.clientId + '/client-options', options)
            .subscribe(function (next) {
            _this.dataStore.options = next;
            _this.dataStore.client.options = _this.dataStore.options;
            _this.options$.next(_this.dataStore.options);
            _this.client$.next(_this.dataStore.client);
            _this.user.sessionUser.client = _this.dataStore.client;
            _this.userService.cacheUser(_this.user);
        }, function (err) { return console.dir(err); });
    };
    ClientService.prototype.loadCampaigns = function () {
        var _this = this;
        this.http.get(this.url + 'api/clients/' + this.user.sessionUser.sessionClient + '/campaigns')
            .subscribe(function (next) {
            _this.dataStore.campaigns = next;
            _this.campaigns$.next(_this.dataStore.campaigns);
        });
    };
    ClientService.prototype.getSaleStatuses = function (clientId) {
        var url = this.url + "api/clients/" + clientId + "/sale-statuses";
        return this.http.get(url);
    };
    ClientService.prototype.updateSaleStatus = function (clientId, dto) {
        var url = this.url + "api/clients/" + clientId + "/sale-statuses/" + dto.saleStatusId;
        return this.http.post(url, dto);
    };
    ClientService.prototype.setDefaultStatuses = function (clientId, dtoList) {
        var url = this.url + "api/clients/" + clientId + "/sale-statuses/all";
        return this.http.post(url, dtoList);
    };
    ClientService.prototype.createSaleStatus = function (clientId, dto) {
        var url = this.url + "api/clients/" + clientId + "/sale-statuses";
        return this.http.post(url, dto);
    };
    ClientService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"],
            _message_service__WEBPACK_IMPORTED_MODULE_3__["MessageService"],
            _session_service__WEBPACK_IMPORTED_MODULE_7__["SessionService"]])
    ], ClientService);
    return ClientService;
}());



/***/ }),

/***/ "./src/app/client-information/dialogs/add-sale-status.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/client-information/dialogs/add-sale-status.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-header\">\n    <h3 class=\"modal-title\">Add Sale Status</h3>\n    <span class=\"clickable float-right\">\n        <i class=\"material-icons\" (click)=\"onNoClick()\">clear</i>\n    </span>\n</div>\n<div class=\"modal-body\">\n    <form [formGroup]=\"form\">\n        <mat-form-field class=\"wp-100\" [hideRequiredMarker]=\"true\">\n        <input matInput placeholder=\"Status Description\" formControlName=\"name\" required />\n        </mat-form-field>\n    </form>\n    <div class=\"float-right\">\n        <button mat-button (click)=\"onNoClick()\">Cancel</button>\n        <button mat-raised-button [mat-dialog-close]=\"form.value\" color=\"primary\" [disabled]=\"form.invalid || form.pristine\">Save</button>\n    </div>\n</div>\n\n"

/***/ }),

/***/ "./src/app/client-information/dialogs/add-sale-status.component.scss":
/*!***************************************************************************!*\
  !*** ./src/app/client-information/dialogs/add-sale-status.component.scss ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/client-information/dialogs/add-sale-status.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/client-information/dialogs/add-sale-status.component.ts ***!
  \*************************************************************************/
/*! exports provided: AddSaleStatusDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddSaleStatusDialog", function() { return AddSaleStatusDialog; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/client-information/client.service */ "./src/app/client-information/client.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var AddSaleStatusDialog = /** @class */ (function () {
    function AddSaleStatusDialog(ref, data, fb, clientService) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.clientService = clientService;
    }
    AddSaleStatusDialog.prototype.ngOnInit = function () {
        this.createForm();
    };
    AddSaleStatusDialog.prototype.onNoClick = function () {
        this.ref.close();
    };
    AddSaleStatusDialog.prototype.createForm = function () {
        this.form = this.fb.group({
            name: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            isActive: this.fb.control(true)
        });
    };
    AddSaleStatusDialog.prototype.resetForm = function () {
        this.form.patchValue({
            name: null,
            isActive: true
        });
    };
    AddSaleStatusDialog = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'add-sale-status-dialog',
            template: __webpack_require__(/*! ./add-sale-status.component.html */ "./src/app/client-information/dialogs/add-sale-status.component.html"),
            styles: [__webpack_require__(/*! ./add-sale-status.component.scss */ "./src/app/client-information/dialogs/add-sale-status.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_3__["ClientService"]])
    ], AddSaleStatusDialog);
    return AddSaleStatusDialog;
}());



/***/ }),

/***/ "./src/app/client-selector/client-selector.component.css":
/*!***************************************************************!*\
  !*** ./src/app/client-selector/client-selector.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/client-selector/client-selector.component.html":
/*!****************************************************************!*\
  !*** ./src/app/client-selector/client-selector.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div>\n  <h2 mat-dialog-title>Current Client</h2>\n  <mat-dialog-content>\n    <mat-form-field>\n      <mat-select [(ngModel)]=\"user.sessionUser.sessionClient\">\n        <mat-option *ngFor=\"let c of data.clients\" [value]=\"c.clientId\">{{c.name}}</mat-option>\n      </mat-select>\n      <mat-error *ngIf=\"clientControl.hasError('required')\">Please choose a client.</mat-error>\n    </mat-form-field>\n  </mat-dialog-content>\n  <mat-dialog-actions class=\"d-flex justify-content-between\">\n    <button mat-button (click)=\"cancel()\">Cancel</button>\n    <button mat-raised-button color=\"primary\" (click)=\"onClientChange()\">Change Client</button>\n  </mat-dialog-actions>\n</div>\n"

/***/ }),

/***/ "./src/app/client-selector/client-selector.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/client-selector/client-selector.component.ts ***!
  \**************************************************************/
/*! exports provided: ClientSelectorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientSelectorComponent", function() { return ClientSelectorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ClientSelectorComponent = /** @class */ (function () {
    function ClientSelectorComponent(dialogRef, data, auth, userService) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.auth = auth;
        this.userService = userService;
        this.clientControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]);
        this.compareFn = this.compareByValue;
    }
    ClientSelectorComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.user.subscribe(function (next) {
            _this.user = next;
        });
    };
    ClientSelectorComponent.prototype.cancel = function () {
        this.dialogRef.close();
    };
    ClientSelectorComponent.prototype.onClientChange = function () {
        this.userService.updateUser(this.user, null);
        this.cancel();
    };
    ClientSelectorComponent.prototype.compareByValue = function (f1, f2) {
        return f1 && f2 && f1.clientId === f2.clientId;
    };
    ClientSelectorComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-client-selector',
            template: __webpack_require__(/*! ./client-selector.component.html */ "./src/app/client-selector/client-selector.component.html"),
            styles: [__webpack_require__(/*! ./client-selector.component.css */ "./src/app/client-selector/client-selector.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"]])
    ], ClientSelectorComponent);
    return ClientSelectorComponent;
}());



/***/ }),

/***/ "./src/app/core/agents/agents.service.ts":
/*!***********************************************!*\
  !*** ./src/app/core/agents/agents.service.ts ***!
  \***********************************************/
/*! exports provided: AgentsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentsService", function() { return AgentsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AgentsService = /** @class */ (function () {
    function AgentsService(http) {
        this.http = http;
        this.api = environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].apiUrl + 'api/';
    }
    /**
     * Get all agents by active status.
     *
     * @param activeOnly
     */
    AgentsService.prototype.getAgents = function (activeOnly) {
        if (activeOnly === void 0) { activeOnly = true; }
        return this.http.get(this.api + 'agents/statuses/' + activeOnly)
            .toPromise()
            .then(function (agents) {
            return agents;
        })
            .catch(function (e) {
            console.dir(e);
            return null;
        });
    };
    /**
     * Return a list of agents by the client id.
     *
     * @param clientId
     */
    AgentsService.prototype.getAgentsByClient = function (clientId) {
        var url = this.api + "clients/" + clientId + "/agents";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    /**
     * updates an agent entity
     *
     * @param agent
     */
    AgentsService.prototype.updateAgent = function (agent) {
        return this.http.post(this.api + 'agents/' + agent.agentId, agent)
            .toPromise()
            .then(function (agent) {
            return agent;
        });
    };
    /**
     * Return an array of sales pairings entities by agent id.
     *
     * @param agentId
     * @param clientId
     */
    AgentsService.prototype.getAgentSalesPairings = function (agentId, clientId) {
        return this.http.get(this.api + 'clients/' + clientId + '/agents/' + agentId + '/sales-pairings')
            .toPromise()
            .then(function (salesPairings) {
            return salesPairings;
        });
    };
    /**
     * Save a list of agent sales pairings.
     *
     * @param pairings
     * @param agentId
     */
    AgentsService.prototype.saveAgentSalesPairings = function (pairings, agentId) {
        return this.http.post(this.api + 'agents/' + agentId + '/sales-pairings', { pairings: pairings })
            .toPromise()
            .then(function (pairings) {
            return pairings;
        });
    };
    AgentsService.prototype.deleteAgentSalesPairings = function (pairingId) {
        return this.http.delete(this.api + 'sales-pairings/' + pairingId)
            .toPromise()
            .then(function () { return; });
    };
    AgentsService.prototype.getRoleTypes = function (includeInactive) {
        if (includeInactive === void 0) { includeInactive = false; }
        return this.http.get(this.api + "role-types?inactive=" + includeInactive);
    };
    AgentsService.prototype.handleError = function (error) {
        if (error.error instanceof ErrorEvent) {
            // client side network error
            console.log('Error occurred: ', error.error.message || error.message);
        }
        else {
            // backend returned server error
            console.error("\n        Server returned error code " + error.status + ": " + error.error + "\n      ");
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["throwError"])('There was a network error. Please try again.');
    };
    AgentsService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], AgentsService);
    return AgentsService;
}());



/***/ }),

/***/ "./src/app/core/agents/dialogs/add-agent.component.html":
/*!**************************************************************!*\
  !*** ./src/app/core/agents/dialogs/add-agent.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<mat-horizontal-stepper  #addAgent>\n  <mat-step [stepControl]=\"userForm\">\n    <form [formGroup]=\"userForm\">\n      <ng-template matStepLabel>User Login Info</ng-template>\n\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"First Name\" formControlName=\"firstName\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Last Name\" formControlName=\"lastName\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Username\" formControlName=\"username\" required (blur)=\"checkUsernameAvailability()\" />\n        <mat-error *ngIf=\"userForm.get('username').hasError('unavailable')\">\n            Sorry, that username is unavailable. \n            <ng-container *ngIf=\"suggestedUsername.length && suggestedUsername != attemptedUsername\">\n                What about <strong>{{suggestedUsername}}</strong>?\n            </ng-container> \n        </mat-error>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Email\" formControlName=\"email\" required #emailInput />\n        <mat-error *ngIf=\"userForm.get('email').hasError('notUnique')\">\n            Users cannot share email addresses. This one has already been used. Please try again. \n        </mat-error>\n      </mat-form-field>\n      <mat-form-field class=\"clickable\" (click)=\"copyPasswordText(userForm.value.password)\">\n        <input matInput\n          class=\"clickable\"\n          type=\"text\"\n          placeholder=\"Random Password\"\n          formControlName=\"password\"\n          readonly\n        />\n        <mat-icon matSuffix>filter_none</mat-icon>\n        <mat-hint align=\"start\">\n          Click to Copy\n        </mat-hint>\n      </mat-form-field>\n      <div class=\"d-flex justify-content-end pt-4\">\n        <button mat-button matStepperNext>Next</button>\n      </div>\n    </form>\n  </mat-step>\n  <mat-step [stepControl]=\"detailForm\">\n    <form [formGroup]=\"detailForm\">\n      <ng-template matStepLabel>Detail Info</ng-template>\n\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Street\" formControlName=\"street\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Street 2\" formControlName=\"street2\" />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"City\" formControlName=\"city\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <mat-select placeholder=\"State\" formControlName=\"state\" required>\n          <mat-option *ngFor=\"let s of states\" [value]=\"s.abbreviation\">{{s.name}}</mat-option>\n        </mat-select>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Postal Code\" formControlName=\"zip\" required />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput\n          [matDatepicker]=\"birthDate\"\n          placeholder=\"Date of Birth\"\n          formControlName=\"birthDate\"\n          required\n        />\n        <mat-datepicker-toggle matSuffix [for]=\"birthDate\"></mat-datepicker-toggle>\n        <mat-datepicker #birthDate></mat-datepicker>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput\n          type=\"text\"\n          placeholder=\"Phone No\"\n          (keypress)=\"phoneNoKeyPress($event)\"\n          formControlName=\"phone\"\n          required\n        />\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput type=\"text\" placeholder=\"Social Security Number\" formControlName=\"ssn\" />\n        <mat-hint align=\"start\" class=\"text-muted font-italic\">Optional</mat-hint>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput\n          type=\"text\"\n          placeholder=\"Bank Routing\"\n          formControlName=\"bankRouting\"\n          (keyup)=\"validateVerifyRouting()\"\n        />\n        <mat-hint align=\"start\" class=\"text-muted font-italic\">Optional</mat-hint>\n      </mat-form-field>\n      <mat-form-field [hidden]=\"!(detailForm.value.bankRouting > 0)\">\n        <input matInput\n          type=\"text\"\n          placeholder=\"Verify Routing\"\n          formControlName=\"verifyRouting\"\n          [required]=\"detailForm.value.bankRouting > 0 && detailForm.get('bankRouting').valid\"\n          (keyup)=\"compareRouting()\"\n        />\n        <mat-error *ngIf=\"detailForm.get('verifyRouting').getError('notEqual')\">\n          Routing numbers must match.\n        </mat-error>\n      </mat-form-field>\n      <mat-form-field>\n        <input matInput\n          type=\"text\"\n          placeholder=\"Bank Account\"\n          formControlName=\"bankAccount\"\n          [required]=\"detailForm.value.bankRouting > 0 && detailForm.get('bankRouting').valid\"\n          (keyup)=\"validateVerifyAccount()\"\n        />\n        <mat-hint\n          align=\"start\"\n          class=\"text-muted font-italic\"\n          [hidden]=\"detailForm.value.bankRouting > 0 && detailForm.get('bankRouting').valid\"\n        >Optional</mat-hint>\n      </mat-form-field>\n      <mat-form-field [hidden]=\"!(detailForm.value.bankAccount > 0)\">\n        <input matInput\n          type=\"text\"\n          placeholder=\"Verify Account\"\n          formControlName=\"verifyAccount\"\n          [required]=\"detailForm.value.bankAccount > 0 && detailForm.get('bankAccount').valid\"\n          (keyup)=\"compareAccounts()\"\n        />\n        <mat-error *ngIf=\"detailForm.get('verifyAccount').getError('notEqual')\">\n          Account numbers must match.\n        </mat-error>\n      </mat-form-field>\n      <div class=\"d-flex justify-content-between pt-4\">\n        <button mat-button matStepperPrevious>Previous</button>\n        <button mat-button matStepperNext (click)=\"test()\">Next</button>\n      </div>\n    </form>\n  </mat-step>\n  <mat-step [stepControl]=\"agentForm\">\n    <form [formGroup]=\"agentForm\">\n      <ng-template matStepLabel>Permissions</ng-template>\n\n      <mat-form-field class=\"pt-3\">\n          <mat-select placeholder=\"User Role\" [formControl]=\"roleType\" required>\n              <mat-option *ngFor=\"let type of roleTypes\" [value]=\"type.id\">\n                  {{type.type | titlecase}}\n              </mat-option>\n          </mat-select>\n          <mat-error *ngIf=\"roleType.hasError('required')\">\n              Please select a role for the new user.\n          </mat-error>\n      </mat-form-field>\n\n      <mat-form-field>\n        <mat-select placeholder=\"Manager\" formControlName=\"managerId\" required>\n          <mat-option *ngFor=\"let m of managers\" [value]=\"m.agentId\">\n            {{m.firstName}} {{m.lastName}}\n          </mat-option>\n        </mat-select>\n        <mat-hint>Who will the agent report to?</mat-hint>\n      </mat-form-field>\n\n      <mat-checkbox\n        formControlName=\"isManager\"\n        matTooltip=\"Is this agent a manager?\"\n      >Enable Manager Access</mat-checkbox>\n\n      <mat-divider></mat-divider>\n\n      <div class=\"text-muted font-sm font-italic mt-4\">\n        Sales ID(s) can be added by saving the new agent and then clicking <span class=\"font-weight-bold\">edit</span> on\n        their agent card after this dialog is closed.\n      </div>\n    </form>\n    <div class=\"d-flex justify-content-between pt-4\">\n      <button mat-button matStepperPrevious>Previous</button>\n      <button mat-button (click)=\"saveNewUserAgentEntity()\">Save</button>\n    </div>\n  </mat-step>\n</mat-horizontal-stepper>\n"

/***/ }),

/***/ "./src/app/core/agents/dialogs/add-agent.component.scss":
/*!**************************************************************!*\
  !*** ./src/app/core/agents/dialogs/add-agent.component.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "form {\n  min-width: 200px;\n  max-width: 500px;\n  width: 100%; }\n\nmat-form-field {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/core/agents/dialogs/add-agent.component.ts":
/*!************************************************************!*\
  !*** ./src/app/core/agents/dialogs/add-agent.component.ts ***!
  \************************************************************/
/*! exports provided: AddAgentDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddAgentDialogComponent", function() { return AddAgentDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/core/agents/agents.service */ "./src/app/core/agents/agents.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/agent/agent.service */ "./src/app/agent/agent.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};












var AddAgentDialogComponent = /** @class */ (function () {
    function AddAgentDialogComponent(ref, data, fb, msg, service, agentsService, userService, session) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.msg = msg;
        this.service = service;
        this.agentsService = agentsService;
        this.userService = userService;
        this.session = session;
        this.verifyAccount = null;
        this.usernameTaken = false;
        this.user = this.data.user;
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_3__["States"].$get();
    }
    AddAgentDialogComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.agentsService.getRoleTypes(true)
            .subscribe(function (roleTypes) { return _this.roleTypes = roleTypes; });
        this.createUserForm();
        this.createDetailForm();
        this.createAgentForm();
        this.createRoleTypeForm();
        // DO SOME MORE STUFF
        this.agentsService
            .getAgents()
            .then(function (agents) {
            _this.managers = lodash__WEBPACK_IMPORTED_MODULE_6__["filter"](agents, function (a) {
                return a.isManager;
            });
        })
            .catch(this.msg.showWebApiError);
    };
    AddAgentDialogComponent.prototype.saveNewUserAgentEntity = function () {
        var _this = this;
        if (this.userForm.invalid || this.detailForm.invalid || this.agentForm.invalid)
            return;
        this.session.showLoader();
        this.userEntity = {
            firstName: this.userForm.value.firstName,
            lastName: this.userForm.value.lastName,
            username: this.userForm.value.username,
            email: this.userForm.value.email,
            password: this.userForm.value.password,
            active: true
        };
        this.detailEntity = {
            street: this.detailForm.value.street,
            street2: this.detailForm.value.street2,
            city: this.detailForm.value.city,
            state: this.detailForm.value.state,
            zip: this.detailForm.value.zip,
            ssn: this.detailForm.value.ssn,
            phone: this.detailForm.value.phone,
            birthDate: this.detailForm.value.birthDate,
            bankRouting: this.detailForm.value.bankRouting,
            bankAccount: this.detailForm.value.bankAccount
        };
        this.agentEntity = {
            firstName: this.userForm.value.firstName,
            lastName: this.userForm.value.lastName,
            managerId: this.agentForm.value.managerId,
            isManager: this.agentForm.value.isManager
        };
        var role = this.roleType.value;
        this.userService
            .saveNewUserAgentEntity(this.userEntity, this.agentEntity, this.detailEntity, this.user.sessionUser.sessionClient, role)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["catchError"])(function (resp, caught) {
            var keys = Object.keys(resp.error.errors);
            var errorDisplaymsg = 'Errors: ';
            keys.forEach(function (key) {
                var propErrors = resp.error.errors[key];
                if (!lodash__WEBPACK_IMPORTED_MODULE_6__["isArray"](propErrors))
                    return;
                propErrors.forEach(function (pe, i) {
                    errorDisplaymsg += "(" + (i + 1) + ") " + pe;
                });
                if (key == 'email')
                    _this.userForm.controls.email.setErrors({ notUnique: true });
            });
            _this.msg.addMessage(errorDisplaymsg, 'dismiss');
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_11__["of"])(false);
        }))
            .subscribe(function (result) {
            if (!result)
                return;
            _this.msg.addMessage('User added!', 'dismiss', 6000);
            _this.ref.close(result);
        });
    };
    AddAgentDialogComponent.prototype.close = function () {
        this.ref.close(this.data);
    };
    AddAgentDialogComponent.prototype.copyPasswordText = function (copy) {
        var selBox = document.createElement('textarea');
        selBox.style.position = 'fixed';
        selBox.style.left = '0';
        selBox.style.top = '0';
        selBox.style.opacity = '0';
        selBox.value = copy;
        document.body.appendChild(selBox);
        selBox.focus();
        selBox.select();
        document.execCommand('copy');
        document.body.removeChild(selBox);
        this.msg.addMessage('Password copied to your clipboard!', 'dismiss', 6000);
    };
    AddAgentDialogComponent.prototype.createUserForm = function () {
        var pw = this.makeUpperCaseRandomLetter(Math.random()
            .toString(36)
            .slice(-8));
        this.userForm = this.fb.group({
            firstName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            lastName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            username: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(5), _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].maxLength(15)]),
            email: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].email]),
            password: this.fb.control(pw, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])
        });
    };
    AddAgentDialogComponent.prototype.makeUpperCaseRandomLetter = function (pw) {
        var kv = this.getRandomCharKeyValue(pw);
        if (!/^[a-zA-Z]+$/.test(kv.value))
            this.makeUpperCaseRandomLetter(pw);
        kv.value = kv.value.toUpperCase();
        return this.replaceAt(pw, +kv.key, kv.value);
    };
    AddAgentDialogComponent.prototype.getRandomCharKeyValue = function (pw) {
        var min = 0;
        var max = pw.length - 1;
        var key = Math.floor(Math.random() * (max - min + 1)) + min;
        return { key: key, value: pw.charAt(key) };
    };
    AddAgentDialogComponent.prototype.replaceAt = function (original, index, replacement) {
        return original.substr(0, index) + replacement + original.substr(index + replacement.length);
    };
    AddAgentDialogComponent.prototype.createDetailForm = function () {
        this.detailForm = this.fb.group({
            street: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            street2: this.fb.control('', []),
            city: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            state: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            zip: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern(/^\d{5}?$/)]),
            ssn: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern(/^\d{3}-?\d{2}-?\d{4}$/)]),
            phone: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern(/^\d{10}?$/)]),
            birthDate: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            bankRouting: this.fb.control('', []),
            verifyRouting: this.fb.control('', []),
            bankAccount: this.fb.control('', []),
            verifyAccount: this.fb.control('', []),
            saleOneId: this.fb.control('', []),
            saleOneCampaignId: this.fb.control('', []),
            saleTwoId: this.fb.control('', []),
            saleTwoCampaignId: this.fb.control('', []),
            saleThreeId: this.fb.control('', []),
            saleThreeCampaignId: this.fb.control('', [])
        });
    };
    AddAgentDialogComponent.prototype.test = function () {
        // console.dir(this.detailForm);
    };
    AddAgentDialogComponent.prototype.validateVerifyAccount = function () {
        if (this.detailForm.value.bankAccount > 0 && this.detailForm.controls.bankAccount.valid)
            this.detailForm.controls.verifyAccount.setValidators(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required);
    };
    AddAgentDialogComponent.prototype.validateVerifyRouting = function () {
        if (this.detailForm.value.bankRouting > 0 && this.detailForm.controls.bankRouting.valid)
            this.detailForm.controls.verifyRouting.setValidators(_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required);
    };
    AddAgentDialogComponent.prototype.compareAccounts = function () {
        if (this.detailForm.value.bankAccount === this.detailForm.value.verifyAccount)
            return;
        this.detailForm.controls.verifyAccount.setErrors({ notEqual: true });
    };
    AddAgentDialogComponent.prototype.compareRouting = function () {
        if (this.detailForm.value.bankRouting === this.detailForm.value.verifyRouting)
            return;
        this.detailForm.controls.verifyRouting.setErrors({ notEqual: true });
    };
    AddAgentDialogComponent.prototype.phoneNoKeyPress = function (event) {
        if (event.charCode !== 0) {
            var pattern = /[0-9\+\-\ ]/;
            var inputChar = String.fromCharCode(event.charCode);
            if (!pattern.test(inputChar)) {
                // invalid character, prevent input
                event.preventDefault();
            }
        }
    };
    AddAgentDialogComponent.prototype.checkUsernameAvailability = function () {
        var _this = this;
        var usernameInput = lodash__WEBPACK_IMPORTED_MODULE_6__["find"](this.inputs.toArray(), function (input) {
            return input.ngControl.name === 'username';
        });
        var username = usernameInput.value;
        this.attemptedUsername = username;
        if (username.length < 1)
            return;
        if (this.userForm.controls.username.errors != null && this.userForm.controls.username.errors.unavailable) {
            this.userForm.patchValue({ username: username });
        }
        else {
            this.service.checkUsernameAvailability(username)
                .subscribe(function (available) {
                _this.usernameTaken = !available;
                if (!available) {
                    _this.userForm.get('username').setErrors({ unavailable: true });
                    var lastSection = _this.userForm.value.firstName.substr(0, 2).toLowerCase();
                    _this.suggestedUsername = _this.userForm.value.lastName.substr(0, 5).toLowerCase() + lastSection;
                    usernameInput.focus();
                    usernameInput.value = _this.suggestedUsername;
                }
            });
        }
    };
    AddAgentDialogComponent.prototype.createAgentForm = function () {
        this.userEntity =
            this.userEntity == null
                ? {
                    firstName: null,
                    lastName: null
                }
                : this.userEntity;
        this.agentForm = this.fb.group({
            // firstName: this.fb.control(this.userEntity.firstName, [Validators.required]),
            // lastName: this.fb.control(this.userEntity.lastName, [Validators.required]),
            managerId: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            isManager: this.fb.control('', [])
        });
    };
    AddAgentDialogComponent.prototype.createRoleTypeForm = function () {
        this.roleType = this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChildren"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatInput"]),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["QueryList"])
    ], AddAgentDialogComponent.prototype, "inputs", void 0);
    AddAgentDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'add-agent-dialog',
            template: __webpack_require__(/*! ./add-agent.component.html */ "./src/app/core/agents/dialogs/add-agent.component.html"),
            styles: [__webpack_require__(/*! ./add-agent.component.scss */ "./src/app/core/agents/dialogs/add-agent.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"],
            _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_10__["AgentService"],
            _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_5__["AgentsService"],
            _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_8__["SessionService"]])
    ], AddAgentDialogComponent);
    return AddAgentDialogComponent;
}());



/***/ }),

/***/ "./src/app/core/core.module.ts":
/*!*************************************!*\
  !*** ./src/app/core/core.module.ts ***!
  \*************************************/
/*! exports provided: CoreModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreModule", function() { return CoreModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _auth_guard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth.guard */ "./src/app/auth.guard.ts");
/* harmony import */ var _token_interceptor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../token.interceptor */ "./src/app/token.interceptor.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var angular2_moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! angular2-moment */ "./node_modules/angular2-moment/index.js");
/* harmony import */ var angular2_moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(angular2_moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _app_shared__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/shared */ "./src/app/shared/index.ts");
/* harmony import */ var _app_messages_messages_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/messages/messages.component */ "./src/app/messages/messages.component.ts");
/* harmony import */ var _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/fab-float-btn/fab-float-btn.module */ "./src/app/fab-float-btn/fab-float-btn.module.ts");
/* harmony import */ var _app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @app/core/agents/dialogs/add-agent.component */ "./src/app/core/agents/dialogs/add-agent.component.ts");
/* harmony import */ var _app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @app/client-information/dialogs/add-sale-status.component */ "./src/app/client-information/dialogs/add-sale-status.component.ts");
/* harmony import */ var _app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @app/daily-sale-tracker/dialogs/add-sale.component */ "./src/app/daily-sale-tracker/dialogs/add-sale.component.ts");
/* harmony import */ var _app_daily_sale_tracker_daily_sale_tracker_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @app/daily-sale-tracker/daily-sale-tracker.component */ "./src/app/daily-sale-tracker/daily-sale-tracker.component.ts");
/* harmony import */ var _app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @app/daily-sale-tracker/dialogs/delete-sale.component */ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


















var CoreModule = /** @class */ (function () {
    /**
     * Make sure CoreModule is imported only by one NgModule - the AppModule
     */
    function CoreModule(parentModule) {
        if (parentModule) {
            throw new Error('CoreModule is already loaded. Import only in AppModule.');
        }
    }
    CoreModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClientModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__["BrowserAnimationsModule"],
                _material_material_module__WEBPACK_IMPORTED_MODULE_8__["MaterialModule"],
                _app_shared__WEBPACK_IMPORTED_MODULE_10__["SharedModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"],
                angular2_moment__WEBPACK_IMPORTED_MODULE_9__["MomentModule"],
                _app_fab_float_btn_fab_float_btn_module__WEBPACK_IMPORTED_MODULE_12__["FabFloatBtnModule"]
            ],
            declarations: [
                _app_messages_messages_component__WEBPACK_IMPORTED_MODULE_11__["MessagesComponent"],
                _app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_13__["AddAgentDialogComponent"],
                _app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_14__["AddSaleStatusDialog"],
                _app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_15__["AddSaleDialog"],
                _app_daily_sale_tracker_daily_sale_tracker_component__WEBPACK_IMPORTED_MODULE_16__["DailySaleTrackerComponent"],
                _app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_17__["DeleteSaleDialog"]
            ],
            providers: [
                _auth_guard__WEBPACK_IMPORTED_MODULE_3__["AuthGuard"],
                {
                    provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HTTP_INTERCEPTORS"],
                    useClass: _token_interceptor__WEBPACK_IMPORTED_MODULE_4__["TokenInterceptor"],
                    multi: true
                }
            ],
            entryComponents: [
                _app_core_agents_dialogs_add_agent_component__WEBPACK_IMPORTED_MODULE_13__["AddAgentDialogComponent"],
                _app_client_information_dialogs_add_sale_status_component__WEBPACK_IMPORTED_MODULE_14__["AddSaleStatusDialog"],
                _app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_15__["AddSaleDialog"],
                _app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_17__["DeleteSaleDialog"]
            ]
        }),
        __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()), __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"])()),
        __metadata("design:paramtypes", [CoreModule])
    ], CoreModule);
    return CoreModule;
}());



/***/ }),

/***/ "./src/app/daily-sale-tracker/daily-sale-tracker.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/daily-sale-tracker.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<mat-card class=\"page-header-accent\">\n    <mat-card-header>\n        <mat-card-title>\n            <h3>Sales Tracker</h3>\n        </mat-card-title>\n    </mat-card-header>\n    <mat-card-subtitle>\n        <mat-form-field class=\"mx-1\">\n            <input matInput [matDatepicker]=\"trackerStart\" placeholder=\"Start Date\" [(value)]=\"startDate\"\n                (dateChange)=\"handleDateChange($event, true)\" />\n            <mat-datepicker-toggle matSuffix [for]=\"trackerStart\"></mat-datepicker-toggle>\n            <mat-datepicker #trackerStart [startAt]=\"startDate\"></mat-datepicker>\n        </mat-form-field>\n        <mat-form-field class=\"mx-1\">\n            <input matInput [matDatepicker]=\"trackerEnd\" placeholder=\"End Date\" [(value)]=\"endDate\" (dateChange)=\"handleDateChange($event, false)\" />\n            <mat-datepicker-toggle matSuffix [for]=\"trackerEnd\"></mat-datepicker-toggle>\n            <mat-datepicker #trackerEnd [startAt]=\"endDate\"></mat-datepicker>\n        </mat-form-field>\n        <mat-form-field class=\"mx-1\" *ngIf=\"selectedCampaign != null\">\n            <mat-select placeholder=\"Select Campaign\" [value]=\"selectedCampaign.campaignId\" (selectionChange)=\"changeSelectedCampaignId($event)\">\n                <mat-option *ngFor=\"let c of campaigns\" [value]=\"c.campaignId\">\n                    {{ c.name }}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n        <button type=\"button\" mat-button color=\"primary\" class=\"mx-4\" (click)=\"showAddSaleDialog()\">\n            Add Sale\n        </button>\n    </mat-card-subtitle>\n</mat-card>\n\n<mat-card>\n    <mat-card-content>\n\n        <!-- NO TABLE DATA VIEW -->\n        <div class=\"row justify-content-center no-data-message\" *ngIf=\"!(dataSource$.getValue() != null && dataSource$.getValue().length); else hasTableData;\">\n            <div class=\"col-md-6 text-center\">\n                <h4>\n                    Looks like you don't have any sales or this time period. Adjust the date range above or add a sale.\n                </h4>\n                <button mat-raised-button type=\"button\" color=\"primary\" (click)=\"showAddSaleDialog()\">Add Sale</button>\n            </div>\n        </div>\n\n        <!-- TABLE -->\n        <ng-template #hasTableData>\n            <form [formGroup]=\"form\">\n                <table mat-table [dataSource]=\"sales\" multiTemplateDataRows formArrayName=\"sales\" *ngIf=\"dataSource$.getValue() != null && dataSource$.getValue().length > 0\">\n\n                    <ng-container matColumnDef=\"saleDate\">\n                        <th mat-header-cell *matHeaderCellDef>Date</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\" class=\"pl-0 pr-1\">\n                            <button type=\"button\" mat-icon-button (click)=\"expandedRowHover(item)\" *ngIf=\"item.remarks.length > 0\">\n                                <mat-icon>{{showNotes ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</mat-icon>\n                            </button>\n                            {{ item.saleDate | date:'shortDate' }}\n                        </td>\n                    </ng-container>\n\n                    <!-- agent dropdown -->\n                    <ng-container matColumnDef=\"agentId\">\n                        <th mat-header-cell *matHeaderCellDef>Agent</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\" class=\"px-1\">\n                            {{getAgentName(item.agentId)}}\n                        </td>\n                    </ng-container>\n\n                    <!-- account number  -->\n                    <ng-container matColumnDef=\"podAccount\">\n                        <th mat-header-cell *matHeaderCellDef>POD/Account</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            {{item.podAccount}}\n                        </td>\n                    </ng-container>\n\n                    <!-- customer first name -->\n                    <ng-container matColumnDef=\"firstName\">\n                        <th mat-header-cell *matHeaderCellDef>First Name</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            {{item.firstName}}\n                        </td>\n                    </ng-container>\n\n                    <!-- customer last name -->\n                    <ng-container matColumnDef=\"lastName\">\n                        <th mat-header-cell *matHeaderCellDef>Last Name</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            {{item.lastName}}\n                        </td>\n                    </ng-container>\n\n                    <!-- sale status -->\n                    <ng-container matColumnDef=\"status\">\n                        <th mat-header-cell *matHeaderCellDef>Status</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            <mat-form-field appearance=\"outline\">\n                                <mat-select formControlName=\"status\" required (selectionChange)=\"updateExistingSalesRow(i)\">\n                                    <mat-option *ngFor=\"let s of statuses | async\" [value]=\"s.saleStatusId\">\n                                        {{s.name}}\n                                    </mat-option>\n                                </mat-select>\n                            </mat-form-field>\n                        </td>\n                    </ng-container>\n\n                    <!-- paid status -->\n                    <ng-container matColumnDef=\"paidStatus\">\n                        <th mat-header-cell *matHeaderCellDef>Paid Status</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            <mat-form-field appearance=\"outline\">\n                                <mat-select formControlName=\"paidStatus\" required (selectionChange)=\"updateExistingSalesRow(i)\">\n                                    <mat-option *ngFor=\"let p of paidStatusOptions\" [value]=\"p.id\">\n                                        {{p.name}}\n                                    </mat-option>\n                                </mat-select>\n                            </mat-form-field>\n                        </td>\n                    </ng-container>\n\n                    <!-- activity date -->\n                    <ng-container matColumnDef=\"activityDate\">\n                        <th mat-header-cell *matHeaderCellDef>Activity</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\" [formGroupName]=\"i\">\n                            <ng-container *ngIf=\"form.controls['sales'].controls[i].controls.activityDate.value != null; else nullActivity\">\n                                {{form.controls['sales'].controls[i].controls.activityDate.value}}\n                            </ng-container>\n                            <ng-template #nullActivity>\n                                <span class=\"text-muted font-italic\">(No date)</span>\n                            </ng-template>\n                        </td>\n                    </ng-container>\n\n                    <ng-container matColumnDef=\"save\">\n                        <th mat-header-cell *matHeaderCellDef>&nbsp;</th>\n                        <td mat-cell *matCellDef=\"let item; let i=dataIndex\">\n                            <div class=\"table-shrink\" class=\"hover-item\">\n                                <button mat-icon-button (click)=\"editExistingSale(i)\">\n                                    <mat-icon>edit</mat-icon>\n                                </button>\n                                <button mat-icon-button color=\"warn\" (click)=\"deleteSale(i)\">\n                                    <mat-icon>delete</mat-icon>\n                                </button>\n                            </div>\n                        </td>\n                    </ng-container>\n\n                    <ng-container matColumnDef=\"expandedDetail\">\n                        <td mat-cell *matCellDef=\"let item; let i = dataIndex\" [attr.colspan]=\"displayColumns.length\">\n                            <div class=\"element-detail\" [@detailExpand]=\"item == expandedElement ? 'expanded' : 'collapsed'\">\n                                <mat-list>\n                                    <h3 mat-subheader>Notes</h3>\n                                    <mat-list-item *ngIf=\"item.remarks.length == 0; else hasRemarks\">\n                                        <mat-icon mat-list-icon>error_outline</mat-icon>\n                                        <h4 mat-line>Sorry, no notes for this sale exist.</h4>\n                                    </mat-list-item>\n                                    <ng-template #hasRemarks>\n                                        <mat-list-item *ngFor=\"let r of item.remarks\">\n                                            <mat-icon mat-list-icon>folder</mat-icon>\n                                            <h4 mat-line class=\"white-space-normal\">{{r.description}}</h4>\n                                            <p mat-line>{{r.updatedAt | date:'shortDate'}}</p>\n                                        </mat-list-item>\n                                    </ng-template>\n                                </mat-list>\n                            </div>\n                        </td>\n                    </ng-container>\n\n                    <tr mat-header-row *matHeaderRowDef=\"displayColumns; sticky: true\"></tr>\n                    <tr mat-row *matRowDef=\"let row; columns: displayColumns; let i=index\" class=\"element-row hoverable\"></tr>\n                    <tr mat-row *matRowDef=\"let expandedRow; columns: ['expandedDetail']\" class=\"detail-row\"></tr>\n                </table>\n            </form>\n        </ng-template>\n\n\n    </mat-card-content>\n</mat-card>\n\n<vs-float-button mat-icon=\"add\" (callback)=\"showAddSaleDialog()\" [isOpen]=\"floatIsOpen\"></vs-float-button>"

/***/ }),

/***/ "./src/app/daily-sale-tracker/daily-sale-tracker.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/daily-sale-tracker.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "table {\n  width: 100%; }\n\n.no-data-message {\n  padding: 1rem 0; }\n\nbutton.edit {\n  opacity: 0; }\n\ntr:hover > * > button.edit {\n  -webkit-animation: fadeIn 0.8s forwards;\n          animation: fadeIn 0.8s forwards; }\n\ntr > * > button.fade-in {\n  -webkit-animation: fadeIn 0.8s forwards;\n          animation: fadeIn 0.8s forwards; }\n\n@-webkit-keyframes fadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(50px);\n            transform: translateY(50px); }\n  30% {\n    opacity: 0; }\n  100% {\n    opacity: 1;\n    -webkit-transform: translateY(0);\n            transform: translateY(0); } }\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(50px);\n            transform: translateY(50px); }\n  30% {\n    opacity: 0; }\n  100% {\n    opacity: 1;\n    -webkit-transform: translateY(0);\n            transform: translateY(0); } }\n\n.element-detail {\n  max-height: 25vh;\n  overflow: hidden;\n  overflow-y: auto;\n  display: flex; }\n\n.detail-row {\n  height: 0; }\n\n:host ::ng-deep .mat-form-field-infix {\n  min-width: 100px !important;\n  max-width: 180px !important;\n  width: 0 auto; }\n\n:host ::ng-deep .mat-header-cell:last-child, .mat-cell:last-child {\n  padding: 0; }\n\n.table-shrink {\n  min-width: 50px !important;\n  max-width: 100px !important;\n  width: 0 auto; }\n"

/***/ }),

/***/ "./src/app/daily-sale-tracker/daily-sale-tracker.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/daily-sale-tracker.component.ts ***!
  \********************************************************************/
/*! exports provided: DailySaleTrackerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DailySaleTrackerComponent", function() { return DailySaleTrackerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/core/agents/agents.service */ "./src/app/core/agents/agents.service.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/client-information/client.service */ "./src/app/client-information/client.service.ts");
/* harmony import */ var _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./daily-sale-tracker.service */ "./src/app/daily-sale-tracker/daily-sale-tracker.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/daily-sale-tracker/dialogs/add-sale.component */ "./src/app/daily-sale-tracker/dialogs/add-sale.component.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @app/daily-sale-tracker/dialogs/delete-sale.component */ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.ts");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/animations */ "./node_modules/@angular/animations/fesm5/animations.js");
/* harmony import */ var _app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @app/fab-float-btn/float-btn.service */ "./src/app/fab-float-btn/float-btn.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


















var DailySaleTrackerComponent = /** @class */ (function () {
    function DailySaleTrackerComponent(agentService, clientService, campaignService, userService, msg, trackerService, dialog, fb, floatBtnService) {
        var _this = this;
        this.agentService = agentService;
        this.clientService = clientService;
        this.campaignService = campaignService;
        this.userService = userService;
        this.msg = msg;
        this.trackerService = trackerService;
        this.dialog = dialog;
        this.fb = fb;
        this.floatBtnService = floatBtnService;
        this.paidStatusOptions = [
            { id: 0, name: 'Unpaid' },
            { id: 1, name: 'Paid' },
            { id: 2, name: 'Chargeback' },
            { id: 3, name: 'Repaid' }
        ];
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_13__["States"].$get();
        this.displayColumns = [
            'saleDate',
            'agentId',
            'podAccount',
            'firstName',
            'lastName',
            'status',
            'paidStatus',
            'activityDate',
            'save'
        ];
        this.store = {
            statuses: null,
            sales: null
        };
        this.dataSource$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](null);
        this.statuses = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](null);
        this.showNotes = false;
        this.dataSource$.subscribe(function (next) {
            if (next == null)
                return;
            _this.sales = Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])(next);
        });
        this.floatIsOpen = this.floatBtnService.opened$.asObservable();
    }
    DailySaleTrackerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.createForm();
        this.startDate = moment__WEBPACK_IMPORTED_MODULE_2__().add(-1, 'd');
        this.endDate = moment__WEBPACK_IMPORTED_MODULE_2__();
        this.userService.user.subscribe(function (u) {
            _this.userInfo = u;
            _this.clientService.getSaleStatuses(_this.userInfo.sessionUser.sessionClient).subscribe(function (statuses) {
                _this.store.statuses = statuses;
                _this.statuses.next(statuses);
            });
            _this.campaignService.getCampaigns(_this.userInfo.sessionUser.sessionClient).then(function (campaigns) {
                _this.campaigns = lodash__WEBPACK_IMPORTED_MODULE_3__["sortBy"](campaigns, ['name']);
                _this.campaigns.unshift({
                    campaignId: 0,
                    clientId: _this.userInfo.sessionUser.sessionClient,
                    name: 'All Campaigns',
                    active: true
                });
                if (_this.campaigns.length > 0) {
                    _this.selectedCampaign = _this.campaigns[0];
                }
                else {
                    _this.selectedCampaign = {
                        campaignId: 0,
                        clientId: null,
                        name: null,
                        active: false
                    };
                }
                _this.refreshDailySales(_this.startDate, _this.endDate);
            });
        });
        this.agentService
            .getAgents(true)
            .then(function (agents) {
            _this.agents = agents;
        })
            .catch(this.msg.showWebApiError);
    };
    DailySaleTrackerComponent.prototype.handleDateChange = function ($event, isStartDate) {
        var mDate = $event.value;
        if (isStartDate) {
            this.startDate = mDate;
        }
        else {
            this.endDate = mDate;
        }
        var start = this.startDate;
        var end = this.endDate;
        this.refreshDailySales(start, end);
    };
    DailySaleTrackerComponent.prototype.expandedRowHover = function (row) {
        var _this = this;
        row.showNotes = row.showNotes == null ? true : !row.showNotes;
        this.showNotes = !this.showNotes;
        row = this.showNotes ? row : null;
        setTimeout(function () {
            _this.expandedElement = row;
        }, 250);
    };
    DailySaleTrackerComponent.prototype.showAddSaleDialog = function () {
        var _this = this;
        this.floatBtnService.open();
        this.dialog
            .open(_app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_11__["AddSaleDialog"], {
            width: '800px',
            data: {
                statuses: this.store.statuses,
                agents: this.agents,
                selectedCampaign: this.selectedCampaign,
                campaigns: this.campaigns,
                user: this.userInfo
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            _this.floatBtnService.close();
            if (result == null)
                return;
            var dto = result;
            dto.clientId = _this.userInfo.sessionUser.sessionClient;
            dto.saleDate = _this.formatSqlDate(dto.saleDate, true);
            _this.trackerService.createDailySale(dto.clientId, dto).subscribe(function () {
                _this.refreshDailySales(_this.startDate, _this.endDate);
            });
        });
    };
    DailySaleTrackerComponent.prototype.changeSelectedCampaignId = function (event) {
        this.selectedCampaign = lodash__WEBPACK_IMPORTED_MODULE_3__["find"](this.campaigns, { campaignId: event.value });
        this.refreshDailySales(this.startDate, this.endDate);
    };
    DailySaleTrackerComponent.prototype.castString = function (value) {
        return value + '';
    };
    DailySaleTrackerComponent.prototype.formatSqlDate = function (date, withTimestamp) {
        if (withTimestamp === void 0) { withTimestamp = false; }
        if (withTimestamp)
            return date.format('YYYY-MM-DD HH:mm:ss');
        return date.format('YYYY-MM-DD');
    };
    DailySaleTrackerComponent.prototype.getFormGroup = function (name, index) {
        return this.form.get(name).get(index + '');
    };
    DailySaleTrackerComponent.prototype.getSalesControl = function (name, index) {
        return this.form
            .get('sales')
            .get(index + '')
            .get(name);
    };
    DailySaleTrackerComponent.prototype.updateExistingSalesRow = function (index) {
        var _this = this;
        var sale = this.form.get('sales').get(index + '');
        // if the user chose a paid status of "unpaid", let's call the method to handle this
        // which simply unsets the activity date
        if (sale.value.paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].unpaid)
            this.handleUnpaidSaleStatus(index);
        var dto = this.prepareModel(sale, index);
        var changeType, changeDate;
        switch (sale.value.paidStatus) {
            case _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].chargeback:
                changeType = 'Chargeback';
                changeDate = dto.chargeDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].paid:
                changeType = 'Paid';
                changeDate = dto.paidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].repaid:
                changeType = 'Repaid';
                changeDate = dto.repaidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].unpaid:
            default:
                changeType = 'Unpaid';
                changeDate = null;
                break;
        }
        if (sale.value.paidStatus != _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].unpaid) {
            var changeDateTime = moment__WEBPACK_IMPORTED_MODULE_2__().toString();
            var formattedChangeDate = moment__WEBPACK_IMPORTED_MODULE_2__(changeDate).format('MM-DD-YYYY');
            var changeAgent = this.userInfo.firstName + ' ' + this.userInfo.lastName;
            var remark = "Paid status was changed to: " + changeType + " (" + formattedChangeDate + ") on " + changeDateTime + " by: " + changeAgent + ".";
            dto.remarks.push({
                remarkId: null,
                dailySaleId: dto.dailySaleId,
                description: remark,
                modifiedBy: this.userInfo.id
            });
        }
        this.trackerService.updateDailySale(dto.clientId, dto).subscribe(function (result) {
            _this.store.sales[index] = result;
            _this.patchFormSaleValue(result, index);
            _this.msg.addMessage('Saved!', 'dismiss', 3000);
        });
    };
    DailySaleTrackerComponent.prototype.handleUnpaidSaleStatus = function (index) {
        this.form.get('sales').get(index + '').patchValue({
            activityDate: null
        });
    };
    DailySaleTrackerComponent.prototype.editExistingSale = function (index) {
        // this was checking form validity when we were completing the entire form right in the table
        // but don't think i need this anymore
        // const sale:FormGroup = this.form.get('sales').get(index+'') as FormGroup;
        // if (sale.invalid) return;
        var _this = this;
        var dto = this.store.sales[index];
        var campaign;
        if (this.selectedCampaign.campaignId < 1) {
            campaign = lodash__WEBPACK_IMPORTED_MODULE_3__["find"](this.campaigns, { campaignId: dto.campaignId });
        }
        else {
            campaign = this.selectedCampaign;
        }
        this.dialog
            .open(_app_daily_sale_tracker_dialogs_add_sale_component__WEBPACK_IMPORTED_MODULE_11__["AddSaleDialog"], {
            width: '800px',
            data: {
                agents: this.agents,
                selectedCampaign: campaign,
                sale: dto,
                statuses: this.store.statuses,
                campaigns: this.campaigns,
                user: this.userInfo
            }
        })
            .afterClosed()
            .subscribe(function (dto) {
            if (dto == null)
                return;
            _this.trackerService.updateDailySale(_this.userInfo.sessionUser.sessionClient, dto).subscribe(function (sale) {
                _this.store.sales[index] = sale;
                // this.patchFormSaleValue(sale, index);
                _this.refreshDailySales(_this.startDate, _this.endDate);
                _this.msg.addMessage('Saved!', 'dismiss', 3000);
            });
        });
    };
    DailySaleTrackerComponent.prototype.deleteSale = function (index) {
        var _this = this;
        var sale = this.form.get('sales').get(index + '');
        if (this.showNotes)
            this.expandedRowHover(null);
        this.dialog
            .open(_app_daily_sale_tracker_dialogs_delete_sale_component__WEBPACK_IMPORTED_MODULE_15__["DeleteSaleDialog"], {
            width: '300'
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            var dto = _this.prepareModel(sale);
            if (dto.dailySaleId < 1)
                return;
            _this.trackerService
                .deleteDailySale(_this.userInfo.sessionUser.sessionClient, dto.dailySaleId)
                .subscribe(function () {
                _this.msg.addMessage('Successfully deleted sale.', 'dismiss', 3000);
                _this.refreshDailySales(_this.startDate, _this.endDate);
            });
        });
    };
    DailySaleTrackerComponent.prototype.getAgentName = function (agentId) {
        var agent = lodash__WEBPACK_IMPORTED_MODULE_3__["find"](this.agents, { agentId: agentId });
        return agent.firstName + ' ' + agent.lastName;
    };
    DailySaleTrackerComponent.prototype.getSaleStatus = function (statusId) {
        return (lodash__WEBPACK_IMPORTED_MODULE_3__["find"](this.statuses.getValue(), { saleStatusId: statusId }) || { id: statusId, name: null });
    };
    DailySaleTrackerComponent.prototype.getPaidStatus = function (paidStatusId) {
        return lodash__WEBPACK_IMPORTED_MODULE_3__["find"](this.paidStatusOptions, { id: paidStatusId });
    };
    DailySaleTrackerComponent.prototype.refreshDailySales = function (startDate, endDate) {
        var _this = this;
        var startRange = startDate.clone();
        var endRange = endDate.clone();
        startRange = startRange.add(-1, 'd');
        endRange = endRange.add(1, 'd');
        this.trackerService
            .getDailySalesByDate(this.userInfo.sessionUser.sessionClient, this.selectedCampaign.campaignId, this.formatSqlDate(startRange), this.formatSqlDate(endRange))
            .subscribe(function (sales) {
            _this.store.sales = lodash__WEBPACK_IMPORTED_MODULE_3__["orderBy"](sales, ['saleDate'], ['desc']);
            _this.tableEmpty = sales.length < 1;
            _this.dataSource$.next(_this.store.sales);
            _this.createForm();
        });
    };
    DailySaleTrackerComponent.prototype.createForm = function () {
        this.form = this.fb.group({
            sales: this.createSalesFormArray()
        });
    };
    DailySaleTrackerComponent.prototype.createSalesFormArray = function () {
        if (this.store.sales == null || this.store.sales.length < 1)
            return this.fb.array([]);
        var result = this.fb.array([]);
        for (var i = 0; i < this.store.sales.length; i++) {
            var d = this.store.sales[i];
            result.push(this.fb.group({
                dailySaleId: this.fb.control(d.dailySaleId || ''),
                agent: this.fb.control(d.agentId || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                account: this.fb.control(d.podAccount || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                firstName: this.fb.control(d.firstName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                lastName: this.fb.control(d.lastName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                street: this.fb.control(d.street || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                street2: this.fb.control(d.street2 || ''),
                city: this.fb.control(d.city || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                state: this.fb.control(d.state || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                zip: this.fb.control(d.zip || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                status: this.fb.control(d.status || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                paidStatus: this.fb.control(d.paidStatus, [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                saleDate: this.fb.control(d.saleDate || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]),
                activityDate: this.fb.control(this.calculateActivityDate(d)),
                remarks: this.createRemarksFormArray(d.remarks)
            }));
        }
        return result;
    };
    DailySaleTrackerComponent.prototype.calculateActivityDate = function (sale) {
        var activityDate;
        switch (sale.paidStatus) {
            case _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].paid:
                activityDate = sale.paidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].chargeback:
                activityDate = sale.chargeDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].repaid:
                activityDate = sale.repaidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].unpaid:
            default:
                activityDate = null;
                break;
        }
        return activityDate;
    };
    DailySaleTrackerComponent.prototype.setActivityDateProperty = function (formPaidStatus, modelField, index) {
        var actMo = moment__WEBPACK_IMPORTED_MODULE_2__(this.form.value.sales[index].activityDate);
        if (modelField == 'paidDate' && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].paid && actMo.isValid()) {
            return moment__WEBPACK_IMPORTED_MODULE_2__(this.form.value.sales[index].activityDate).format('YYYY-MM-DD');
        }
        else if (modelField == 'chargeDate' && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].chargeback && actMo.isValid()) {
            return moment__WEBPACK_IMPORTED_MODULE_2__(this.form.value.sales[index].activityDate).format('YYYY-MM-DD');
        }
        else if (modelField == 'repaidDate' && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].repaid && actMo.isValid()) {
            return moment__WEBPACK_IMPORTED_MODULE_2__(this.form.value.sales[index].activityDate).format('YYYY-MM-DD');
        }
        return this.store.sales[index][modelField] || null;
    };
    DailySaleTrackerComponent.prototype.createRemarksFormArray = function (remarks) {
        var _this = this;
        var result = this.fb.array([]);
        remarks.forEach(function (r) {
            result.push(_this.fb.control(r.description || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_14__["Validators"].required]));
        });
        return result;
    };
    DailySaleTrackerComponent.prototype.patchFormSaleValue = function (sale, index) {
        this.form
            .get('sales')
            .get(index + '')
            .patchValue({
            dailySaleId: sale.dailySaleId,
            agent: sale.agentId,
            account: sale.podAccount,
            firstName: sale.firstName,
            lastName: sale.lastName,
            street: sale.street,
            street2: sale.street2,
            city: sale.city,
            state: sale.state,
            zip: sale.zip,
            status: sale.status,
            paidStatus: +sale.paidStatus,
            activityDate: this.calculateActivityDate(sale),
            saleDate: sale.saleDate,
            remarks: sale.remarks
        });
    };
    DailySaleTrackerComponent.prototype.prepareModel = function (form, index) {
        if (index === void 0) { index = null; }
        return {
            dailySaleId: form.value.dailySaleId,
            agentId: form.value.agent,
            campaignId: this.resolveClientId(index),
            clientId: this.userInfo.sessionUser.sessionClient,
            firstName: form.value.firstName,
            lastName: form.value.lastName,
            street: form.value.street,
            street2: form.value.street2,
            city: form.value.city,
            state: form.value.state,
            zip: form.value.zip,
            status: form.value.status,
            paidStatus: form.value.paidStatus,
            paidDate: this.setActivityDateProperty(form.value.paidStatus, 'paidDate', index),
            chargeDate: this.setActivityDateProperty(form.value.paidStatus, 'chargeDate', index),
            repaidDate: this.setActivityDateProperty(form.value.paidStatus, 'repaidDate', index),
            remarks: this.prepareRemarks(index),
            saleDate: form.value.saleDate,
            podAccount: form.value.account
        };
    };
    DailySaleTrackerComponent.prototype.resolveClientId = function (saleIndex) {
        if (this.selectedCampaign.campaignId > 0)
            return this.selectedCampaign.campaignId;
        return this.store.sales[saleIndex].campaignId;
    };
    DailySaleTrackerComponent.prototype.prepareRemarks = function (index) {
        var _this = this;
        var result = [];
        if (this.form.value.remarks == null)
            return [];
        this.form.value.remarks.forEach(function (r) {
            result.push({
                remarkId: null,
                dailySaleId: _this.store.sales[index].dailySaleId,
                description: r,
                modifiedBy: _this.userInfo.id
            });
        });
        return result;
    };
    DailySaleTrackerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'vs-daily-sale-tracker',
            template: __webpack_require__(/*! ./daily-sale-tracker.component.html */ "./src/app/daily-sale-tracker/daily-sale-tracker.component.html"),
            styles: [__webpack_require__(/*! ./daily-sale-tracker.component.scss */ "./src/app/daily-sale-tracker/daily-sale-tracker.component.scss")],
            animations: [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_16__["trigger"])('detailExpand', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_16__["state"])('collapsed', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_16__["style"])({ height: '0px', minHeight: '0', display: 'none' })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_16__["state"])('expanded', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_16__["style"])({ height: '*' })),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_16__["transition"])('expanded <=> collapsed', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_16__["animate"])('225ms cubic-bezier(0.4, 0.0, 0.2, 1)'))
                ])
            ],
            providers: [_app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_17__["FloatBtnService"]]
        }),
        __metadata("design:paramtypes", [_app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_4__["AgentsService"],
            _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_7__["ClientService"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_12__["CampaignService"],
            _app_user_features_user_service__WEBPACK_IMPORTED_MODULE_8__["UserService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_5__["MessageService"],
            _daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_9__["DailySaleTrackerService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_10__["MatDialog"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_14__["FormBuilder"],
            _app_fab_float_btn_float_btn_service__WEBPACK_IMPORTED_MODULE_17__["FloatBtnService"]])
    ], DailySaleTrackerComponent);
    return DailySaleTrackerComponent;
}());



/***/ }),

/***/ "./src/app/daily-sale-tracker/daily-sale-tracker.service.ts":
/*!******************************************************************!*\
  !*** ./src/app/daily-sale-tracker/daily-sale-tracker.service.ts ***!
  \******************************************************************/
/*! exports provided: DailySaleTrackerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DailySaleTrackerService", function() { return DailySaleTrackerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @app/auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var DailySaleTrackerService = /** @class */ (function () {
    function DailySaleTrackerService(http, auth) {
        this.http = http;
        this.auth = auth;
        this.url = this.auth.apiUrl + "api";
    }
    DailySaleTrackerService.prototype.getDailySalesByDate = function (clientId, campaignId, startDate, endDate) {
        var url = this.url + "/clients/" + clientId + "/daily-sales/campaigns/" + campaignId + "/from/" + startDate + "/to/" + endDate;
        return this.http.get(url);
    };
    DailySaleTrackerService.prototype.getDailySalesByAgent = function (clientId, agentId, startDate, endDate) {
        var url = this.url + "/clients/" + clientId + "/daily-sales/agents/" + agentId + "/from/" + startDate + "/to/" + endDate;
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    DailySaleTrackerService.prototype.createDailySale = function (clientId, dto) {
        var url = this.url + "/clients/" + clientId + "/daily-sales";
        return this.http.post(url, dto);
    };
    DailySaleTrackerService.prototype.checkUniquePodAccount = function (account) {
        var url = this.url + "/pods/" + account;
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    DailySaleTrackerService.prototype.updateDailySale = function (clientId, dto) {
        var url = this.url + "/clients/" + clientId + "/daily-sales/" + dto.dailySaleId;
        return this.http.post(url, dto)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    DailySaleTrackerService.prototype.deleteDailySale = function (clientId, dailySaleId) {
        var url = this.url + "/clients/" + clientId + "/daily-sales/" + dailySaleId;
        return this.http.delete(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError));
    };
    DailySaleTrackerService.prototype.handleError = function (error) {
        if (error.error instanceof ErrorEvent) {
            // client side network error
            console.log('Error occurred: ', error.error.message || error.message);
        }
        else {
            // backend returned server error
            console.error("\n        Server returned error code " + error.status + ": " + error.error + "\n      ");
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["throwError"])('There was a network error. Please try again.');
    };
    DailySaleTrackerService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _app_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"]])
    ], DailySaleTrackerService);
    return DailySaleTrackerService;
}());



/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/add-sale.component.html":
/*!********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/add-sale.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"modal-header\">\n    <h3 class=\"modal-title\">\n        {{existingSale != null && existingSale.dailySaleId > 0 ? 'Edit Sale' : 'Add Sale'}}\n    </h3>\n    <span class=\"clickable float-right\">\n        <i class=\"material-icons\" (click)=\"onNoClick()\">clear</i>\n    </span>\n</div>\n<div class=\"modal-body\">\n    <p class=\"text-muted\">\n        All fields denoted with * are required.\n    </p>\n    <form [formGroup]=\"form\" class=\"add-daily-sale-form\">\n\n        <!-- CAMPAIGN ROW -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <!-- <input matInput placeholder=\"Campaign\" [value]=\"selectedCampaign.name\" /> -->\n                    <mat-select placeholder=\"Campaign\" formControlName=\"campaign\" required>\n                        <mat-option *ngFor=\"let c of campaigns\" [value]=\"c.campaignId\">\n                            {{c.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('campaign').hasError('required') && (form.get('campaign').touched || submitted)\">\n                        Please select a campaign\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- AGENT AND SALE DATE -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Agent\" formControlName=\"agent\" required>\n                        <mat-option *ngFor=\"let a of agents\" [value]=\"a.agentId\">\n                            {{a.firstName}} {{a.lastName}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('agent').hasError('required') && (form.get('agent').touched || submitted)\">\n                        Please select an Agent\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput [matDatepicker]=\"saleDatePicker\" placeholder=\"Sale Date\" formControlName=\"saleDate\"\n                        required />\n                    <mat-datepicker-toggle matSuffix [for]=\"saleDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #saleDatePicker></mat-datepicker>\n                    <mat-error *ngIf=\"form.get('saleDate').hasError('required') && (form.get('saleDate').touched || submitted)\">\n                        Please select a sale date\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <input matInput placeholder=\"POD/Account\" formControlName=\"account\" required />\n                    <mat-error *ngIf=\"form.get('account').hasError('required') && (form.get('account').touched || submitted)\">\n                        Please enter a POD or Account No\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Sale Status\" formControlName=\"status\" required>\n                        <mat-option *ngFor=\"let s of statuses\" [value]=\"s.saleStatusId\">\n                            {{s.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('status').hasError('required') && (form.get('status').touched || submitted)\">\n                        Please select a status\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Paid Status\" formControlName=\"paidStatus\" required>\n                        <mat-option value=\"0\">Unpaid</mat-option>\n                        <mat-option value=\"1\">Paid</mat-option>\n                        <mat-option value=\"2\">Chargeback</mat-option>\n                        <mat-option value=\"3\">Repaid</mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('paidStatus').hasError('required') && (form.get('paidStatus').touched || submitted)\">\n                        Please select paid status\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <input matInput [matDatepicker]=\"paidDatePicker\" formControlName=\"paidDate\" placeholder=\"Paid Date\" />\n                    <mat-datepicker-toggle matSuffix [for]=\"paidDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #paidDatePicker></mat-datepicker>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <input matInput [matDatepicker]=\"chargebackDatePicker\" formControlName=\"chargeDate\" placeholder=\"Chargeback Date\" />\n                    <mat-datepicker-toggle matSuffix [for]=\"chargebackDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #chargebackDatePicker></mat-datepicker>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4\">\n                <mat-form-field>\n                    <input matInput [matDatepicker]=\"repaidDatePicker\" formControlName=\"repaidDate\" placeholder=\"Repaid Date\" />\n                    <mat-datepicker-toggle matSuffix [for]=\"repaidDatePicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #repaidDatePicker></mat-datepicker>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row my-4\">\n            <div class=\"col-md-12\">\n                <span>Customer Information</span>\n                <mat-divider></mat-divider>\n            </div>\n        </div>\n\n        <!-- CUSTOMER NAME -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"First Name\" formControlName=\"firstName\" required />\n                    <mat-error *ngIf=\"form.get('firstName').hasError('required') && (form.get('firstName').touched || submitted)\">\n                        Please enter a first name\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Last Name\" formControlName=\"lastName\" required />\n                    <mat-error *ngIf=\"form.get('lastName').hasError('required') && (form.get('lastName').touched || submitted)\">\n                        Please enter a last name\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- CUSTOMER ADDRESS -->\n        <div class=\"row\">\n            <div class=\"col-md-8\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Address\" formControlName=\"address\" required />\n                    <mat-error *ngIf=\"form.get('address').hasError('required') && (form.get('address').touched || submitted)\">\n                        Please enter a street address\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-4\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Apt/Suite/Unit\" formControlName=\"address2\" />\n                    <mat-hint>Optional</mat-hint>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- CUSTOMER ADDRESS CONT'D -->\n        <div class=\"row\">\n            <div class=\"col-md-7\">\n                <mat-form-field>\n                    <input matInput placeholder=\"City\" formControlName=\"city\" required />\n                    <mat-error *ngIf=\"form.get('city').hasError('required') && (form.get('city').touched || submitted)\">\n                        Please enter a city\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-2\">\n                <mat-form-field>\n                    <mat-select formControlName=\"state\" placeholder=\"State\" required>\n                        <mat-option *ngFor=\"let s of states\" [value]=\"s.abbreviation\">{{s.name}}</mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('state').hasError('required') && (form.get('state').touched || submitted)\">\n                        Select a State\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-3\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Zip\" formControlName=\"zip\" required />\n                    <mat-error *ngIf=\"form.get('zip').hasError('required') && (form.get('zip').touched || submitted)\">\n                        Please enter a zip code\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <mat-list formArrayName=\"remarks\">\n                    <div class=\"d-flex justify-content-between\">\n                        <h4 class=\"m-0\">\n                            Activity\n                        </h4>\n                        <span *ngIf=\"remarks.length\">\n                            <button type=\"button\" mat-stroked-button color=\"primary\" (click)=\"addRemark()\">\n                                Add Remark\n                            </button>\n                        </span>\n                    </div>\n\n                    <mat-form-field *ngIf=\"showAddRemarkInput\">\n                        <textarea matInput placeholder=\"Enter Remark\" #remarkField [formControl]=\"getRemarkFormControl()\"></textarea>\n                        <button mat-button type=\"button\" matSuffix mat-icon-button (click)=\"saveNewRemark()\">\n                            <mat-icon inline=\"true\">save</mat-icon>\n                        </button>\n                        <button mat-button type=\"button\" matSuffix mat-icon-button (click)=\"cancelNewRemark()\">\n                            <mat-icon inline=\"true\">clear</mat-icon>\n                        </button>\n                    </mat-form-field>\n                    <mat-list-item *ngFor=\"let r of remarks; let i=index\" [formGroupName]=\"i\" [matTooltip]=\"r.description\">\n                        <mat-icon mat-list-icon>note</mat-icon>\n                        <h4 mat-line>{{r.user.firstName}} {{r.user.lastName}}</h4>\n                        <p mat-line>{{r.description}}</p>\n                        <p mat-line>{{r.updatedAt | date}}</p>\n                        <mat-divider></mat-divider>\n                    </mat-list-item>\n                    <mat-list-item *ngIf=\"remarks.length < 1 && !showAddRemarkInput\" class=\"clickable\" (click)=\"addRemark()\">\n                        <mat-icon mat-list-icon>note_add</mat-icon>\n                        <h4 mat-line>Add a Remark</h4>\n                    </mat-list-item>\n\n                </mat-list>\n\n            </div>\n        </div>\n\n    </form>\n    <div class=\"float-right\">\n        <button mat-button (click)=\"onNoClick()\">Cancel</button>\n        <button mat-raised-button (click)=\"saveDialog()\" color=\"primary\" [disabled]=\"form.invalid\">Save</button>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/add-sale.component.scss":
/*!********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/add-sale.component.scss ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".add-daily-sale-form mat-form-field {\n  display: block; }\n\n.add-daily-sale-form /deep/ .mat-form-field-infix {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/add-sale.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/add-sale.component.ts ***!
  \******************************************************************/
/*! exports provided: AddSaleDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddSaleDialog", function() { return AddSaleDialog; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var AddSaleDialog = /** @class */ (function () {
    function AddSaleDialog(ref, data, fb, campaignService) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.campaignService = campaignService;
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_6__["States"].$get();
        this.hideTooltip = false;
        this.showAddRemarkInput = false;
    }
    AddSaleDialog.prototype.ngOnInit = function () {
        var _this = this;
        this.newRemarks = [];
        this.today = moment__WEBPACK_IMPORTED_MODULE_4__();
        this.existingSale = this.data.sale || {};
        this.isExistingSale = this.data.sale != null;
        this.remarks = this.data.sale != null
            ? this.data.sale.remarks : [];
        this.sortRemarks();
        this.statuses = this.data.statuses;
        this.agents = this.data.agents;
        this.selectedCampaign = this.data.selectedCampaign;
        this.user = this.data.user;
        if (this.isExistingSale && this.data.campaigns == null) {
            this.campaignService.getCampaigns(this.user.sessionUser.sessionClient, false)
                .then(function (results) {
                _this.campaigns = results;
            });
        }
        else {
            this.campaigns = lodash__WEBPACK_IMPORTED_MODULE_5__["cloneDeep"](this.data.campaigns);
            // remove "all campaigns" option, so that the user has to be pick a valid campaign
            lodash__WEBPACK_IMPORTED_MODULE_5__["remove"](this.campaigns, { 'campaignId': 0 });
        }
        this.createForm();
        this.submitted = true;
    };
    AddSaleDialog.prototype.onNoClick = function () {
        this.ref.close();
    };
    AddSaleDialog.prototype.saveDialog = function () {
        this.submitted = true;
        this.form.updateValueAndValidity();
        if (this.form.invalid)
            return;
        var dto = this.prepareModel();
        this.ref.close(dto);
    };
    AddSaleDialog.prototype.getFormControlValidity = function (field) {
        return this.form.get(field).invalid && (this.form.get(field).touched || this.form.pending);
    };
    AddSaleDialog.prototype.getRemarkAgent = function (id) {
        return lodash__WEBPACK_IMPORTED_MODULE_5__["find"](this.agents, { agentId: id }) || {};
    };
    AddSaleDialog.prototype.addRemark = function () {
        this.remarkControl = this.fb.group({
            remarkId: this.fb.control(''),
            description: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])
        });
        this.form.get('remarks').push(this.remarkControl);
        this.showAddRemarkInput = true;
    };
    AddSaleDialog.prototype.getRemarkFormControl = function () {
        return this.remarkControl.get('description');
    };
    AddSaleDialog.prototype.saveNewRemark = function () {
        var dto = {
            remarkId: this.remarkControl.value.remarkId,
            dailySaleId: this.existingSale.dailySaleId,
            description: this.remarkControl.value.description,
            modifiedBy: this.user.id,
            createdAt: moment__WEBPACK_IMPORTED_MODULE_4__(),
            updatedAt: moment__WEBPACK_IMPORTED_MODULE_4__(),
            user: this.user
        };
        this.remarks.push(dto);
        this.newRemarks.push(dto);
        this.showAddRemarkInput = false;
        this.sortRemarks();
    };
    AddSaleDialog.prototype.cancelNewRemark = function () {
        this.showAddRemarkInput = false;
    };
    AddSaleDialog.prototype.handlePaidStatusChange = function (event) {
        var selection = +event.value;
        var newActivityValue;
        switch (selection) {
            case _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].paid:
                newActivityValue = this.existingSale.paidDate || null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].chargeback:
                newActivityValue = this.existingSale.chargeDate || null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].repaid:
                newActivityValue = this.existingSale.repaidDate || null;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].unpaid:
            default:
                newActivityValue = null;
                break;
        }
        this.form.patchValue({ activityDate: newActivityValue });
    };
    AddSaleDialog.prototype.createForm = function () {
        var campaignValue = this.existingSale.campaignId != null && this.existingSale.campaignId > 0
            ? this.existingSale.campaignId
            : this.selectedCampaign.campaignId > 0
                ? this.selectedCampaign.campaignId
                : '';
        this.form = this.fb.group({
            saleDate: this.fb.control(this.existingSale.saleDate || this.today, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            agent: this.fb.control(this.existingSale.agentId || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            campaign: this.fb.control({ value: campaignValue, disabled: this.isExistingSale }, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            account: this.fb.control(this.existingSale.podAccount || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            firstName: this.fb.control(this.existingSale.firstName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            lastName: this.fb.control(this.existingSale.lastName || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            address: this.fb.control(this.existingSale.street || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            address2: this.fb.control(this.existingSale.street2 || ''),
            city: this.fb.control(this.existingSale.city || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            state: this.fb.control(this.existingSale.state || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            zip: this.fb.control(this.existingSale.zip || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            status: this.fb.control(this.existingSale.status || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            paidStatus: this.fb.control(this.formatPaidStatus() || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]),
            paidDate: this.fb.control(this.existingSale.paidDate || ''),
            chargeDate: this.fb.control(this.existingSale.chargeDate || ''),
            repaidDate: this.fb.control(this.existingSale.repaidDate || ''),
            remarks: this.createRemarksFormArray()
        });
    };
    AddSaleDialog.prototype.createRemarksFormArray = function () {
        var _this = this;
        var result = this.fb.array([]);
        this.remarks.forEach(function (r) {
            result.push(_this.fb.group({
                remarkId: _this.fb.control(r.remarkId),
                description: _this.fb.control(r.description || '', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required])
            }));
        });
        return result;
    };
    AddSaleDialog.prototype.prepareModel = function () {
        return {
            dailySaleId: this.existingSale.dailySaleId || null,
            agentId: this.form.value.agent,
            campaignId: this.form.value.campaign,
            clientId: this.user.sessionUser.sessionClient,
            firstName: this.form.value.firstName,
            lastName: this.form.value.lastName,
            street: this.form.value.address,
            street2: this.form.value.address2,
            city: this.form.value.city,
            state: this.form.value.state,
            zip: this.form.value.zip,
            status: this.form.value.status,
            paidStatus: this.form.value.paidStatus,
            paidDate: this.setActivityDateProperty(this.form.value.paidStatus, 'paidDate'),
            chargeDate: this.setActivityDateProperty(this.form.value.paidStatus, 'chargeDate'),
            repaidDate: this.setActivityDateProperty(this.form.value.paidStatus, 'repaidDate'),
            saleDate: this.form.value.saleDate,
            podAccount: this.form.value.account,
            remarks: this.newRemarks
        };
    };
    AddSaleDialog.prototype.formatPaidStatus = function () {
        return this.existingSale.paidStatus != null ? this.existingSale.paidStatus + '' : null;
    };
    AddSaleDialog.prototype.calculateActivityDate = function (sale) {
        var activityDate;
        switch (sale.paidStatus) {
            case _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].paid:
                activityDate = sale.paidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].chargeback:
                activityDate = sale.chargeDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].repaid:
                activityDate = sale.repaidDate;
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].unpaid:
            default:
                activityDate = null;
                break;
        }
        return activityDate;
    };
    AddSaleDialog.prototype.setActivityDateProperty = function (formPaidStatus, modelField) {
        var actMo = moment__WEBPACK_IMPORTED_MODULE_4__(this.form.value.activityDate);
        if (modelField == 'paidDate'
            && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].paid
            && actMo.isValid()) {
            return actMo.format('YYYY-MM-DD');
        }
        else if (modelField == 'chargeDate'
            && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].chargeback
            && actMo.isValid()) {
            return actMo.format('YYYY-MM-DD');
        }
        else if (modelField == 'repaidDate'
            && formPaidStatus == _app_models__WEBPACK_IMPORTED_MODULE_3__["PaidStatusType"].repaid
            && actMo.isValid()) {
            return actMo.format('YYYY-MM-DD');
        }
        return this.existingSale[modelField] || null;
    };
    AddSaleDialog.prototype.sortRemarks = function () {
        return lodash__WEBPACK_IMPORTED_MODULE_5__["orderBy"](this.remarks, ['updatedAt'], ['desc']);
    };
    AddSaleDialog = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'vs-add-daily-sale',
            template: __webpack_require__(/*! ./add-sale.component.html */ "./src/app/daily-sale-tracker/dialogs/add-sale.component.html"),
            styles: [__webpack_require__(/*! ./add-sale.component.scss */ "./src/app/daily-sale-tracker/dialogs/add-sale.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_7__["CampaignService"]])
    ], AddSaleDialog);
    return AddSaleDialog;
}());



/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/delete-sale.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<h5>Delete this sale?</h5>\n<p>Deleting a sale cannot be undone.</p>\n\n<div class=\"row justify-content-between\">\n  <button mat-button (click)=\"onNoClick()\">No</button>\n  <button mat-button color=\"primary\" [mat-dialog-close]=\"true\">Delete</button>\n</div>\n"

/***/ }),

/***/ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/daily-sale-tracker/dialogs/delete-sale.component.ts ***!
  \*********************************************************************/
/*! exports provided: DeleteSaleDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteSaleDialog", function() { return DeleteSaleDialog; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DeleteSaleDialog = /** @class */ (function () {
    function DeleteSaleDialog(ref) {
        this.ref = ref;
    }
    DeleteSaleDialog.prototype.onNoClick = function () {
        this.ref.close();
    };
    DeleteSaleDialog = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'delete-sale-dialog',
            template: __webpack_require__(/*! ./delete-sale.component.html */ "./src/app/daily-sale-tracker/dialogs/delete-sale.component.html")
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"]])
    ], DeleteSaleDialog);
    return DeleteSaleDialog;
}());



/***/ }),

/***/ "./src/app/dashboard/chart-js-content.ts":
/*!***********************************************!*\
  !*** ./src/app/dashboard/chart-js-content.ts ***!
  \***********************************************/
/*! exports provided: ChartJsContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartJsContent", function() { return ChartJsContent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ChartJsContent = /** @class */ (function () {
    function ChartJsContent(_template) {
        this._template = _template;
    }
    ChartJsContent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: 'chart-js-content, [chartJsContent], [chart-js-content]'
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]])
    ], ChartJsContent);
    return ChartJsContent;
}());



/***/ }),

/***/ "./src/app/dashboard/dashboard.component.html":
/*!****************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\n    <div class=\"row mb-4\">\n        <div class=\"col-md-12\">\n            <mat-card>\n                <mat-card-title>\n                    <div class=\"d-flex justify-content-between\">\n                        <h4>Sales Analysis</h4>\n                        <button mat-button type=\"button\" color=\"primary\" (click)=\"showAddSaleDialog()\">\n                            <mat-icon inline=\"true\">add_circle</mat-icon> SALE\n                        </button>\n                    </div>\n                </mat-card-title>\n                <mat-card-content [class.justify-content-between]=\"isMobileLayout\">\n                    <ng-container *ngIf=\"(user|async).role.role >= roleType.companyAdmin\">\n                        <mat-form-field>\n                            <mat-select [value]=\"selectedAgent.agentId\" (selectionChange)=\"handleAgentChange($event)\" placeholder=\"Currently Viewing:\">\n                                <mat-option *ngFor=\"let a of (agents|async)\" [value]=\"a.agentId\">\n                                    {{a.firstName}} {{a.lastName}}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </ng-container>\n                    <!-- <span *ngIf=\"(user|async).role.role < roleType.companyAdmin; else adminWorkspace\">Sales Analysis</span>\n                    <ng-template #adminWorkspace>\n                        <div class=\"h3\">\n                            <mat-form-field class=\"vs-toolbar-select\">\n                                <mat-select [value]=\"selectedAgent.agentId\" (selectionChange)=\"handleAgentChange($event)\">\n                                    <mat-option *ngFor=\"let a of (agents|async)\" [value]=\"a.agentId\">\n                                        {{a.firstName}} {{a.lastName}}\n                                    </mat-option>\n                                </mat-select>\n                            </mat-form-field>\n                            <span *ngIf=\"!isMobileLayout\">'s Sale Analysis</span>\n                        </div>\n                    </ng-template>\n                    <span class=\"flex-spacer\" *ngIf=\"!isMobileLayout\"></span>\n                    <button mat-raised-button type=\"button\" class=\"vs-toolbar-icon\" (click)=\"showAddSaleDialog()\">\n                        <mat-icon inline=\"true\">add_circle</mat-icon> SALE\n                    </button> -->\n                </mat-card-content>\n            </mat-card>\n            <!-- <mat-toolbar color=\"primary\">\n                <mat-toolbar-row [class.justify-content-between]=\"isMobileLayout\">\n                    <span *ngIf=\"(user|async).role.role < roleType.companyAdmin; else adminWorkspace\">Sales Analysis</span>\n                    <ng-template #adminWorkspace>\n                        <span>{{(user|async).firstName}} {{(user|async).lastName}}'s Workspace</span>\n                        <mat-form-field class=\"vs-toolbar-select\">\n                            <mat-select [value]=\"selectedAgent.agentId\" (selectionChange)=\"handleAgentChange($event)\">\n                                <mat-option *ngFor=\"let a of (agents|async)\" [value]=\"a.agentId\">\n                                    {{a.firstName}} {{a.lastName}}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                        <span *ngIf=\"!isMobileLayout\">'s Sale Analysis</span>\n                    </ng-template>\n                    <span class=\"flex-spacer\" *ngIf=\"!isMobileLayout\"></span>\n                    <mat-icon class=\"vs-toolbar-icon\">add_circle</mat-icon>\n                    <button mat-raised-button type=\"button\" class=\"vs-toolbar-icon\" (click)=\"showAddSaleDialog()\">\n                        <mat-icon inline=\"true\">add_circle</mat-icon> SALE\n                    </button>\n                </mat-toolbar-row>\n            </mat-toolbar> -->\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-md-8\">\n            <mat-card>\n                <mat-card-content>\n                    <canvas #chart>{{chartData}}</canvas>\n                </mat-card-content>\n                <mat-card-actions>\n                    <div class=\"row px-4\">\n                        <div class=\"col-md-6\" [ngClass]=\"{'d-flex justify-content-center': isMobileLayout}\">\n                            <mat-form-field>\n                                <input matInput [matDatepicker]=\"startDatepicker\" placeholder=\"Start Date\" [value]=\"startDate\"\n                                    (dateInput)=\"updateDashboard($event)\" [max]=\"endDate\" />\n                                <mat-datepicker-toggle matSuffix [for]=\"startDatepicker\"></mat-datepicker-toggle>\n                                <mat-datepicker #startDatepicker></mat-datepicker>\n                            </mat-form-field>\n                        </div>\n\n                        <div class=\"col-md-6\" [ngClass]=\"{'d-flex justify-content-center': isMobileLayout}\">\n                            <mat-form-field [class.float-right]=\"!isMobileLayout\">\n                                <input matInput [matDatepicker]=\"endDatepicker\" placeholder=\"End Date\" [value]=\"endDate\"\n                                    (dateInput)=\"updateDashboard($event, false)\" [min]=\"startDate\" />\n                                <mat-datepicker-toggle matSuffix [for]=\"endDatepicker\"></mat-datepicker-toggle>\n                                <mat-datepicker #endDatepicker></mat-datepicker>\n                            </mat-form-field>\n                        </div>\n\n                    </div>\n                </mat-card-actions>\n            </mat-card>\n        </div>\n        <div class=\"col-md-4 sale-stream-container\">\n            <h5 class=\"mb-0\">Filter: </h5>\n            <div class=\"card mb-2\">\n                <mat-button-toggle-group #filterBy=\"matButtonToggleGroup\" (change)=\"handleFilter($event)\" [value]=\"selectedFilter\">\n                    <mat-button-toggle value=\"-1\">\n                        None\n                    </mat-button-toggle>\n                    <mat-button-toggle value=\"0\">\n                        Unpaid\n                    </mat-button-toggle>\n                    <mat-button-toggle value=\"1\">\n                        Paid\n                    </mat-button-toggle>\n                    <mat-button-toggle value=\"2\">\n                        Chargeback\n                    </mat-button-toggle>\n                    <mat-button-toggle value=\"3\">\n                        Repaid\n                    </mat-button-toggle>\n                </mat-button-toggle-group>\n            </div>\n            <div [class.sale-stream]=\"!isMobileLayout\">\n                <div class=\"card my-1\" *ngFor=\"let s of (sales|async)\">\n                    <div class=\"d-flex m-2\">\n                        <div class=\"mx-2\">\n                            <div><mat-icon>person</mat-icon></div>\n                            <div *ngIf=\"isSalePaid(s.paidStatus)\" class=\"text-success\"><mat-icon>monetization_on</mat-icon></div>\n                        </div>\n                        <div class=\"flex-grow-1\">\n                            <h5 class=\"card-title\">{{s.firstName}} {{s.lastName}}</h5>\n                            <div class=\"card-text\">\n                                <div>\n                                    <span class=\"font-weight-bold\">Status:</span><br />\n                                    {{getStatus(s.status).name}}\n                                </div>\n                                <div *ngIf=\"isSalePaid(s.paidStatus)\" class=\"text-muted font-italic\">\n                                    <span>Paid:</span>\n                                    <ng-container *ngIf=\"s.paidDate != null; else noPaidDate\">{{s.paidDate | date:'shortDate'}}</ng-container>\n                                    <ng-template #noPaidDate>[No Paid Date]</ng-template>\n                                </div>\n                                <address class=\"mt-3\">\n                                    {{s.street}} {{s.street2}} <br />\n                                    {{s.city}}, {{s.state}} {{s.zip}}\n                                </address>\n                            </div>\n                        </div>\n                        <div>\n                            <span class=\"badge badge-pill\" [ngClass]=\"getBadgeColorFromPaidStatus(s.paidStatus)\">{{getPaidStatus(s.paidStatus)}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"

/***/ }),

/***/ "./src/app/dashboard/dashboard.component.scss":
/*!****************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.scss ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".sale-stream {\n  max-height: 392px;\n  overflow-y: scroll; }\n"

/***/ }),

/***/ "./src/app/dashboard/dashboard.component.ts":
/*!**************************************************!*\
  !*** ./src/app/dashboard/dashboard.component.ts ***!
  \**************************************************/
/*! exports provided: DashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardComponent", function() { return DashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/core/agents/agents.service */ "./src/app/core/agents/agents.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/dashboard/dialogs/add-sale-dialog.component */ "./src/app/dashboard/dialogs/add-sale-dialog.component.ts");
/* harmony import */ var _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @app/campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @app/client-information/client.service */ "./src/app/client-information/client.service.ts");
/* harmony import */ var _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/daily-sale-tracker/daily-sale-tracker.service */ "./src/app/daily-sale-tracker/daily-sale-tracker.service.ts");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! chart.js */ "./node_modules/chart.js/src/chart.js");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(chart_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/cdk/layout */ "./node_modules/@angular/cdk/esm5/layout.es5.js");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @app/agent/agent.service */ "./src/app/agent/agent.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var DashboardComponent = /** @class */ (function () {
    function DashboardComponent(session, agentsService, /** we are going to deprecate this soon... 10/22/18 */ dialog, campaignService, clientService, dailySaleService, breakpoints, msg, rend, agentService) {
        var _this = this;
        this.session = session;
        this.agentsService = agentsService;
        this.dialog = dialog;
        this.campaignService = campaignService;
        this.clientService = clientService;
        this.dailySaleService = dailySaleService;
        this.breakpoints = breakpoints;
        this.msg = msg;
        this.rend = rend;
        this.agentService = agentService;
        this.selectedFilter = '-1';
        this.roleType = {
            systemAdmin: 7,
            companyAdmin: 6,
            humanResources: 5,
            regManager: 4,
            manager: 3,
            supervisor: 2,
            user: 1
        };
        this.store = {};
        this.sales$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        breakpoints.observe([
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_13__["Breakpoints"].HandsetLandscape,
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_13__["Breakpoints"].HandsetPortrait
        ]).subscribe(function (result) {
            _this.isMobileLayout = result.matches;
        });
        this.sales = this.sales$.asObservable();
    }
    DashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        // we must set the time to 0:00 in order to correctly do calculations, because momentjs 
        // will calculate and round the hours & minutes to the closest day otherwise. 
        var today = moment__WEBPACK_IMPORTED_MODULE_1__().hours(0).minutes(0).seconds(0);
        this.startDate = today.clone().subtract(1, 'week');
        this.endDate = today.clone().hours(11);
        this.selectedAgent = {};
        this.session.getUserItem().subscribe(function (u) {
            _this.store.user = u;
            _this.user = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(u);
            if (u.role.role >= _this.roleType.companyAdmin) {
                _this.agentsService.getAgentsByClient(u.sessionUser.sessionClient)
                    .subscribe(function (users) {
                    _this.store.users = users;
                    _this.store.agents = _this.mapUserToAgent(users);
                    _this.agents = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(_this.store.agents);
                    _this.selectedAgent = _this.store.agents[0];
                    _this.loadSales();
                });
            }
            else if (u.role.role == _this.roleType.manager || u.role.role == _this.roleType.supervisor) {
                /** TODO: FIGURE OUT WHAT NEEDS TO HAPPEN HERE... HOW DO I GET JUST AGENTS FOR THIS USER */
            }
            else {
                if (_this.store.user.agent == null) {
                    _this.agentService.getAgentByUser(_this.store.user.sessionUser.sessionClient, _this.store.user.id)
                        .subscribe(function (agent) {
                        _this.selectedAgent = agent;
                        /** After we've gotten a selected agent, let's load the sales */
                        _this.loadSales();
                    });
                }
                else {
                    _this.loadSales();
                }
            }
        });
    };
    /**
     * This is our beef cake, work horse method right here that does all the heavy lifting.
     *
     * Make sure the user is set and selected agent is set before calling this.
     */
    DashboardComponent.prototype.loadSales = function () {
        var _this = this;
        this.campaignService.getCampaignsByAgent(this.store.user.sessionUser.sessionClient, this.selectedAgent.agentId)
            .subscribe(function (campaigns) {
            _this.store.campaigns = campaigns;
            _this.campaigns = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(campaigns);
        });
        this.dailySaleService.getDailySalesByAgent(this.store.user.sessionUser.sessionClient, this.selectedAgent.agentId, this.startDate.toDateString(), this.endDate.toDateString()).subscribe(function (sales) {
            _this.store.sales = lodash__WEBPACK_IMPORTED_MODULE_2__["orderBy"](sales, ['saleDate'], ['desc']);
            _this.sales$.next(_this.store.sales);
            _this.clientService.getSaleStatuses(_this.store.user.sessionUser.sessionClient).subscribe(function (statuses) {
                _this.store.statuses = statuses;
                _this.createChart(sales);
            });
        });
    };
    DashboardComponent.prototype.ngAfterContentInit = function () {
        var chart = this.rend.createElement('canvas');
        chart.innerHTML = chart;
        // this.portal = new TemplatePortal(this.chartRef.nativeElement, this.viewContainerRef, chart);
    };
    DashboardComponent.prototype.addChartElement = function () {
    };
    DashboardComponent.prototype.mapUserToAgent = function (users) {
        var result = [];
        for (var i = 0; i < users.length; i++) {
            if (users[i].agent == null)
                continue;
            result.push(users[i].agent);
        }
        return result;
    };
    DashboardComponent.prototype.getStatus = function (statusId) {
        if (statusId == null)
            return { name: null, clientId: null, saleStatusId: null, isActive: null };
        return (lodash__WEBPACK_IMPORTED_MODULE_2__["find"](this.store.statuses, { saleStatusId: statusId }) || {
            name: null,
            clientId: null,
            saleStatusId: null,
            isActive: null
        });
    };
    DashboardComponent.prototype.getPaidStatus = function (paidStatusId) {
        if (paidStatusId == null)
            return null;
        var result;
        switch (paidStatusId) {
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].paid:
                result = 'Paid';
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].repaid:
                result = 'Repaid';
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].chargeback:
                result = 'Chargeback';
                break;
            case _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].unpaid:
            default:
                result = 'Unpaid';
                break;
        }
        return result;
    };
    DashboardComponent.prototype.isSalePaid = function (paidStatus) {
        if (paidStatus == null)
            return false;
        return paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].paid || paidStatus == _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].repaid;
    };
    DashboardComponent.prototype.getBadgeColorFromPaidStatus = function (payStatus) {
        if (payStatus == _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].unpaid) {
            return 'badge-warning';
        }
        else if (payStatus == _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].paid) {
            return 'badge-success';
        }
        else if (payStatus == _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].chargeback) {
            return 'badge-danger';
        }
        else if (payStatus == _app_models__WEBPACK_IMPORTED_MODULE_4__["PaidStatusType"].repaid) {
            return 'badge-success';
        }
    };
    DashboardComponent.prototype.createChart = function (sales) {
        var chartDate = this.startDate.clone();
        var labels = [], suggestedMax = 0;
        var numDays = this.calculateDuration();
        var _loop_1 = function (i) {
            var checkDate = chartDate.clone().add(i, 'days');
            labels.push(checkDate.format('l'));
            var salesCount = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](sales, function (s) {
                return moment__WEBPACK_IMPORTED_MODULE_1__(s.saleDate).isSame(checkDate, 'day');
            }).length;
            if (salesCount > suggestedMax)
                suggestedMax = salesCount + 3;
        };
        for (var i = 0; i <= numDays; i++) {
            _loop_1(i);
        }
        this.createNewChart(suggestedMax, labels, sales);
    };
    DashboardComponent.prototype.createNewChart = function (suggestedMax, labels, sales) {
        this.chartData = new chart_js__WEBPACK_IMPORTED_MODULE_12__["Chart"](this.chartRef.nativeElement, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: this.createSaleDataArray(sales)
            },
            options: {
                scales: {
                    xAxes: [{ stacked: true }],
                    yAxes: [
                        {
                            stacked: true,
                            beginAtZero: true,
                            ticks: {
                                suggestedMax: suggestedMax,
                                min: 0,
                                stepSize: 1
                            }
                        }
                    ]
                }
            }
        });
    };
    DashboardComponent.prototype.updateAngularChartView = function () {
        this.vc.detach();
        this.vc.insert(this.chartTemplate.createEmbeddedView(null));
    };
    DashboardComponent.prototype.updateChartDatasets = function (sales) {
        // TODO: Chart.js Angular bug where the dom element doesn't actually get removed and unable to properly update 
        // the chart.
        this.chartData.clear();
        this.chartData.destroy();
        var chartDate = this.startDate.clone();
        var labels = [];
        var suggestedMax = 0;
        var numDays = this.calculateDuration();
        var _loop_2 = function (i) {
            var checkDate = chartDate.clone().add(i, 'days');
            labels.push(checkDate.format('l'));
            var salesCount = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](sales, function (s) {
                return moment__WEBPACK_IMPORTED_MODULE_1__(s.saleDate).isSame(checkDate, 'day');
            }).length;
            if (salesCount > suggestedMax)
                suggestedMax = salesCount + 3;
        };
        for (var i = 0; i <= numDays; i++) {
            _loop_2(i);
        }
        this.createNewChart(suggestedMax, labels, sales);
    };
    DashboardComponent.prototype.createSaleDataArray = function (sales) {
        var _this = this;
        var chartDate = this.startDate.clone();
        var salesData = [];
        this.store.statuses.forEach(function (s) {
            var columnData = {
                label: s.name,
                data: [],
                backgroundColor: _this.randomColor()
            };
            var numDays = _this.calculateDuration();
            var _loop_3 = function (i) {
                var checkDate = chartDate.clone().add(i, 'days');
                var filteredSales = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](sales, function (sale) {
                    return sale.status == s.saleStatusId && moment__WEBPACK_IMPORTED_MODULE_1__(sale.saleDate).isSame(checkDate, 'day');
                });
                columnData.data.push({
                    x: checkDate.format('l'),
                    y: filteredSales.length || 0
                });
            };
            // loop through seven days
            for (var i = 0; i <= numDays; i++) {
                _loop_3(i);
            }
            salesData.push(columnData);
        });
        return salesData;
    };
    /**
     * Custom method to find the duration including the start/end dates to display on the chart.
     *
     */
    DashboardComponent.prototype.calculateDuration = function () {
        var start = this.startDate.clone();
        var end = this.endDate.clone();
        return end.diff(start, 'days');
    };
    DashboardComponent.prototype.randomColor = function () {
        var r = Math.floor(Math.random() * 255);
        var g = Math.floor(Math.random() * 255);
        var b = Math.floor(Math.random() * 255);
        return "rgba(" + r + ", " + g + ", " + b + ", 0.5)";
    };
    DashboardComponent.prototype.updateDashboard = function (event, isStart) {
        var _this = this;
        if (event === void 0) { event = null; }
        if (isStart === void 0) { isStart = true; }
        if (event != null && event.value != null) {
            if (isStart) {
                this.startDate = moment__WEBPACK_IMPORTED_MODULE_1__(event.value).hours(0).minutes(0).seconds(0);
            }
            else {
                this.endDate = moment__WEBPACK_IMPORTED_MODULE_1__(event.value).hours(11).minutes(0).seconds(0);
            }
        }
        var startDate = this.startDate.clone().toDateString();
        var endDate = this.endDate.clone().toDateString();
        this.dailySaleService
            .getDailySalesByAgent(this.store.user.id, this.selectedAgent.agentId, startDate, endDate)
            .subscribe(function (sales) {
            _this.store.sales = lodash__WEBPACK_IMPORTED_MODULE_2__["orderBy"](sales, ['saleDate'], ['desc']);
            _this.handleFilter();
        });
    };
    DashboardComponent.prototype.handleAgentChange = function (event) {
        this.selectedAgent = lodash__WEBPACK_IMPORTED_MODULE_2__["find"](this.store.agents, { agentId: event.value });
        this.updateDashboard();
    };
    DashboardComponent.prototype.showAddSaleDialog = function () {
        var _this = this;
        this.dialog
            .open(_app_dashboard_dialogs_add_sale_dialog_component__WEBPACK_IMPORTED_MODULE_8__["AgentAddSaleDialog"], {
            width: '600px',
            data: {
                user: this.store.user,
                agent: this.selectedAgent,
                campaigns: this.store.campaigns,
                statuses: this.store.statuses
            }
        })
            .afterClosed()
            .subscribe(function (result) {
            if (result == null)
                return;
            var newSale = result.dailySaleId == null || result.dailySaleId < 1;
            _this.dailySaleService
                .createDailySale(_this.store.user.sessionUser.sessionClient, result)
                .subscribe(function (sale) {
                var existing = lodash__WEBPACK_IMPORTED_MODULE_2__["findIndex"](_this.store.sales, { dailySaleId: sale.dailySaleId });
                if (newSale) {
                    /** If the array in the store isn't instaniated */
                    if (_this.store.sales == null)
                        _this.store.sales = [];
                    _this.store.sales.push(sale);
                    _this.store.sales = lodash__WEBPACK_IMPORTED_MODULE_2__["orderBy"](_this.store.sales, ['saleDate'], ['desc']);
                }
                else {
                    _this.store.sales[existing] = sale;
                }
                _this.handleFilter();
            });
        });
    };
    DashboardComponent.prototype.handleFilter = function (event) {
        var _this = this;
        if (event === void 0) { event = null; }
        if (event != null)
            this.selectedFilter = event.value;
        if (this.selectedFilter == -1) {
            this.updateChartDatasets(this.store.sales);
            this.sales$.next(this.store.sales);
        }
        else {
            var filteredSales = lodash__WEBPACK_IMPORTED_MODULE_2__["filter"](this.store.sales, function (sale) {
                return sale.paidStatus == _this.selectedFilter;
            });
            this.updateChartDatasets(filteredSales);
            this.sales$.next(this.store.sales);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('chart'),
        __metadata("design:type", Object)
    ], DashboardComponent.prototype, "chartRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('chartTemplate'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"])
    ], DashboardComponent.prototype, "chartTemplate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('chartContainer', { read: 'ViewContainerRef' }),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"])
    ], DashboardComponent.prototype, "vc", void 0);
    DashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-dashboard',
            template: __webpack_require__(/*! ./dashboard.component.html */ "./src/app/dashboard/dashboard.component.html"),
            styles: [__webpack_require__(/*! ./dashboard.component.scss */ "./src/app/dashboard/dashboard.component.scss")]
        }),
        __metadata("design:paramtypes", [_app_session_service__WEBPACK_IMPORTED_MODULE_5__["SessionService"],
            _app_core_agents_agents_service__WEBPACK_IMPORTED_MODULE_6__["AgentsService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatDialog"],
            _app_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_9__["CampaignService"],
            _app_client_information_client_service__WEBPACK_IMPORTED_MODULE_10__["ClientService"],
            _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_11__["DailySaleTrackerService"],
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_13__["BreakpointObserver"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_14__["MessageService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"],
            _app_agent_agent_service__WEBPACK_IMPORTED_MODULE_15__["AgentService"]])
    ], DashboardComponent);
    return DashboardComponent;
}());



/***/ }),

/***/ "./src/app/dashboard/dialogs/add-sale-dialog.component.html":
/*!******************************************************************!*\
  !*** ./src/app/dashboard/dialogs/add-sale-dialog.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<h3 mat-dialog-title>\n    Add Sale\n    <button type=\"button\" class=\"float-right\" mat-icon-button (click)=\"onNoClick()\" tabindex=\"-1\">\n        <mat-icon>clear</mat-icon>\n    </button>\n</h3>\n<p class=\"text-muted\">\n    All fields denoted with * are required.\n</p>\n<mat-dialog-content class=\"add-daily-sale-form\">\n    <form [formGroup]=\"form\">\n\n        <!-- CAMPAIGN AND SALE DATE -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <mat-select placeholder=\"Campaign\" formControlName=\"campaignId\" required>\n                        <mat-option *ngFor=\"let c of campaigns\" [value]=\"c.campaignId\">\n                            {{c.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('campaignId').hasError('required') && (form.get('campaignId').touched || submitted)\">\n                        Please select a campaign\n                    </mat-error>\n                </mat-form-field>\n            </div>\n\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input \n                        matInput\n                        [matDatepicker]=\"saleDatepicker\"\n                        placeholder=\"Sale Date\"\n                        formControlName=\"saleDate\"\n                        required\n                    />\n                    <mat-datepicker-toggle matSuffix [for]=\"saleDatepicker\"></mat-datepicker-toggle>\n                    <mat-datepicker #saleDatepicker></mat-datepicker>\n                    <mat-error *ngIf=\"form.get('saleDate').hasError('required') && (form.get('saleDate').touched || submitted)\">\n                        Please select a sale date\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row my-4\">\n            <div class=\"col-md-12\">\n                <span>Customer Information</span>\n                <mat-divider></mat-divider>\n            </div>\n        </div>\n\n        <!-- POD/ACCOUNT -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"POD/Account\" formControlName=\"podAccount\" (blur)=\"checkUniqueAccount()\" required />\n                    <mat-error *ngIf=\"form.get('podAccount').hasError('required') && (form.get('podAccount').touched || submitted)\">\n                        Please enter a POD or Account No\n                    </mat-error>\n                    <mat-error *ngIf=\"form.get('podAccount').hasError('notUnique') && (form.get('podAccount').touched || submitted)\">\n                        Please enter a unique Account No\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- CUSTOMER NAME  -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"First Name\" formControlName=\"firstName\" required />\n                    <mat-error *ngIf=\"form.get('firstName').hasError('required') && (form.get('firstName').touched || submitted)\">\n                        Please enter a first name\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Last Name\" formControlName=\"lastName\" required />\n                    <mat-error *ngIf=\"form.get('lastName').hasError('required') && (form.get('lastName').touched || submitted)\">\n                        Please enter a last name\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- CUSTOMER ADDRESS -->\n        <div class=\"row\">\n            <div class=\"col-md-8\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Address\" formControlName=\"street\" required />\n                    <mat-error *ngIf=\"form.get('street').hasError('required') && (form.get('street').touched || submitted)\">\n                        Please enter a street address\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-4\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Apt/Suite/Unit\" formControlName=\"street2\" />\n                    <mat-hint>Optional</mat-hint>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <!-- CUSTOMER ADDRESS CON'T -->\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <mat-form-field>\n                    <input matInput placeholder=\"City\" formControlName=\"city\" required />\n                    <mat-error *ngIf=\"form.get('city').hasError('required') && (form.get('city').touched || submitted)\">\n                        Please enter a city\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-3\">\n                <mat-form-field>\n                    <mat-select formControlName=\"state\" placeholder=\"State\" required>\n                        <mat-option *ngFor=\"let s of states\" [value]=\"s.abbreviation\">\n                            {{s.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"form.get('state').hasError('required') && (form.get('state').touched || submitted)\">\n                        Please select a state\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-md-3\">\n                <mat-form-field>\n                    <input matInput placeholder=\"Postal Code\" formControlName=\"zip\" required />\n                    <mat-error *ngIf=\"form.get('zip').hasError('required') && (form.get('zip').touched || submitted)\">\n                        Please enter a zip code\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n    </form>\n</mat-dialog-content>\n<mat-dialog-actions class=\"d-flex justify-content-between\">\n    <button mat-button (click)=\"onNoClick()\">Cancel</button>\n    <button\n        mat-raised-button\n        (click)=\"saveAgentSale()\"\n        color=\"primary\"\n        [disabled]=\"form.invalid\"\n    >Save</button>\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/dashboard/dialogs/add-sale-dialog.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/dashboard/dialogs/add-sale-dialog.component.scss ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".add-daily-sale-form mat-form-field {\n  display: block; }\n\n.add-daily-sale-form /deep/ .mat-form-field-infix {\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/dashboard/dialogs/add-sale-dialog.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/dashboard/dialogs/add-sale-dialog.component.ts ***!
  \****************************************************************/
/*! exports provided: AgentAddSaleDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentAddSaleDialog", function() { return AgentAddSaleDialog; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
/* harmony import */ var _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @app/daily-sale-tracker/daily-sale-tracker.service */ "./src/app/daily-sale-tracker/daily-sale-tracker.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};








var AgentAddSaleDialog = /** @class */ (function () {
    function AgentAddSaleDialog(ref, data, fb, dailySaleService) {
        this.ref = ref;
        this.data = data;
        this.fb = fb;
        this.dailySaleService = dailySaleService;
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_6__["States"].$get();
    }
    AgentAddSaleDialog.prototype.ngOnInit = function () {
        this.agent = this.data.agent || {};
        this.campaigns = this.data.campaigns || [];
        this.user = this.data.user || {};
        this.statuses = this.data.statuses || [];
        this.createForm();
    };
    AgentAddSaleDialog.prototype.saveAgentSale = function () {
        this.submitted = true;
        if (this.form.invalid)
            return;
        this.ref.close(this.prepareModel());
    };
    AgentAddSaleDialog.prototype.onNoClick = function () {
        this.ref.close();
    };
    AgentAddSaleDialog.prototype.checkUniqueAccount = function () {
        var _this = this;
        var account = this.form.value.podAccount;
        if (account == null || account.length < 1)
            return;
        this.dailySaleService.checkUniquePodAccount(account)
            .subscribe(function (unique) {
            if (!unique)
                _this.form.controls.podAccount.setErrors({ 'notUnique': true });
        });
    };
    AgentAddSaleDialog.prototype.createForm = function () {
        this.form = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroup"]({
            saleDate: this.fb.control(moment__WEBPACK_IMPORTED_MODULE_4__().format('YYYY-MM-DD'), [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            agentId: this.fb.control(this.agent.agentId, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            campaignId: this.fb.control({ value: this.campaigns[0].campaignId, disabled: this.campaigns.length < 2 }, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            podAccount: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            firstName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            lastName: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            street: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            street2: this.fb.control(''),
            city: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            state: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]),
            zip: this.fb.control('', [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])
        });
    };
    AgentAddSaleDialog.prototype.prepareModel = function () {
        var pendingStatusQuery = lodash__WEBPACK_IMPORTED_MODULE_5__["find"](this.statuses, function (s) {
            return s.name.toLowerCase() == 'pending';
        }).saleStatusId;
        return {
            dailySaleId: null,
            agentId: this.form.value.agentId,
            campaignId: this.form.value.campaignId,
            clientId: this.user.sessionUser.sessionClient,
            firstName: this.form.value.firstName,
            lastName: this.form.value.lastName,
            street: this.form.value.street,
            street2: this.form.value.street2,
            city: this.form.value.city,
            state: this.form.value.state,
            zip: this.form.value.zip,
            status: pendingStatusQuery || -1,
            paidStatus: _app_models__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"].unpaid,
            podAccount: this.form.value.podAccount,
            remarks: [],
            saleDate: this.form.value.saleDate
        };
    };
    AgentAddSaleDialog = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'vs-agent-sale-dialog',
            template: __webpack_require__(/*! ./add-sale-dialog.component.html */ "./src/app/dashboard/dialogs/add-sale-dialog.component.html"),
            styles: [__webpack_require__(/*! ./add-sale-dialog.component.scss */ "./src/app/dashboard/dialogs/add-sale-dialog.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Object, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _app_daily_sale_tracker_daily_sale_tracker_service__WEBPACK_IMPORTED_MODULE_7__["DailySaleTrackerService"]])
    ], AgentAddSaleDialog);
    return AgentAddSaleDialog;
}());



/***/ }),

/***/ "./src/app/fab-float-btn/fab-float-btn.component.html":
/*!************************************************************!*\
  !*** ./src/app/fab-float-btn/fab-float-btn.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<button\n  mat-fab\n  [ngClass]=\"{'vfb-resting': !(isOpen | async), 'vfb-open': (isOpen | async), 'bottom-left':bottomLeft, 'bottom-right':bottomRight, 'top-left':topLeft, 'top-right':topRight}\"\n  [attr.color]=\"colorType\"\n  color=\"accent\"\n  [attr.disabled]=\"disabled\"\n  (click)=\"onClick()\"\n>\n  <mat-icon [attr.aria-label]=\"ariaLabel\">{{matIcon}}</mat-icon>\n</button>\n"

/***/ }),

/***/ "./src/app/fab-float-btn/fab-float-btn.component.scss":
/*!************************************************************!*\
  !*** ./src/app/fab-float-btn/fab-float-btn.component.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*-------------------------------*\\\n  #VARS\n\\*-------------------------------*/\n/*-------------------------------*\\\n  #BASE | Raw Styles\n\\*-------------------------------*/\n/**\n * CORE BUTTON STYLES\n */\n.top-left, .top-right, .bottom-left, .bottom-right {\n  margin: 25px;\n  position: fixed;\n  white-space: nowrap; }\n/*-------------------------------*\\\n  #BASE | Modifiers\n\\*-------------------------------*/\n.top-left {\n  left: 0;\n  top: 0; }\n.top-right {\n  right: 0;\n  top: 0; }\n.bottom-left {\n  left: 0;\n  bottom: 0; }\n.bottom-right {\n  right: 0;\n  bottom: 0; }\n/*------------------------------------*\\\n    #BUTTONS | Modifiers\n\\*------------------------------------*/\n.vfb-resting, .vfb-active {\n  -webkit-transform: scale(1) rotate(360deg);\n  transform: scale(1) rotate(360deg);\n  transition: -webkit-transform 150ms cubic-bezier(0.4, 0, 1, 1);\n  transition: transform 150ms cubic-bezier(0.4, 0, 1, 1);\n  transition: transform 150ms cubic-bezier(0.4, 0, 1, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 1, 1); }\n.vfb-open {\n  -webkit-transform: scale(1) rotate(45deg);\n  transform: scale(1) rotate(45deg);\n  transition: -webkit-transform 150ms cubic-bezier(0.4, 0, 1, 1);\n  transition: transform 150ms cubic-bezier(0.4, 0, 1, 1);\n  transition: transform 150ms cubic-bezier(0.4, 0, 1, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 1, 1); }\n"

/***/ }),

/***/ "./src/app/fab-float-btn/fab-float-btn.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/fab-float-btn/fab-float-btn.component.ts ***!
  \**********************************************************/
/*! exports provided: FabFloatBtnComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FabFloatBtnComponent", function() { return FabFloatBtnComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FabFloatBtnComponent = /** @class */ (function () {
    function FabFloatBtnComponent(el) {
        this.callback = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        var element = el.nativeElement;
        this.colorType = element.getAttribute('color') || null;
        this.ariaLabel = element.getAttribute('aria-label') || null;
        this.matIcon = element.getAttribute('mat-icon') || null;
        this.isMini = element.getAttribute('is-mini') != null ? true : false;
        this.disabled = element.getAttribute('disabled') != null ? 'disabled' : 'false';
        this.position = element.getAttribute('position');
        this.topLeft = this.position == 'tl';
        this.topRight = this.position == 'tr';
        this.bottomLeft = this.position == 'bl';
        this.bottomRight = this.position == 'br'
            ? true
            : (!this.topLeft && !this.topRight && !this.bottomLeft)
                ? true
                : false;
    }
    FabFloatBtnComponent.prototype.ngOnInit = function () {
        this.buttonType = this.isMini ? 'mat-mini-fab' : 'mat-fab';
    };
    FabFloatBtnComponent.prototype.onClick = function () {
        // call the callback!
        this.callback.emit('any');
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], FabFloatBtnComponent.prototype, "callback", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"])
    ], FabFloatBtnComponent.prototype, "isOpen", void 0);
    FabFloatBtnComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'vs-float-button',
            template: __webpack_require__(/*! ./fab-float-btn.component.html */ "./src/app/fab-float-btn/fab-float-btn.component.html"),
            styles: [__webpack_require__(/*! ./fab-float-btn.component.scss */ "./src/app/fab-float-btn/fab-float-btn.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]])
    ], FabFloatBtnComponent);
    return FabFloatBtnComponent;
}());



/***/ }),

/***/ "./src/app/fab-float-btn/fab-float-btn.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/fab-float-btn/fab-float-btn.module.ts ***!
  \*******************************************************/
/*! exports provided: FabFloatBtnModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FabFloatBtnModule", function() { return FabFloatBtnModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_fab_float_btn_fab_float_btn_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @app/fab-float-btn/fab-float-btn.component */ "./src/app/fab-float-btn/fab-float-btn.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _app_material_material_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var FabFloatBtnModule = /** @class */ (function () {
    function FabFloatBtnModule() {
    }
    FabFloatBtnModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"], _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["BrowserModule"], _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__["BrowserAnimationsModule"], _app_material_material_module__WEBPACK_IMPORTED_MODULE_4__["MaterialModule"]],
            declarations: [_app_fab_float_btn_fab_float_btn_component__WEBPACK_IMPORTED_MODULE_1__["FabFloatBtnComponent"]],
            exports: [_app_fab_float_btn_fab_float_btn_component__WEBPACK_IMPORTED_MODULE_1__["FabFloatBtnComponent"]]
        }),
        __metadata("design:paramtypes", [])
    ], FabFloatBtnModule);
    return FabFloatBtnModule;
}());



/***/ }),

/***/ "./src/app/fab-float-btn/float-btn.service.ts":
/*!****************************************************!*\
  !*** ./src/app/fab-float-btn/float-btn.service.ts ***!
  \****************************************************/
/*! exports provided: FloatBtnService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FloatBtnService", function() { return FloatBtnService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FloatBtnService = /** @class */ (function () {
    function FloatBtnService() {
        this.opened$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
    }
    FloatBtnService.prototype.toggle = function (opened) {
        var value = opened || !this._opened;
        this._opened = value;
        this.opened$.next(this._opened);
    };
    FloatBtnService.prototype.open = function () {
        this._opened = true;
        this.opened$.next(true);
    };
    FloatBtnService.prototype.close = function () {
        this._opened = false;
        this.opened$.next(false);
    };
    FloatBtnService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], FloatBtnService);
    return FloatBtnService;
}());



/***/ }),

/***/ "./src/app/header/header.component.css":
/*!*********************************************!*\
  !*** ./src/app/header/header.component.css ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".toolbar-spacer {\n  flex: 1 1 auto;\n}\n\n.toolbar-icon {\n  padding: 0 14px;\n}\n\n.mat-menu-item {\n  font-size: .85rem;\n}\n"

/***/ }),

/***/ "./src/app/header/header.component.html":
/*!**********************************************!*\
  !*** ./src/app/header/header.component.html ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\" class=\"mb-4\">\n  <mat-toolbar-row>\n    <span *ngIf=\"(loggedInStatus | async)\">\n      <button mat-icon-button (click)=\"toggleSidenav()\">\n        <mat-icon>{{(navOpen|async) ? 'arrow_back_ios' : 'menu'}}</mat-icon>\n      </button>\n    </span>\n    <span routerLink=\"/\">{{menuTitle | async}}</span>\n    <span class=\"toolbar-spacer\"></span>\n    <button mat-icon-button [matMenuTriggerFor]=\"menu\" *ngIf=\"(loggedInStatus | async); else loggedOut\">\n      <mat-icon>more_vert</mat-icon>\n    </button>\n    <mat-menu #menu=\"matMenu\" class=\"mat-menu\">\n      <button mat-menu-item *ngIf=\"(loggedInStatus | async) && showClientSelector\" (click)=\"openDialog()\">Change Client</button>\n      <!-- <button mat-menu-item *ngIf=\"isAdmin\"></button> -->\n      <button mat-menu-item (click)=\"onLogout()\" *ngIf=\"(loggedInStatus | async)\">Logout</button>\n      <!-- <ng-template #loggedOut><button mat-menu-item routerLink=\"/login\"> Login </button></ng-template> -->\n    </mat-menu>\n    <ng-template #loggedOut>\n        <button type=\"button\" mat-icon-button [routerLink]=\"['/login']\">\n            <mat-icon>exit_to_app</mat-icon>\n        </button>\n    </ng-template>\n  </mat-toolbar-row>\n</mat-toolbar>\n"

/***/ }),

/***/ "./src/app/header/header.component.ts":
/*!********************************************!*\
  !*** ./src/app/header/header.component.ts ***!
  \********************************************/
/*! exports provided: HeaderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderComponent", function() { return HeaderComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../client-selector/client-selector.component */ "./src/app/client-selector/client-selector.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/sidenav/sidenav.service */ "./src/app/sidenav/sidenav.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var HeaderComponent = /** @class */ (function () {
    function HeaderComponent(authService, userService, session, dialog, router, sidenavService) {
        var _this = this;
        this.authService = authService;
        this.userService = userService;
        this.session = session;
        this.dialog = dialog;
        this.router = router;
        this.sidenavService = sidenavService;
        this.defaultTitle = 'Verostack Dynamics';
        this.menuTitle = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](this.defaultTitle);
        this.loggedInStatus = this.session.isLoginSubject.asObservable();
        this.loggedInStatus.subscribe(function (authenticated) {
            if (!authenticated) {
                _this.menuTitle.next(_this.defaultTitle);
            }
        });
        this.session.userItem.subscribe(function (next) {
            _this.user = next;
            _this.menuTitle.next(_this.user.sessionUser.client.name);
            if (_this.user.clients.length > 1)
                _this.showClientSelector = true;
            _this.isAdmin = _this.user.role.role > 6;
        });
        this.navOpen = this.sidenavService.opened$.asObservable();
    }
    HeaderComponent.prototype.ngOnInit = function () {
        this.session.getItem('user');
    };
    HeaderComponent.prototype.ngAfterViewInit = function () {
        // this.sidenav.
    };
    HeaderComponent.prototype.onLogout = function () {
        var _this = this;
        this.authService.logout().then(function (url) {
            _this.session.navigateByUrl(url);
        });
    };
    /**
     * Uses session service to toggle side nav
     */
    HeaderComponent.prototype.toggleSidenav = function () {
        this.sidenavService.toggle();
    };
    HeaderComponent.prototype.openDialog = function () {
        var dialogRef = this.dialog.open(_client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_5__["ClientSelectorComponent"], {
            width: '400px',
            data: this.user
        });
        dialogRef.afterClosed().subscribe(function (result) {
            // console.log('dialog was closed');
        });
    };
    HeaderComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-header',
            template: __webpack_require__(/*! ./header.component.html */ "./src/app/header/header.component.html"),
            styles: [__webpack_require__(/*! ./header.component.css */ "./src/app/header/header.component.css")]
        }),
        __metadata("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"],
            _session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_4__["MatDialog"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
            _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_8__["SidenavService"]])
    ], HeaderComponent);
    return HeaderComponent;
}());



/***/ }),

/***/ "./src/app/loading-spinner/loading-spinner.component.css":
/*!***************************************************************!*\
  !*** ./src/app/loading-spinner/loading-spinner.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".spinner {\n  position: fixed;\n  padding: 0px;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 9998;\n  background: #000;\n  opacity: 0.6;\n  transition: opacity 0.3s linear;\n}\n\n.center {\n  margin: auto;\n  width: 100%;\n}\n\n.loading-text {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  padding: 0;\n  margin: 0;\n  color: #FFF;\n  font-family: sans-serif;\n  background: transparent;\n  text-align: center;\n  padding-top: 33%;\n}\n\n.spinner img {\n  position: fixed;\n  padding: 0px;\n  /* height: 100%; width: 100%; top: 0; left: 0; */\n  z-index: 10;\n  background: #000;\n  opacity: 0.6;\n  transition: opacity 0.3s linear;\n}\n\n.hidden {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s 0.3s, opacity 0.3s linear;\n}\n\n.visible {\n  visibility: visible;\n}\n\n.lds-roller {\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  left: 48%;\n  top: 47%;\n}\n\n.lds-roller div {\n  -webkit-animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n          animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  -webkit-transform-origin: 32px 32px;\n          transform-origin: 32px 32px;\n}\n\n.lds-roller div:after {\n  content: \\\" \\\";\n  display: block;\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: #fff;\n  margin: -3px 0 0 -3px;\n}\n\n.lds-roller div:nth-child(1) {\n  -webkit-animation-delay: -0.036s;\n          animation-delay: -0.036s;\n}\n\n.lds-roller div:nth-child(1):after {\n  top: 50px;\n  left: 50px;\n}\n\n.lds-roller div:nth-child(2) {\n  -webkit-animation-delay: -0.072s;\n          animation-delay: -0.072s;\n}\n\n.lds-roller div:nth-child(2):after {\n  top: 54px;\n  left: 45px;\n}\n\n.lds-roller div:nth-child(3) {\n  -webkit-animation-delay: -0.108s;\n          animation-delay: -0.108s;\n}\n\n.lds-roller div:nth-child(3):after {\n  top: 57px;\n  left: 39px;\n}\n\n.lds-roller div:nth-child(4) {\n  -webkit-animation-delay: -0.144s;\n          animation-delay: -0.144s;\n}\n\n.lds-roller div:nth-child(4):after {\n  top: 58px;\n  left: 32px;\n}\n\n.lds-roller div:nth-child(5) {\n  -webkit-animation-delay: -0.18s;\n          animation-delay: -0.18s;\n}\n\n.lds-roller div:nth-child(5):after {\n  top: 57px;\n  left: 25px;\n}\n\n.lds-roller div:nth-child(6) {\n  -webkit-animation-delay: -0.216s;\n          animation-delay: -0.216s;\n}\n\n.lds-roller div:nth-child(6):after {\n  top: 54px;\n  left: 19px;\n}\n\n.lds-roller div:nth-child(7) {\n  -webkit-animation-delay: -0.252s;\n          animation-delay: -0.252s;\n}\n\n.lds-roller div:nth-child(7):after {\n  top: 50px;\n  left: 14px;\n}\n\n.lds-roller div:nth-child(8) {\n  -webkit-animation-delay: -0.288s;\n          animation-delay: -0.288s;\n}\n\n.lds-roller div:nth-child(8):after {\n  top: 45px;\n  left: 10px;\n}\n\n@-webkit-keyframes lds-roller {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes lds-roller {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n"

/***/ }),

/***/ "./src/app/loading-spinner/loading-spinner.component.html":
/*!****************************************************************!*\
  !*** ./src/app/loading-spinner/loading-spinner.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div #spinnerContainer [ngClass]=\"{'visible': showSpinner, 'hidden': !showSpinner, 'spinner': true, 'center': true}\" [innerHTML]=\"template\"></div>\n<h1 [style.zIndex]=\"zIndex\" [ngClass]=\"{'visible': showSpinner, 'hidden': !showSpinner, 'loading-text': true}\"> {{loadingText}} </h1>\n"

/***/ }),

/***/ "./src/app/loading-spinner/loading-spinner.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/loading-spinner/loading-spinner.component.ts ***!
  \**************************************************************/
/*! exports provided: LoadingSpinnerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingSpinnerComponent", function() { return LoadingSpinnerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _loading_spinner_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./loading-spinner.service */ "./src/app/loading-spinner/loading-spinner.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LoadingSpinnerComponent = /** @class */ (function () {
    function LoadingSpinnerComponent(service) {
        this.service = service;
        this.loadingText = '';
        this.zIndex = 9999;
        this.template = "\n  <div class=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>";
    }
    LoadingSpinnerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.service.showSpinner.subscribe(function (next) {
            _this.showSpinner = next;
        });
    };
    LoadingSpinnerComponent.prototype.show = function () {
        this.service.show();
    };
    LoadingSpinnerComponent.prototype.hide = function () {
        this.service.hide();
    };
    LoadingSpinnerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'vero-loading-spinner',
            template: __webpack_require__(/*! ./loading-spinner.component.html */ "./src/app/loading-spinner/loading-spinner.component.html"),
            styles: [__webpack_require__(/*! ./loading-spinner.component.css */ "./src/app/loading-spinner/loading-spinner.component.css")]
        }),
        __metadata("design:paramtypes", [_loading_spinner_service__WEBPACK_IMPORTED_MODULE_1__["LoadingSpinnerService"]])
    ], LoadingSpinnerComponent);
    return LoadingSpinnerComponent;
}());



/***/ }),

/***/ "./src/app/loading-spinner/loading-spinner.service.ts":
/*!************************************************************!*\
  !*** ./src/app/loading-spinner/loading-spinner.service.ts ***!
  \************************************************************/
/*! exports provided: LoadingSpinnerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingSpinnerService", function() { return LoadingSpinnerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var LoadingSpinnerService = /** @class */ (function () {
    function LoadingSpinnerService() {
        this.showSpinner$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](false);
        this.showSpinner = this.showSpinner$.asObservable();
    }
    LoadingSpinnerService.prototype.show = function () {
        this.showSpinner$.next(true);
    };
    LoadingSpinnerService.prototype.hide = function () {
        this.showSpinner$.next(false);
    };
    LoadingSpinnerService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], LoadingSpinnerService);
    return LoadingSpinnerService;
}());



/***/ }),

/***/ "./src/app/login/login.component.html":
/*!********************************************!*\
  !*** ./src/app/login/login.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"row justify-content-center\">\n  <div class=\"col-sm-4\" [ngClass]=\"{'text-center': pageLoading}\">\n    <div class=\"card\">\n      <img class=\"card-img-top\" src=\"dist/assets/images/login.png\" alt=\"Login image\">\n      <div class=\"card-body\">\n        <form #f=\"ngForm\" (ngSubmit)=\"onSubmit(f)\" novalidate class=\"login-container\">\n          <mat-form-field floatLabel=\"true\" hintLabel=\"We'll never share your login credentials.\">\n            <input matInput name=\"username\" ngModel #username=\"ngModel\" placeholder=\"username\" required [disabled]=lockLoginInputs />\n            <mat-error *ngIf=\"username.invalid\">{{getErrorMessage()}}</mat-error>\n          </mat-form-field>\n          <mat-form-field floatLabel=\"password\">\n            <input matInput name=\"password\" ngModel #password=\"ngModel\" placeholder=\"password\" required type=\"password\" [disabled]=lockLoginInputs />\n            <mat-error *ngIf=\"password.invalid\">{{getErrorMessage()}}</mat-error>\n          </mat-form-field>\n          <button mat-button [disabled]=lockLoginInputs>Login</button>\n        </form>\n        <mat-progress-bar *ngIf=\"lockLoginInputs\" mode=\"indeterminate\"></mat-progress-bar>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/login/login.component.scss":
/*!********************************************!*\
  !*** ./src/app/login/login.component.scss ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".card-img-top {\n  margin: auto;\n  width: 50%;\n  padding: 10px 5px 0 5px; }\n\n.login-container {\n  display: flex;\n  flex-direction: column; }\n\n.login-container > * {\n  width: 100%; }\n\n.card {\n  margin: 1.25rem; }\n"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/*!******************************************!*\
  !*** ./src/app/login/login.component.ts ***!
  \******************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth.service */ "./src/app/auth.service.ts");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var LoginComponent = /** @class */ (function () {
    function LoginComponent(authService, session, userService) {
        this.authService = authService;
        this.session = session;
        this.userService = userService;
        this.lockLoginInputs = false;
        this.redirectQueue = [];
        this.username = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]);
        this.password = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]);
    }
    LoginComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.user.subscribe(function (next) {
            _this.user = next;
            _this.session.hideLoader();
        });
    };
    LoginComponent.prototype.ngAfterViewChecked = function () { };
    LoginComponent.prototype.ngOnDestroy = function () {
        this.lockLoginInputs = false;
    };
    LoginComponent.prototype.onSubmit = function (f) {
        var _this = this;
        this.session.showLoader();
        // this.usernameInput = f.value.username;
        var loginData = {
            //   grant_type: 'password',
            // client_id: 3,
            //   client_secret: 'qHZzQxduSU92Vgb0hBwLcx4W4jjKWf5lykM0bxnm',
            username: f.value.username,
            password: f.value.password,
        };
        if (f.form.valid) {
            this.lockLoginInputs = true;
            this.pageLoading = true;
            this.authService.ngLogin(loginData).subscribe(function (response) {
                _this.pageLoading = false;
                _this.lockLoginInputs = false;
                var sessionToken = {
                    data: { access_token: response.token },
                    expires: moment__WEBPACK_IMPORTED_MODULE_4__().valueOf() + 1000 * (60 * 24 * 3)
                };
                _this.session.login(sessionToken);
                _this.userService.storeNgUser(response.user);
            });
            // this.authService
            //     .login(loginData)
            //     .then(data => {
            //         this.pageLoading = false;
            //         this.lockLoginInputs = false;
            //         let token: ILocalStorage<IToken> = <ILocalStorage<IToken>>{
            //             data: data,
            //             expires: moment().valueOf() + 1000 * (60 * 24 * 3)
            //         };
            //         this.session.login(token);
            //         this.userService.loadUser(this.usernameInput);
            //         // TODO: this isn't working yet... need to re-work login routing
            //         // this.session.navigateTo(this.session.navigateQueue[0]);
            //     })
            //     .catch(err => {
            //         this.pageLoading = false;
            //         this.lockLoginInputs = false;
            //         this.session.clearStorage();
            //         let friendlyResponse = ' Please check your credentials and try again.';
            //         this.msg.addMessage(err.message + friendlyResponse, 'close');
            //         this.session.hideLoader();
            //     });
        }
    };
    LoginComponent.prototype.loginHandler = function () {
        this.pageLoading = false;
    };
    LoginComponent.prototype.getErrorMessage = function () {
        return this.username.hasError('required')
            ? 'You must enter a value'
            : this.password.hasError('required')
                ? 'You must enter a value'
                : '';
    };
    LoginComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.scss */ "./src/app/login/login.component.scss")]
        }),
        __metadata("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"],
            _session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/masks/ssn.directive.ts":
/*!****************************************!*\
  !*** ./src/app/masks/ssn.directive.ts ***!
  \****************************************/
/*! exports provided: MaskSsn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaskSsn", function() { return MaskSsn; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * https://stackoverflow.com/questions/37800841/input-mask-fields-in-angular2-forms
 * This isn't working yet, need to better understand how directives interact with input fields.
 *
*/
var MaskSsn = /** @class */ (function () {
    function MaskSsn(model) {
        this.model = model;
    }
    MaskSsn.prototype.ngOnInit = function () {
        if (this.model.model.length > 0 && this.model.model.length < 12) {
            this.ssn = this.model.model.slice(0, 3) + '-' + this.model.model.slice(3, 5) + '-' + this.model.model.slice(5, 9);
            this.model.valueAccessor.writeValue(this.model.model.slice(0, 3) + '-' + this.model.model.slice(3, 5) + '-' + this.model.model.slice(5, 9));
        }
    };
    MaskSsn.prototype.onInputChange = function (event, backspace) {
        // remove all casting characters and set ssn value to new value
        for (var i = 0; i < event.length; i++) {
            var pos = event.charAt(i);
            if (isNaN(parseInt(pos, 10))) {
                event = event.replaceAt(pos, this.model.value.charAt(i));
            }
            this.ssn = event;
        }
        this.model.valueAccessor.writeValue(this.model.model.slice(0, 3) + '-' + this.model.model.slice(3, 5) + '-' + this.model.model.slice(5, 9));
    };
    MaskSsn = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[ngModel][maskssn]',
            host: {
                '(ngModelChange)': 'onInputChange($event)',
                '(keydown.baskspace)': 'onInputChange($event.target.value, true)'
            }
        }),
        __metadata("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgModel"]])
    ], MaskSsn);
    return MaskSsn;
}());



/***/ }),

/***/ "./src/app/material/material.module.ts":
/*!*********************************************!*\
  !*** ./src/app/material/material.module.ts ***!
  \*********************************************/
/*! exports provided: MaterialModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaterialModule", function() { return MaterialModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material-moment-adapter */ "./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var MaterialModule = /** @class */ (function () {
    function MaterialModule() {
    }
    MaterialModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            exports: [
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatAutocompleteModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatBadgeModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatButtonToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatCardModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatCheckboxModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatChipsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDatepickerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatExpansionModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatGridListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatMenuModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatNativeDateModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatPaginatorModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatProgressBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatProgressSpinnerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatRadioModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatRippleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSelectModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSliderModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSlideToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSnackBarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSortModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTooltipModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatStepperModule"],
                _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_3__["MatMomentDateModule"]
            ],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]
            ]
        })
    ], MaterialModule);
    return MaterialModule;
}());



/***/ }),

/***/ "./src/app/message.service.ts":
/*!************************************!*\
  !*** ./src/app/message.service.ts ***!
  \************************************/
/*! exports provided: MessageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageService", function() { return MessageService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MessageService = /** @class */ (function () {
    function MessageService(bar, session) {
        var _this = this;
        this.bar = bar;
        this.session = session;
        this.messages = [];
        this.openBar = null;
        this.dismissSnackBar = function () { return _this.openBar.dismiss(); };
        this.showWebApiError = function (e) {
            var msg = e != null ? e.error.message : e.statusText != null ? e.statusText : e.message;
            _this.openBar = _this.bar.open(msg, 'dismiss');
            _this.session.hideLoader();
        };
    }
    /**
     * @param message string
     * @param action string @default 'dismiss'
     * @param duration number @default null Results in message that will not disappear until
     * explicitly closed by the user.
     */
    MessageService.prototype.addMessage = function (message, action, duration) {
        if (action === void 0) { action = 'dismiss'; }
        if (duration === void 0) { duration = null; }
        var options = duration > 0 ? { duration: duration } : {};
        this.openBar = this.bar.open(message, action, options);
        this.session.hideLoader();
    };
    MessageService.prototype.showObserverError = function (e, caught) {
        var msg = e != null ? e.error.message : e.statusText != null ? e.statusText : e.message;
        this.openBar = this.bar.open(msg, 'dismiss');
        this.session.hideLoader();
        return caught;
    };
    MessageService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSnackBar"], _app_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"]])
    ], MessageService);
    return MessageService;
}());



/***/ }),

/***/ "./src/app/messages/messages.component.css":
/*!*************************************************!*\
  !*** ./src/app/messages/messages.component.css ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/messages/messages.component.html":
/*!**************************************************!*\
  !*** ./src/app/messages/messages.component.html ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/messages/messages.component.ts":
/*!************************************************!*\
  !*** ./src/app/messages/messages.component.ts ***!
  \************************************************/
/*! exports provided: MessagesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessagesComponent", function() { return MessagesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../message.service */ "./src/app/message.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MessagesComponent = /** @class */ (function () {
    function MessagesComponent(messageService, bar) {
        this.messageService = messageService;
        this.bar = bar;
    }
    MessagesComponent.prototype.ngOnInit = function () {
        this.messages = this.messageService.messages;
    };
    MessagesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-messages',
            template: __webpack_require__(/*! ./messages.component.html */ "./src/app/messages/messages.component.html"),
            styles: [__webpack_require__(/*! ./messages.component.css */ "./src/app/messages/messages.component.css")]
        }),
        __metadata("design:paramtypes", [_message_service__WEBPACK_IMPORTED_MODULE_1__["MessageService"], _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSnackBar"]])
    ], MessagesComponent);
    return MessagesComponent;
}());



/***/ }),

/***/ "./src/app/models/agent-sales.model.ts":
/*!*********************************************!*\
  !*** ./src/app/models/agent-sales.model.ts ***!
  \*********************************************/
/*! exports provided: AgentSale */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AgentSale", function() { return AgentSale; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

var AgentSale = /** @class */ (function () {
    function AgentSale(values) {
        if (values === void 0) { values = null; }
        this.agentSalesId = null;
        this.agentName = null;
        this.invoiceId = null;
        this.agentId = null;
        this.saleDate = null;
        this.firstName = null;
        this.lastName = null;
        this.address = null;
        this.city = null;
        this.state = null;
        this.postalCode = null;
        this.statusType = null;
        this.amount = null;
        this.note = null;
        this.createdAt = null;
        this.updatedAt = null;
        if (Array.isArray(values) && values.length > 7) {
            this.saleDate = moment__WEBPACK_IMPORTED_MODULE_0__(values[0], 'MM-DD-YYYY').format('YYYY-MM-DD');
            this.firstName = values[1];
            this.lastName = values[2];
            this.address = values[3];
            this.city = values[4];
            this.state = values[5] != null ? values[5].toUpperCase() : values[5];
            this.postalCode = values[6];
            this.statusType = (values[7].toLowerCase().replace(' ', '').indexOf('accept') > -1).toString();
            this.amount = this.statusType == 'true' ? values[8] : 0;
        }
        return this;
    }
    return AgentSale;
}());



/***/ }),

/***/ "./src/app/models/campaign-filters.model.ts":
/*!**************************************************!*\
  !*** ./src/app/models/campaign-filters.model.ts ***!
  \**************************************************/
/*! exports provided: CompOperator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompOperator", function() { return CompOperator; });
var CompOperator;
(function (CompOperator) {
    CompOperator[CompOperator["Equals"] = 0] = "Equals";
    CompOperator[CompOperator["LessThan"] = 1] = "LessThan";
    CompOperator[CompOperator["GreaterThan"] = 2] = "GreaterThan";
    CompOperator[CompOperator["LessThanEqualTo"] = 3] = "LessThanEqualTo";
    CompOperator[CompOperator["GreaterThanEqualTo"] = 4] = "GreaterThanEqualTo";
})(CompOperator || (CompOperator = {}));


/***/ }),

/***/ "./src/app/models/daily-sale.model.ts":
/*!********************************************!*\
  !*** ./src/app/models/daily-sale.model.ts ***!
  \********************************************/
/*! exports provided: PaidStatusType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaidStatusType", function() { return PaidStatusType; });
var PaidStatusType;
(function (PaidStatusType) {
    PaidStatusType[PaidStatusType["unpaid"] = 0] = "unpaid";
    PaidStatusType[PaidStatusType["paid"] = 1] = "paid";
    PaidStatusType[PaidStatusType["chargeback"] = 2] = "chargeback";
    PaidStatusType[PaidStatusType["repaid"] = 3] = "repaid";
})(PaidStatusType || (PaidStatusType = {}));


/***/ }),

/***/ "./src/app/models/index.ts":
/*!*********************************!*\
  !*** ./src/app/models/index.ts ***!
  \*********************************/
/*! exports provided: AgentSale, PaidStatusType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _agent_sales_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./agent-sales.model */ "./src/app/models/agent-sales.model.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AgentSale", function() { return _agent_sales_model__WEBPACK_IMPORTED_MODULE_0__["AgentSale"]; });

/* harmony import */ var _daily_sale_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./daily-sale.model */ "./src/app/models/daily-sale.model.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PaidStatusType", function() { return _daily_sale_model__WEBPACK_IMPORTED_MODULE_1__["PaidStatusType"]; });





/***/ }),

/***/ "./src/app/models/role.model.ts":
/*!**************************************!*\
  !*** ./src/app/models/role.model.ts ***!
  \**************************************/
/*! exports provided: UserRole */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserRole", function() { return UserRole; });
var UserRole;
(function (UserRole) {
    UserRole[UserRole["user"] = 0] = "user";
    UserRole[UserRole["supervisor"] = 1] = "supervisor";
    UserRole[UserRole["manager"] = 2] = "manager";
    UserRole[UserRole["regionalManager"] = 3] = "regionalManager";
    UserRole[UserRole["humanResources"] = 4] = "humanResources";
    UserRole[UserRole["companyAdmin"] = 5] = "companyAdmin";
    UserRole[UserRole["systemAdmin"] = 6] = "systemAdmin";
})(UserRole || (UserRole = {}));


/***/ }),

/***/ "./src/app/my-information/my-information.component.html":
/*!**************************************************************!*\
  !*** ./src/app/my-information/my-information.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<mat-card>\n  <form #f=\"ngForm\" (ngSubmit)=\"save(f)\">\n    <mat-card-header class=\"justify-content-between\">\n      <mat-card-title>\n        <h2>Welcome, {{welcome}}.</h2>\n      </mat-card-title>\n      <mat-card-subtitle>\n        <p *ngIf=\"weather === undefined\" class=\"text-muted weather-placeholder\">Your weather is loading...</p>\n        <p *ngIf=\"weather !== undefined\" class=\"weather-placeholder\">\n          Today looks like a low of {{minTemp}} and high of {{maxTemp}} near {{weather.name}} <img src=\"https://openweathermap.org/img/w/{{weather.weather[0].icon}}.png\" />\n        </p>\n      </mat-card-subtitle>\n      <mat-slide-toggle\n        [ngClass]=\"{'float-right': true, 'text-muted': !editProfile, 'text-light': editProfile}\"\n        [checked]=\"editProfile\"\n        (change)=\"changeEditMode(f)\"\n        [disabled]=\"f.touched\"\n        color=\"primary\"\n      ></mat-slide-toggle>\n    </mat-card-header>\n    <mat-card-content class=\"flex-column\">\n      <h5 class=\"mb-2\">User Details</h5>\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <mat-form-field>\n                <mat-label>First Name</mat-label>\n                <input type=\"text\" name=\"firstName\"\n                  [ngModel]=\"(user$ | async).firstName\"\n                  (ngModelChange)=\"user.firstName=$event\"\n                  matInput\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>Last Name</mat-label>\n                <input type=\"text\" name=\"lastName\"\n                  [ngModel]=\"(user$ | async).lastName\"\n                  (ngModelChange)=\"user.lastName=$event\"\n                  matInput\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>Username</mat-label>\n                <input type=\"text\" name=\"username\"\n                  matInput\n                  [ngModel]=\"(user$ | async).username\"\n                  disabled\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>Email</mat-label>\n                <input type=\"text\" name=\"email\"\n                  [(ngModel)]=\"user.email\"\n                  [ngModel]=\"(user$ | async).email\"\n                  (ngModelChange)=\"user.email=$event\"\n                  matInput\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n            </div>\n            <div class=\"col-md-6\">\n              <mat-form-field>\n                <mat-label>Street Address</mat-label>\n                <input type=\"text\" name=\"street\"\n                  [ngModel]=\"(detail$ | async).street\"\n                  (ngModelChange)=\"detail.street=$event\" matInput\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>Apt/Suite</mat-label>\n                <input type=\"text\" name=\"street2\"\n                  [ngModel]=\"(detail$ | async).street2\"\n                  (ngModelChange)=\"detail.street2=$event\" matInput\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>City</mat-label>\n                <input type=\"text\" name=\"city\"\n                  [ngModel]=\"(detail$ | async).city\"\n                  (ngModelChange)=\"detail.city=$event\" matInput\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>State</mat-label>\n                <input type=\"text\" name=\"state\"\n                  [ngModel]=\"(detail$ | async).state\"\n                  (ngModelChange)=\"detail.state=$event\" matInput\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>Zip Code</mat-label>\n                <input type=\"text\" name=\"zip\"\n                  [ngModel]=\"(detail$ | async).zip\"\n                  (ngModelChange)=\"detail.zip=$event\" matInput\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n              <mat-label>Phone Number</mat-label>\n                <input type=\"text\" name=\"phone\" matInput\n                  [ngModel]=\"(detail$ | async).phone\"\n                  (ngModelChange)=\"detail.phone=$event\"\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>Date of Birth</mat-label>\n                <input type=\"text\" name=\"birthDate\" matInput\n                  [ngModel]=\"(detail$ | async).birthDate | date:'shortDate'\"\n                  (ngModelChange)=\"detail.birthDate=$event\"\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>Social Security Number</mat-label>\n                <input type=\"text\" name=\"ssn\" matInput\n                  [ngModel]=\"(detail$ | async).ssn\"\n                  (ngModelChange)=\"detail.ssn=$event\"\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"row mb-3\">\n            <div class=\"col-12\">\n              <mat-form-field>\n                <mat-label>Routing Number</mat-label>\n                <input type=\"text\" name=\"routingNo\" matInput\n                  [ngModel]=\"(detail$ | async).bankRouting\"\n                  (ngModelChange)=\"detail.bankRouting=$event\"\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n              <mat-form-field>\n                <mat-label>Account Number</mat-label>\n                <input type=\"text\" name=\"accountNo\" matInput\n                  [ngModel]=\"(detail$ | async).bankAccount\"\n                  (ngModelChange)=\"detail.bankAccount=$event\"\n                  [disabled]=\"!editProfile\"\n                />\n              </mat-form-field>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </mat-card-content>\n    <mat-card-actions class=\"d-flex justify-content-between\">\n      <button mat-button type=\"button\" *ngIf=\"editProfile\" (click)=\"cancel(f)\">Cancel</button>\n      <button mat-raised-button type=\"submit\" color=\"primary\" *ngIf=\"editProfile\">Save</button>\n    </mat-card-actions>\n  </form>\n</mat-card>\n<mat-card *ngIf=\"client.clientId !== null && client.clientId > 0 && hasOnboarding\">\n  <form #onboardingForm=\"ngForm\" (ngSubmit)=\"saveOnboarding(onboardingForm)\">\n    <mat-card-header class=\"justify-content-between\">\n      <mat-card-title>\n        <h3>Onboarding <small class=\"text-muted\">(coming soon)</small></h3>\n      </mat-card-title>\n      <!-- uncomment when onboarding stuff is ready -->\n      <!-- <mat-slide-toggle class=\"float-right\" [checked]=\"editDetails\" (change)=\"changeOnboardingEditMode(onboardingForm)\" [disabled]=\"onboardingForm.touched\">Edit Mode</mat-slide-toggle> -->\n    </mat-card-header>\n    <mat-card-content class=\"flex-column\">\n      <mat-form-field>\n        <mat-label>Driver's License</mat-label>\n        <input type=\"text\" name=\"license\" matInput [disabled]=\"!editDetails\" />\n      </mat-form-field>\n      <mat-checkbox disabled=\"true\">Direct Deposit Info</mat-checkbox>\n      <mat-checkbox disabled=\"true\">ID Badge Image (headshot)</mat-checkbox>\n      <mat-checkbox disabled=\"true\">Full Profile Image (full body)</mat-checkbox>\n    </mat-card-content>\n    <mat-card-actions class=\"d-flex justify-content-between\">\n      <button mat-button type=\"button\" *ngIf=\"editDetails\" (click)=\"cancelDetails(onboardingForm)\">Cancel</button>\n      <button mat-raised-button type=\"submit\" color=\"primary\" *ngIf=\"editDetails\">Save</button>\n    </mat-card-actions>\n  </form>\n</mat-card>\n"

/***/ }),

/***/ "./src/app/my-information/my-information.component.scss":
/*!**************************************************************!*\
  !*** ./src/app/my-information/my-information.component.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".weather-placeholder {\n  min-height: 50px; }\n\nmat-form-field.mat-form-field {\n  display: block;\n  font-size: 16px; }\n\nmat-card {\n  margin: 1rem; }\n\nmat-checkbox {\n  margin: 1rem; }\n\nh1, h2, h3, h4, h5 {\n  color: #505050; }\n\n:host ::ng-deep .mat-slide-toggle-thumb {\n  text-align: center;\n  vertical-align: middle; }\n\n:host ::ng-deep .mat-slide-toggle-thumb::before {\n    font-size: .8rem;\n    font-family: \"Material Icons\";\n    content: \"\\e3c9\"; }\n"

/***/ }),

/***/ "./src/app/my-information/my-information.component.ts":
/*!************************************************************!*\
  !*** ./src/app/my-information/my-information.component.ts ***!
  \************************************************************/
/*! exports provided: MyInformationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MyInformationComponent", function() { return MyInformationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _weather_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../weather.service */ "./src/app/weather.service.ts");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../message.service */ "./src/app/message.service.ts");
/* harmony import */ var _loading_spinner_loading_spinner_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../loading-spinner/loading-spinner.service */ "./src/app/loading-spinner/loading-spinner.service.ts");
/* harmony import */ var _campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_models_role_model__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @app/models/role.model */ "./src/app/models/role.model.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var MyInformationComponent = /** @class */ (function () {
    function MyInformationComponent(weatherApi, userService, msg, spinner, campaignService, session) {
        this.weatherApi = weatherApi;
        this.userService = userService;
        this.msg = msg;
        this.spinner = spinner;
        this.campaignService = campaignService;
        this.session = session;
        this.detail = {};
        this.editProfile = false;
        this.hasOnboarding = false;
        this.client = {};
        this.ssn = '123456789';
        this.campaigns = [];
        this.allCampaigns = [];
        this.detail$ = this.userService.userDetail$.asObservable();
        this.user$ = this.userService.user$.asObservable();
    }
    MyInformationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.session.showLoader();
        this.user$.subscribe(function (user) {
            _this.user = user;
            /** set onboarding options */
            _this.hasOnboarding = user.sessionUser.client.options != null && user.role.role >= _app_models_role_model__WEBPACK_IMPORTED_MODULE_8__["UserRole"].companyAdmin
                ? user.sessionUser.client.options.hasOnboarding : false;
            _this.client = user.sessionUser.client;
            _this.welcome = user.firstName;
            _this.joinDate = moment__WEBPACK_IMPORTED_MODULE_1__(user.createdAt.date).format('MMMM Do, YYYY');
            _this.campaignService.getCampaigns(_this.user.sessionUser.sessionClient)
                .then(function (campaigns) {
                _this.allCampaigns = campaigns;
                _this.session.hideLoader();
            })
                .catch(_this.msg.showWebApiError);
        });
        // gets user's location from the browser
        navigator.geolocation.getCurrentPosition(function (pos) {
            _this.initWeather(pos.coords.longitude, pos.coords.latitude);
        });
    };
    MyInformationComponent.prototype.initWeather = function (longitude, latitude) {
        var _this = this;
        this.weatherApi.getWeatherByGeoLocale(longitude, latitude)
            .then(function (result) {
            _this.weather = result;
            _this.minTemp = _this.convertToFahrenheit(_this.weather.main.temp_min);
            _this.maxTemp = _this.convertToFahrenheit(_this.weather.main.temp_max);
        });
    };
    MyInformationComponent.prototype.convertToFahrenheit = function (temp) {
        var result = 1.8 * (temp - 273) + 32;
        result = Math.round(result);
        return result + 'F';
    };
    MyInformationComponent.prototype.changeEditMode = function (f) {
        if (!f.dirty) {
            this.editProfile = !this.editProfile;
        }
        else {
            f.reset();
        }
    };
    MyInformationComponent.prototype.changeOnboardingEditMode = function (f) {
        if (!f.dirty) {
            this.editDetails = !this.editDetails;
        }
        else {
            f.reset();
        }
    };
    MyInformationComponent.prototype.save = function (f) {
        this.spinner.show();
        // if account numbers are null, make them zeros to be inserted into db
        this.formatBankAccountNumbers();
        this.userService.updateUser(this.user, this.detail);
        f.reset();
        this.editProfile = !this.editProfile;
        this.msg.addMessage('Saved successfully.', 'dismiss', 6000);
    };
    // need to finish this
    MyInformationComponent.prototype.cancel = function (f) {
        this.userService.reloadUser();
        this.editProfile = !this.editProfile;
    };
    MyInformationComponent.prototype.cancelDetails = function (f) {
        this.userService.reloadUserDetail();
        this.editDetails = !this.editDetails;
    };
    MyInformationComponent.prototype.saveOnboarding = function (f) {
        console.dir(f);
    };
    MyInformationComponent.prototype.clearId = function (saleIdName, campaignName) {
        this.detail[saleIdName] = null;
        this.detail[campaignName] = null;
    };
    MyInformationComponent.prototype.resetUserFormFields = function (f, user) {
        for (var key in f.value) {
            if (!f.value.hasOwnProperty(key))
                continue;
            var obj = f.form.controls[key];
            if (!obj.dirty)
                continue;
            this.user[key] = user[key];
            obj.markAsUntouched();
        }
    };
    MyInformationComponent.prototype.formatBankAccountNumbers = function (pageLoad) {
        if (pageLoad === void 0) { pageLoad = false; }
        if (pageLoad) {
            this.detail.bankRouting = (this.detail.bankRouting === 0) ? null : this.detail.bankRouting;
            this.detail.bankAccount = (this.detail.bankAccount === 0) ? null : this.detail.bankAccount;
        }
        else {
            this.detail.bankRouting = this.detail.bankRouting ? this.detail.bankRouting : 0;
            this.detail.bankAccount = this.detail.bankAccount ? this.detail.bankAccount : 0;
        }
    };
    MyInformationComponent.prototype.setEmptyUserDetail = function () {
        return {
            userDetailId: null,
            userId: null,
            street: null,
            street2: null,
            city: null,
            state: null,
            zip: null,
            phone: null,
            ssn: null,
            birthDate: null,
            bankRouting: null,
            bankAccount: null,
            saleOneId: null,
            saleTwoId: null,
            saleThreeId: null,
            createdAt: null,
            updatedAt: null
        };
    };
    MyInformationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'my-information',
            template: __webpack_require__(/*! ./my-information.component.html */ "./src/app/my-information/my-information.component.html"),
            styles: [__webpack_require__(/*! ./my-information.component.scss */ "./src/app/my-information/my-information.component.scss")]
        }),
        __metadata("design:paramtypes", [_weather_service__WEBPACK_IMPORTED_MODULE_2__["WeatherService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"],
            _message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"],
            _loading_spinner_loading_spinner_service__WEBPACK_IMPORTED_MODULE_5__["LoadingSpinnerService"],
            _campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_6__["CampaignService"],
            _session_service__WEBPACK_IMPORTED_MODULE_7__["SessionService"]])
    ], MyInformationComponent);
    return MyInformationComponent;
}());



/***/ }),

/***/ "./src/app/payroll/dialogs/change-agent.component.html":
/*!*************************************************************!*\
  !*** ./src/app/payroll/dialogs/change-agent.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div class=\"row\">\n  <div class=\"col-md-12\">\n    <p>Would you like to clear the current sales?</p>\n  </div>\n</div>\n<div class=\"d-flex justify-content-between\">\n  <button type=\"button\" mat-button (click)=\"closeDialog()\">No</button>\n  <button type=\"button\" mat-raised-button color=\"primary\" (click)=\"clearSales()\">Yes</button>\n</div>\n"

/***/ }),

/***/ "./src/app/payroll/dialogs/change-agent.component.scss":
/*!*************************************************************!*\
  !*** ./src/app/payroll/dialogs/change-agent.component.scss ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/payroll/dialogs/change-agent.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/payroll/dialogs/change-agent.component.ts ***!
  \***********************************************************/
/*! exports provided: ChangeAgentDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeAgentDialogComponent", function() { return ChangeAgentDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var ChangeAgentDialogComponent = /** @class */ (function () {
    function ChangeAgentDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
    }
    ChangeAgentDialogComponent.prototype.clearSales = function () {
        this.dialogRef.close(true);
    };
    ChangeAgentDialogComponent.prototype.closeDialog = function () {
        this.dialogRef.close(false);
    };
    ChangeAgentDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'changeAgentDialog',
            template: __webpack_require__(/*! ./change-agent.component.html */ "./src/app/payroll/dialogs/change-agent.component.html"),
            styles: [__webpack_require__(/*! ./change-agent.component.scss */ "./src/app/payroll/dialogs/change-agent.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], ChangeAgentDialogComponent);
    return ChangeAgentDialogComponent;
}());



/***/ }),

/***/ "./src/app/payroll/dialogs/reject-note.component.html":
/*!************************************************************!*\
  !*** ./src/app/payroll/dialogs/reject-note.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<h2 mat-dailog-title>Reject Notes</h2>\n<mat-dialog-content>\n  <mat-form-field class=\"reject-note\">\n    <textarea matInput placeholder=\"Why was the sale rejected?\" [(ngModel)]=\"item.note\"></textarea>\n  </mat-form-field>\n</mat-dialog-content>\n<mat-dialog-actions class=\"d-flex justify-content-between\">\n  <button mat-button mat-dialog-close>Cancel</button>\n  <button mat-raised-button [mat-dialog-close]=\"item\" color=\"primary\">Save</button>\n</mat-dialog-actions>\n"

/***/ }),

/***/ "./src/app/payroll/dialogs/reject-note.component.scss":
/*!************************************************************!*\
  !*** ./src/app/payroll/dialogs/reject-note.component.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".reject-note {\n  min-width: 300px;\n  width: 100%; }\n"

/***/ }),

/***/ "./src/app/payroll/dialogs/reject-note.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/payroll/dialogs/reject-note.component.ts ***!
  \**********************************************************/
/*! exports provided: RejectNoteDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RejectNoteDialogComponent", function() { return RejectNoteDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var RejectNoteDialogComponent = /** @class */ (function () {
    function RejectNoteDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.item = data.item;
        this.index = data.index;
    }
    RejectNoteDialogComponent.prototype.onNoClick = function () {
        this.dialogRef.close({ item: this.item, index: this.index });
    };
    RejectNoteDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'reject-note-dialog',
            template: __webpack_require__(/*! ./reject-note.component.html */ "./src/app/payroll/dialogs/reject-note.component.html"),
            styles: [__webpack_require__(/*! ./reject-note.component.scss */ "./src/app/payroll/dialogs/reject-note.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], RejectNoteDialogComponent);
    return RejectNoteDialogComponent;
}());



/***/ }),

/***/ "./src/app/payroll/dialogs/sales-mapping.component.html":
/*!**************************************************************!*\
  !*** ./src/app/payroll/dialogs/sales-mapping.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<h2 mat-dialog-title>Map Columns</h2>\n<mat-dialog-content>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>Sales Agent <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.agentName\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>Sale Date <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.saleDate\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>Date Format <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"dateFormat\">\n        <mat-option value=\"MM-DD-YYYY\">MM-DD-YYYY (01/01/2018)</mat-option>\n        <mat-option value=\"M-D-YYYY\">M-D-YYYY (1/1/2018)</mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>First Name <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.firstName\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>Last Name <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.lastName\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>Street <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.street\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>City <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.city\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>State <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.state\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>Zip <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.zip\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>Status <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.status\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"w-100 d-flex justify-content-between align-items-center\">\n    <p>Amount <i class=\"material-icons md-18 mx-5\">arrow_forward</i></p>\n    <mat-form-field>\n      <mat-select placeholder=\"Select One\" [(value)]=\"mappings.amount\">\n        <mat-option *ngFor=\"let opt of optionPairs\" [value]=\"opt.key\">\n          {{opt.value}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n</mat-dialog-content>\n<mat-dialog-actions class=\"d-flex justify-content-between\">\n  <button mat-button mat-dialog-close>Cancel</button>\n  <button mat-raised-button (click)=\"closeDialog()\" color=\"primary\">Save</button>\n</mat-dialog-actions>\n"

/***/ }),

/***/ "./src/app/payroll/dialogs/sales-mapping.component.scss":
/*!**************************************************************!*\
  !*** ./src/app/payroll/dialogs/sales-mapping.component.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-content {\n  font-size: .9rem; }\n\ndiv p {\n  margin: 0; }\n"

/***/ }),

/***/ "./src/app/payroll/dialogs/sales-mapping.component.ts":
/*!************************************************************!*\
  !*** ./src/app/payroll/dialogs/sales-mapping.component.ts ***!
  \************************************************************/
/*! exports provided: SalesMappingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SalesMappingComponent", function() { return SalesMappingComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var SalesMappingComponent = /** @class */ (function () {
    function SalesMappingComponent(dialogRef, data) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.data = data;
        this.optionPairs = [];
        this.dict = {};
        this.result = [];
        this.dateFormat = 'M-D-YYYY';
        this.rows = data.rows;
        this.mappedItem = {
            agentId: null,
            agentName: null,
            entries: []
        };
        this.mappings = {
            agentName: null,
            saleDate: null,
            firstName: null,
            lastName: null,
            street: null,
            city: null,
            state: null,
            zip: null,
            status: null,
            amount: null
        };
        lodash__WEBPACK_IMPORTED_MODULE_2__["forEach"](data.headers, function (opt, idx) {
            var key = opt.replace(/ /g, '');
            var value = opt.substring(0, 1).toUpperCase() + opt.substring(1);
            _this.optionPairs.push({ key: key, value: value, index: idx });
        });
        this.optionPairs.push({ key: null, value: '--- No Pairing ---', index: null });
    }
    SalesMappingComponent.prototype.closeDialog = function () {
        var _this = this;
        lodash__WEBPACK_IMPORTED_MODULE_2__["forEach"](this.rows, function (row, i) {
            var obj = {
                agentSalesId: null,
                agentId: null,
                invoiceId: null,
                agentName: null,
                saleDate: null,
                firstName: null,
                lastName: null,
                address: null,
                city: null,
                state: null,
                postalCode: null,
                statusType: null,
                amount: null
            };
            for (var h in _this.mappings) {
                if (_this.mappings[h] !== null) {
                    var mapIndex = lodash__WEBPACK_IMPORTED_MODULE_2__["find"](_this.optionPairs, { 'key': _this.mappings[h] }).index;
                    if (h == 'status') {
                        obj[h] = row[mapIndex].match(/accept/gi) !== null ? 'true' : 'false';
                    }
                    else if (h === 'saleDate') {
                        obj[h] = moment__WEBPACK_IMPORTED_MODULE_3__(row[mapIndex], _this.dateFormat).format('YYYY-MM-DD');
                    }
                    else {
                        obj[h] = row[mapIndex];
                    }
                }
            }
            if (Object.keys(obj).length > 0)
                _this.result.push(obj);
        });
        this.mappedItem.entries = this.result;
        this.dialogRef.close(this.mappedItem);
    };
    SalesMappingComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'sales-mapping',
            template: __webpack_require__(/*! ./sales-mapping.component.html */ "./src/app/payroll/dialogs/sales-mapping.component.html"),
            styles: [__webpack_require__(/*! ./sales-mapping.component.scss */ "./src/app/payroll/dialogs/sales-mapping.component.scss")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], SalesMappingComponent);
    return SalesMappingComponent;
}());



/***/ }),

/***/ "./src/app/payroll/paste.directive.ts":
/*!********************************************!*\
  !*** ./src/app/payroll/paste.directive.ts ***!
  \********************************************/
/*! exports provided: VsPasteDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VsPasteDirective", function() { return VsPasteDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_payroll_payroll_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @app/payroll/payroll.service */ "./src/app/payroll/payroll.service.ts");
/* harmony import */ var _app_models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/models */ "./src/app/models/index.ts");
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var VsPasteDirective = /** @class */ (function () {
    function VsPasteDirective(el, renderer, service, msg, session) {
        this.el = el;
        this.renderer = renderer;
        this.service = service;
        this.msg = msg;
        this.session = session;
    }
    VsPasteDirective.prototype.paste = function (event) {
        event.preventDefault();
        this.session.showLoader();
        this.result = [];
        var data = event.clipboardData.getData('text');
        var rows = data.split(String.fromCharCode(13));
        for (var i = 0; i < rows.length; i++) {
            rows[i] = rows[i].split(String.fromCharCode(9));
        }
        for (var i = 0; i < rows.length; i++) {
            var row = rows[i];
            var agent = new _app_models__WEBPACK_IMPORTED_MODULE_2__["AgentSale"](row);
            this.result.push(agent);
        }
        if (this.result.length < 2) {
            var test = [];
            for (var i = 0; i < this.result.length; i++) {
                test = Object.values(this.result[i]).slice();
            }
            lodash__WEBPACK_IMPORTED_MODULE_5__["remove"](test, lodash__WEBPACK_IMPORTED_MODULE_5__["isNull"]);
            if (lodash__WEBPACK_IMPORTED_MODULE_5__["isEmpty"](test)) {
                this.session.hideLoader();
                this.msg.addMessage('Oops, please check the format of your invoice.', 'dismiss', 6000);
                return;
            }
        }
        this.result.push(this.service.insertSalesRow());
        this.service.sales$.next(this.result);
        this.session.hideLoader();
        this.msg.addMessage('We have imported your invoice. Please check for accuracy.', 'dismiss', 6000);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"])('document:paste', ['$event']),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", [Object]),
        __metadata("design:returntype", void 0)
    ], VsPasteDirective.prototype, "paste", null);
    VsPasteDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: "[vs-paste]"
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer"],
            _app_payroll_payroll_service__WEBPACK_IMPORTED_MODULE_1__["PayrollService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_3__["MessageService"],
            _app_session_service__WEBPACK_IMPORTED_MODULE_4__["SessionService"]])
    ], VsPasteDirective);
    return VsPasteDirective;
}());



/***/ }),

/***/ "./src/app/payroll/payroll.component.html":
/*!************************************************!*\
  !*** ./src/app/payroll/payroll.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<form [formGroup]=\"form\" vs-paste>\n  <div class=\"desktop-only\">\n    <mat-card class=\"d-flex align-items-center align-center header-card\">\n      <h3>Create a Paystub</h3>\n      <span class=\"toolbar-spacer\"></span>\n      <!-- <mat-icon\n        class=\"toolbar-icon clickable\"\n        *ngIf=\"invoice.agentId != null && invoice.campaignId != null\"\n        (click)=\"clickFileUploader()\"\n      >publish</mat-icon> -->\n    </mat-card>\n    <div class=\"d-flex justify-content-center card-container\">\n      <mat-card class=\"sales-card\">\n        <mat-card-header>\n          <!-- <mat-card-title>\n            Choose an Agent and Campaign to import your payfile.\n          </mat-card-title> -->\n        </mat-card-header>\n        <mat-card-content class=\"d-flex justify-content-between\">\n          <mat-form-field [hideRequiredMarker]=\"true\">\n            <mat-select\n              placeholder=\"Pick an Agent\"\n              formControlName=\"agentId\"\n              (selectionChange)=\"changeAgent()\"\n              required\n            >\n              <mat-option *ngFor=\"let a of agents\" [value]=\"a.agentId\">{{a.firstName}} {{a.lastName}}</mat-option>\n            </mat-select>\n            <mat-error *ngIf=\"form.get('agentId').touched && form.get('agentId').invalid\">Select an Agent</mat-error>\n          </mat-form-field>\n          <mat-form-field [hideRequiredMarker]=\"true\">\n            <mat-select\n              placeholder=\"Pick a Campaign\"\n              formControlName=\"campaignId\"\n              required\n            >\n              <mat-option *ngFor=\"let c of campaigns\" [value]=\"c.campaignId\">{{c.name}}</mat-option>\n            </mat-select>\n            <mat-error *ngIf=\"form.get('campaignId').touched && form.get('campaignId').invalid\">Select a Campaign</mat-error>\n          </mat-form-field>\n          <mat-form-field [hideRequiredMarker]=\"true\">\n            <input\n              matInput\n              [matDatepicker]=\"issueDate\"\n              placeholder=\"Issue Date\"\n              formControlName=\"issueDate\"\n              required\n            />\n            <mat-datepicker-toggle matSuffix [for]=\"issueDate\"></mat-datepicker-toggle>\n            <mat-datepicker #issueDate></mat-datepicker>\n            <mat-error *ngIf=\"form.get('issueDate').touched && form.get('issueDate').invalid\">Select an Issue Date</mat-error>\n          </mat-form-field>\n          <mat-form-field [hideRequiredMarker]=\"true\">\n            <input\n              matInput\n              [matDatepicker]=\"weekending\"\n              placeholder=\"Weekending\"\n              formControlName=\"weekEnding\"\n              required\n            />\n            <mat-datepicker-toggle matSuffix [for]=\"weekending\"></mat-datepicker-toggle>\n            <mat-datepicker #weekending></mat-datepicker>\n            <mat-error *ngIf=\"form.get('weekEnding').touched && form.get('weekEnding').invalid\">Select a Weekending Date</mat-error>\n          </mat-form-field>\n        </mat-card-content>\n      </mat-card>\n    </div>\n\n    <!-- SALES CARD  -->\n    <div class=\"d-flex justify-content-center card-container\">\n      <mat-card class=\"sales-card\">\n        <mat-card-header class=\"flex-column\">\n          <mat-card-title class=\"d-flex justify-content-between align-items-center\">\n            <h4>Sales Details</h4>\n            <!-- <input type=\"file\"\n              ng2FileSelect\n              [hidden]=\"true\"\n              id=\"file-uploader\"\n              [uploader]=\"uploader\"\n              (change)=\"chooseFile($event)\"\n              vs-paste\n            />\n            <label\n              for=\"file-uploader\"\n              class=\"mat-button mat-raised-button mat-primary\"\n              *ngIf=\"invoice.agentId != null && invoice.campaignId != null\"\n            >Import File</label> -->\n          </mat-card-title>\n        </mat-card-header>\n        <mat-card-content>\n          <mat-table #table [dataSource]=\"dataSource\" class=\"form-table sales-table\" formArrayName=\"sales\">\n            <mat-header-row *matHeaderRowDef=\"displayedColumns;sticky: true\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: displayedColumns; let idx = index\"></mat-row>\n\n            <ng-container matColumnDef=\"saleDate\">\n              <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                <mat-form-field class=\"max-width-90\">\n                  <input matInput\n                    [matDatepicker]=\"saleDatePicker\"\n                    [value]=\"item.saleDate\"\n                    (click)=\"saleDatePicker.open()\"\n                    (dateChange)=\"saleDateEvent(item, $event)\"\n                    formControlName=\"saleDate\"\n                    required\n                  >\n                  <mat-datepicker-toggle matSuffix [for]=\"saleDatePicker\"></mat-datepicker-toggle>\n                  <mat-datepicker #saleDatePicker></mat-datepicker>\n                </mat-form-field>\n              </mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"firstName\">\n              <mat-header-cell *matHeaderCellDef>First Name</mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                <mat-form-field>\n                  <input matInput\n                    [value]=\"item.firstName\"\n                    (change)=\"handleRowEdit('firstName', item, $event, i)\"\n                    formControlName=\"firstName\"\n                    required\n                  >\n                </mat-form-field>\n              </mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"lastName\">\n              <mat-header-cell *matHeaderCellDef>Last Name</mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                <mat-form-field>\n                  <input matInput\n                    [value]=\"item.lastName\"\n                    (change)=\"handleRowEdit('lastName', item, $event, i)\"\n                    formControlName=\"lastName\"\n                    required\n                  >\n                </mat-form-field>\n              </mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"address\">\n              <mat-header-cell *matHeaderCellDef>Address</mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\">\n                <mat-form-field class=\"custom-width w-140\" [formGroupName]=\"i\">\n                  <input matInput\n                    [value]=\"item.address\"\n                    (change)=\"handleRowEdit('address', item, $event, i)\"\n                    formControlName=\"address\"\n                    required\n                  >\n                </mat-form-field>\n              </mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"city\">\n              <mat-header-cell *matHeaderCellDef>City</mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                <mat-form-field>\n                  <input matInput\n                    [value]=\"item.city\"\n                    (change)=\"handleRowEdit('city', item, $event, i)\"\n                    formControlName=\"city\"\n                    required\n                  >\n                </mat-form-field>\n              </mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"state\">\n              <mat-header-cell *matHeaderCellDef>State</mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                <mat-form-field>\n                  <mat-select\n                    [value]=\"item.state\"\n                    (change)=\"handleRowEdit('state', item, $event, i)\"\n                    formControlName=\"state\"\n                    required\n                  >\n                    <mat-option *ngFor=\"let s of states\" [value]=\"s.abbreviation\">\n                      {{s.name}}\n                    </mat-option>\n                  </mat-select>\n                </mat-form-field>\n              </mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"postalCode\">\n              <mat-header-cell *matHeaderCellDef>Postal Code</mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                <mat-form-field>\n                  <input matInput\n                    [value]=\"item.postalCode\"\n                    (change)=\"handleRowEdit('postalCode', item, $event, i)\"\n                    formControlName=\"postalCode\"\n                    required\n                  >\n                </mat-form-field>\n              </mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"statusType\">\n              <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                <mat-form-field>\n                  <mat-select\n                    [value]=\"item.statusType\"\n                    (change)=\"handleRowEdit('statusType', item, $event, i)\"\n                    formControlName=\"statusType\"\n                    required\n                  >\n                    <mat-option value=\"true\">Accepted</mat-option>\n                    <mat-option value=\"false\">Rejected</mat-option>\n                  </mat-select>\n                </mat-form-field>\n              </mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"amount\">\n              <mat-header-cell *matHeaderCellDef>Amount</mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                <mat-form-field>\n                  <input matInput\n                    [value]=\"item.amount\"\n                    (change)=\"handleRowEdit(item, $event, i)\"\n                    formControlName=\"amount\"\n                    required\n                  >\n                </mat-form-field>\n              </mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"note\">\n              <mat-header-cell *matHeaderCellDef></mat-header-cell>\n              <mat-cell *matCellDef=\"let item; let i = index\">\n                <div class=\"d-flex justify-content-between\">\n                  <button mat-icon-button (click)=\"openRejectDialog(item, i)\" *ngIf=\"item.statusType == 'false'\">\n                    <mat-icon aria-label=\"Open reject note\" class=\"{ 'text-danger': item.note }\">note</mat-icon>\n                  </button>\n                  <button mat-icon-button (click)=\"removeRow('sales', i)\" *ngIf=\"dataSource$.getValue().length > 1 && i != (dataSource$.getValue().length - 1)\">\n                    <mat-icon aria-label=\"Delete the current row\" color=\"warn\">remove_circle</mat-icon>\n                  </button>\n                </div>\n              </mat-cell>\n            </ng-container>\n          </mat-table>\n        </mat-card-content>\n      </mat-card>\n    </div>\n\n    <!-- OVERRIDES AND EXPENSES -->\n    <div class=\"overrides-expenses-panel\">\n      <div class=\"d-flex justify-content-between py-3\">\n\n        <!-- OVERRIDES CARD -->\n        <mat-card class=\"widthp-50 mr-2\" *ngIf=\"!disableOverrides\">\n          <mat-card-header>\n            <mat-card-title class=\"d-flex justify-content-between w-100\">\n              <h3 *ngIf=\"!disableOverrides\">Overrides</h3>\n              <button mat-icon-button\n                type=\"button\"\n                class=\"float-right mx-1\"\n                (click)=\"addOverrideRow(true)\"\n                *ngIf=\"overrideDataSource$.getValue().length === 0 && !disableOverrides\"\n              >\n                <mat-icon aria-label=\"Add override\" color=\"accent\">add_circle</mat-icon>\n              </button>\n            </mat-card-title>\n          </mat-card-header>\n          <mat-card-content>\n            <mat-table #overrideTable\n              [dataSource]=\"overrideDataSource\"\n              class=\"form-table\"\n              *ngIf=\"overrideDataSource$.getValue().length > 0\"\n              formArrayName=\"overrides\"\n            >\n              <mat-header-row *matHeaderRowDef=\"overrideColumns; sticky: true\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: overrideColumns; let idx = index\"></mat-row>\n\n              <!-- AGENT ID -->\n              <ng-container matColumnDef=\"agentId\">\n                <mat-header-cell *matHeaderCellDef>Agent</mat-header-cell>\n                <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                  <mat-form-field [hideRequiredMarker]=\"true\">\n                    <mat-select\n                      placeholder=\"Select an Agent\"\n                      (selectionChange)=\"overrideRowEdit('agentId', item, $event, i)\"\n                      formControlName=\"agentId\"\n                      [value]=\"item.agentId\"\n                      required\n                    >\n                      <mat-option *ngFor=\"let agent of overrideAgents\" [value]=\"agent.agentId\">\n                        {{agent.firstName}} {{agent.lastName}}\n                      </mat-option>\n                    </mat-select>\n                  </mat-form-field>\n                </mat-cell>\n              </ng-container>\n\n              <!-- NUMBER OF SALES -->\n              <ng-container matColumnDef=\"sales\">\n                <mat-header-cell *matHeaderCellDef>Sales</mat-header-cell>\n                <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                  <mat-form-field>\n                    <input matInput\n                      (change)=\"overrideRowEdit('sales', item, $event, i)\"\n                      formControlName=\"sales\"\n                      [value]=\"item.sales\"\n                      required\n                    >\n                  </mat-form-field>\n                </mat-cell>\n              </ng-container>\n\n              <!-- COMMISSION -->\n              <ng-container matColumnDef=\"commission\">\n                <mat-header-cell *matHeaderCellDef>Commission</mat-header-cell>\n                <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                  <mat-form-field>\n                    <input matInput\n                      (change)=\"overrideRowEdit('commission', item, $event, i)\"\n                      formControlName=\"commission\"\n                      [value]=\"item.commission\"\n                      required\n                    >\n                  </mat-form-field>\n                </mat-cell>\n              </ng-container>\n\n              <!-- TOTAL -->\n              <ng-container matColumnDef=\"total\">\n                <mat-header-cell *matHeaderCellDef>Total</mat-header-cell>\n                <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                  <mat-form-field>\n                    <input matInput\n                      (change)=\"overrideRowEdit('total', item, $event, i)\"\n                      formControlName=\"total\"\n                      [value]=\"item.total\"\n                      required\n                    >\n                  </mat-form-field>\n                </mat-cell>\n              </ng-container>\n\n              <!-- DELETE -->\n              <ng-container matColumnDef=\"delete\">\n                <mat-header-cell *matHeaderCellDef>&nbsp;</mat-header-cell>\n                <mat-cell *matCellDef=\"let item; let i = index\">\n                  <button mat-icon-button (click)=\"removeRow('overrides', i)\" *ngIf=\"item.overrideId == null\">\n                    <mat-icon aria-label=\"Delete the current row\" color=\"warn\">remove_circle</mat-icon>\n                  </button>\n                </mat-cell>\n              </ng-container>\n            </mat-table>\n          </mat-card-content>\n        </mat-card>\n\n        <!-- EXPENSES CARD -->\n        <mat-card [ngClass]=\"{'widthp-50': !disableOverrides, 'ml-2': !disableOverrides, 'w-100': disableOverrides}\">\n          <mat-card-header>\n            <mat-card-title class=\"d-flex justify-content-between\">\n              <h3>Expenses</h3>\n              <button mat-icon-button\n                class=\"float-right mx-1\"\n                (click)=\"addExpenseRow()\"\n                *ngIf=\"expenseDataSource$.getValue().length === 0\"\n              >\n                <mat-icon aria-label=\"Add expense\" color=\"accent\">add_circle</mat-icon>\n              </button>\n            </mat-card-title>\n          </mat-card-header>\n          <mat-card-content>\n            <mat-table #expenseTable\n              [dataSource]=\"expenseDataSource\"\n              class=\"form-table\"\n              *ngIf=\"expenseDataSource$.getValue().length > 0\"\n              formArrayName=\"expenses\"\n            >\n              <!-- TITLE -->\n              <ng-container matColumnDef=\"title\">\n                <mat-header-cell *matHeaderCellDef>Title</mat-header-cell>\n                <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                  <mat-form-field>\n                    <input matInput\n                      [value]=\"item.title\"\n                      (change)=\"expenseRowEdit('title', item, $event, i)\"\n                      formControlName=\"title\"\n                      required\n                    >\n                  </mat-form-field>\n                </mat-cell>\n              </ng-container>\n\n              <!-- AMOUNT -->\n              <ng-container matColumnDef=\"amount\">\n                <mat-header-cell *matHeaderCellDef>Amount</mat-header-cell>\n                <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                  <mat-form-field>\n                    <input matInput\n                      [value]=\"item.amount\"\n                      (change)=\"expenseRowEdit('amount', item, $event, i)\"\n                      formControlName=\"amount\"\n                      required\n                    >\n                  </mat-form-field>\n                </mat-cell>\n              </ng-container>\n\n              <!-- DESCRIPTION -->\n              <ng-container matColumnDef=\"description\">\n                <mat-header-cell *matHeaderCellDef>Description</mat-header-cell>\n                <mat-cell *matCellDef=\"let item; let i = index\" [formGroupName]=\"i\">\n                  <mat-form-field>\n                    <input matInput\n                      [value]=\"item.description\"\n                      (change)=\"expenseRowEdit('description', item, $event, i)\"\n                      formControlName=\"description\"\n                      required\n                    >\n                  </mat-form-field>\n                </mat-cell>\n              </ng-container>\n\n              <!-- DELETE -->\n              <ng-container matColumnDef=\"delete\">\n                <mat-header-cell *matHeaderCellDef>&nbsp;</mat-header-cell>\n                <mat-cell *matCellDef=\"let item: let i = index\">\n                  <button mat-icon-button (click)=\"removeRow('expenses', i)\" *ngIf=\"item.expenseId == null\">\n                    <mat-icon aria-label=\"Delete the current row\" color=\"warn\">remove_circle</mat-icon>\n                  </button>\n                </mat-cell>\n              </ng-container>\n\n              <mat-header-row *matHeaderRowDef=\"expenseColumns; sticky:true\"></mat-header-row>\n              <mat-row *matRowDef=\"let row; columns: expenseColumns\"></mat-row>\n            </mat-table>\n          </mat-card-content>\n        </mat-card>\n      </div>\n      <div class=\"d-flex justify-content-between card-container\">\n        <button mat-button class=\"m-3 float-left\">Cancel</button>\n        <button mat-raised-button\n          color=\"accent\"\n          class=\"m-3 float-right\"\n          (click)=\"validateInvoice()\"\n        >Save</button>\n      </div>\n    </div>\n  </div>\n\n\n  <div class=\"d-flex justify-content-center mobile-warning\">\n    <mat-card>\n      <mat-card-header>\n        <h4 class=\"text-center\">\n          Sorry, but you can only enter sales and make edits from a computer.\n        </h4>\n      </mat-card-header>\n    </mat-card>\n  </div>\n</form>\n"

/***/ }),

/***/ "./src/app/payroll/payroll.component.scss":
/*!************************************************!*\
  !*** ./src/app/payroll/payroll.component.scss ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".sales-card {\n  width: 100%;\n  max-width: 1150px; }\n\n.widthp-50 {\n  width: 50%; }\n\n@media screen and (max-width: 750px) {\n  .desktop-only {\n    display: none; } }\n\n@media screen and (min-width: 751px) {\n  .mobile-warning {\n    display: none !important; } }\n\n.mobile-warning mat-card {\n  max-width: 95%; }\n\n.max-width-90 {\n  max-width: 90px !important; }\n\n.form-table mat-cell {\n  margin: 0 1rem 0 0; }\n\n.form-table mat-form-field:not(.custom-width) {\n  width: 100%; }\n\n.custom-width .w-100 {\n  width: 100px !important; }\n\n.custom-width .w-40 {\n  width: 40px !important; }\n\n.custom-width .w-140 {\n  width: 140px !important; }\n\n.mat-header-row {\n  border-bottom-style: solid; }\n\n.mat-header-cell {\n  margin-right: 1rem; }\n\n.mat-row {\n  border-bottom-style: none; }\n\n.mat-column-note {\n  flex: 0 0 40px;\n  margin: 0 !important; }\n\n.clickable {\n  cursor: pointer; }\n\n.mat-column-agentId {\n  max-width: 200px; }\n\n.mat-column-commission {\n  max-width: 80px; }\n\n.mat-column-sales {\n  max-width: 75px; }\n\n.mat-column-total {\n  max-width: 80px; }\n\n.mat-column-delete {\n  max-width: 30px;\n  margin: 0 !important; }\n\n.required-field-error {\n  background-color: red; }\n\n.overrides-expenses-panel {\n  max-width: 1150px;\n  margin: 0 auto; }\n\n.toolbar-icon {\n  padding: 0 1.5rem; }\n\n.toolbar-spacer {\n  flex: 1 1 auto; }\n\n.align-center {\n  width: 100%;\n  max-width: 1150px;\n  margin: 0 auto; }\n\n.sales-table {\n  max-height: 400px;\n  overflow: auto; }\n"

/***/ }),

/***/ "./src/app/payroll/payroll.component.ts":
/*!**********************************************!*\
  !*** ./src/app/payroll/payroll.component.ts ***!
  \**********************************************/
/*! exports provided: PayrollComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayrollComponent", function() { return PayrollComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var ng2_file_upload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-file-upload */ "./node_modules/ng2-file-upload/index.js");
/* harmony import */ var ng2_file_upload__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_file_upload__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _app_message_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/message.service */ "./src/app/message.service.ts");
/* harmony import */ var _campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../campaigns/campaign.service */ "./src/app/campaigns/campaign.service.ts");
/* harmony import */ var _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user-features/user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _payroll_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./payroll.service */ "./src/app/payroll/payroll.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _dialogs_reject_note_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dialogs/reject-note.component */ "./src/app/payroll/dialogs/reject-note.component.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/shared/models/state.model */ "./src/app/shared/models/state.model.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var PayrollComponent = /** @class */ (function () {
    function PayrollComponent(campaignApi, msg, userService, dialog, payrollService, fb) {
        var _this = this;
        this.campaignApi = campaignApi;
        this.msg = msg;
        this.userService = userService;
        this.dialog = dialog;
        this.payrollService = payrollService;
        this.fb = fb;
        this.$indexVal = -1;
        this.displayedColumns = ['saleDate', 'firstName', 'lastName', 'address', 'city', 'state', 'postalCode', 'statusType', 'amount', 'note'];
        this.dataSource$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__["BehaviorSubject"]([]);
        this.overrideColumns = ['agentId', 'sales', 'commission', 'total', 'delete'];
        this.overrideDataSource$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__["BehaviorSubject"]([]);
        this.expenseColumns = ['title', 'description', 'amount', 'delete'];
        this.expenseDataSource$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__["BehaviorSubject"]([]);
        this.uploader = new ng2_file_upload__WEBPACK_IMPORTED_MODULE_2__["FileUploader"]({ removeAfterUpload: true });
        this.states = _app_shared_models_state_model__WEBPACK_IMPORTED_MODULE_11__["States"].$get();
        this.showRejectNotes = false;
        this.wsHeaders$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__["BehaviorSubject"]([]);
        this.wsData$ = new rxjs__WEBPACK_IMPORTED_MODULE_10__["BehaviorSubject"]([]);
        this.wsData = [];
        this.selectedOverrideAgent = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', []);
        this.disableOverrides = true;
        this.dataSource = this.dataSource$.asObservable();
        this.overrideDataSource = this.overrideDataSource$.asObservable();
        this.expenseDataSource = this.expenseDataSource$.asObservable();
        this.agents$ = this.userService.agents;
        this.user$ = this.userService.user;
        // gets active list of users to fill dropdown on invoice page
        this.userService.users.subscribe(function (next) { _this.users = next; });
        this.userService.userDetail.subscribe(function (next) {
            _this.userDetail = next;
        });
    }
    PayrollComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.agents$.subscribe(function (agents) { _this.agents = agents; });
        this.user$.subscribe(function (user) {
            _this.user = user;
            _this.campaignApi.getCampaigns(user.sessionUser.sessionClient)
                .then(function (campaigns) {
                _this.campaigns = campaigns;
            })
                .catch(_this.msg.showWebApiError);
            _this.userService.loadAgents(true);
        });
        this.userService.reloadUserPromise();
        this.userService.loadAgents();
        this.isMappedByUsername = true;
        this.createForm();
        this.mapped = {
            agentId: null,
            agentName: null,
            entries: []
        };
        // assume that the page is going to have data at page load
        this.newFileUpload = false;
        this.showRejectNotes = lodash__WEBPACK_IMPORTED_MODULE_7__["find"](this.dataSource, ['statusType', false]) !== null;
        this.wsHeaders$.subscribe(function (next) {
            _this.wsHeaders = next;
        });
        this.wsData$.subscribe(function (next) {
            if (next !== undefined)
                _this.wsData.push(next);
        });
    };
    PayrollComponent.prototype.createForm = function () {
        var _this = this;
        var salesArray = this.createFormGroup(this.dataSource$.getValue());
        var overridesArray = this.createFormGroup(this.overrideDataSource$.getValue(), 'overrides');
        var expensesArray = this.createFormGroup(this.expenseDataSource$.getValue(), 'expenses');
        this.form = this.fb.group({
            agentId: this.fb.control(this.selectedAgentId || '', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required),
            campaignId: this.fb.control(this.selectedCampaignId || '', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required),
            issueDate: this.fb.control(this.issueDate || '', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required),
            weekEnding: this.fb.control(this.weekEnding || '', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required),
            sales: this.fb.array(salesArray),
            overrides: this.fb.array(overridesArray),
            expenses: this.fb.array(expensesArray)
        });
        this.payrollService.sales.subscribe(function (sales) {
            if (!sales.length || sales == null)
                return;
            _this.dataSource$.next(sales);
            _this.form.controls.sales = _this.fb.array(_this.createFormGroup(sales));
            _this.form.updateValueAndValidity();
        });
        this.payrollService.overrides.subscribe(function (overrides) {
            if (!overrides.length || overrides == null)
                return;
            _this.overrideDataSource$.next(overrides);
            _this.form.controls.overrides = _this.fb.array(_this.createFormGroup(overrides, 'overrides'));
            _this.form.updateValueAndValidity();
        });
        this.payrollService.expenses.subscribe(function (expenses) {
            if (!expenses.length || expenses == null)
                return;
            _this.expenseDataSource$.next(expenses);
            _this.form.controls.expenses = _this.fb.array(_this.createFormGroup(expenses, 'expenses'));
            _this.form.updateValueAndValidity();
        });
    };
    PayrollComponent.prototype.createFormGroup = function (data, keyType) {
        if (keyType === void 0) { keyType = null; }
        var formGroups = [];
        var keys = ['saleDate', 'firstName', 'lastName', 'address', 'city', 'state', 'postalCode', 'statusType', 'amount'];
        if (keyType != null) {
            keys = keyType == 'overrides'
                ? ['agentId', 'sales', 'commission', 'total']
                : keyType == 'expenses'
                    ? ['title', 'description', 'amount']
                    : keys;
        }
        // loop through each row of the dataset
        for (var i = 0; i < data.length; i++) {
            var group = {};
            // loop through the keys
            for (var j = 0; j < keys.length; j++) {
                // append this rows properties as form controls to the form group
                group[keys[j]] = this.fb.control(data[i][keys[j]], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
            }
            formGroups.push(this.fb.group(group));
        }
        return formGroups;
    };
    PayrollComponent.prototype.clickFileUploader = function () {
        document.getElementById('file-uploader').click();
    };
    PayrollComponent.prototype.getErrorMessage = function (f) {
        var form = f.form;
        return form.controls.selectedAgent.errors.required ? 'You must select an agent' :
            form.controls.selectedCampaign.errors.required ? 'You must select a campaign' :
                form.controls.selectedIssueDate.errors.required ? 'You must select an issue date' :
                    form.controls.selectedWeekending.errors.required ? 'You must select a weekending' : null;
    };
    PayrollComponent.prototype.saleDateEvent = function (item, event) {
        var fieldValue = event.value;
        var data = this.dataSource$.getValue();
        item.saleDate = fieldValue.format('YYYY-MM-DD');
        if (this.hasEditedLastRow(data)) {
            data.push(this.insertPayrollRow());
            var newDataSource = data;
            this.dataSource$.next(newDataSource);
            this.form.controls.sales = this.fb.array(this.createFormGroup(this.dataSource$.getValue()));
        }
    };
    /**
     * Check if the last row in the array has any data in it. If it does,
     * we set our boolean to true that inserts a new row at the bottom of the table.
     */
    PayrollComponent.prototype.hasEditedLastRow = function (data) {
        var testValidity = data[data.length - 1];
        var result;
        for (var p in testValidity) {
            result = testValidity[p] != null;
            if (result)
                break;
        }
        return result;
    };
    /**
     * Handles changes to the sales rows and updates underlying objects and validity on form.
     *
     * @param prop
     * @param item
     * @param event
     * @param pos
     */
    PayrollComponent.prototype.handleRowEdit = function (prop, item, event) {
        var fieldValue = event.target.value;
        // set item property to field value
        item[prop] = fieldValue;
        // Insert a new row at the bottom of the table if there are is not an empty last row.
        if (this.hasEditedLastRow(this.dataSource$.getValue())) {
            var current = this.dataSource$.getValue();
            current.push(this.insertPayrollRow());
            this.payrollService.sales$.next(current);
        }
    };
    PayrollComponent.prototype.overrideRowEdit = function (prop, item, event, index) {
        if (index === void 0) { index = null; }
        var fieldValue = (prop == 'agentId') ? event.value : event.target.value;
        // set item property to field value
        item[prop] = +fieldValue;
        if (index != null) {
            var form = this.form.controls.overrides;
            var patch = {};
            patch[prop] = fieldValue;
            form.controls[index].patchValue(patch);
            if (prop == 'sales'
                || prop == 'commission'
                    && item.sales > 0
                    && item.commission > 0) {
                item.total = item.sales * item.commission;
                form.controls[index].patchValue({
                    total: item.total
                });
            }
        }
        if (this.hasEditedLastRow(this.overrideDataSource$.getValue())) {
            var current = this.overrideDataSource$.getValue();
            current.push(this.insertOverrideRow());
            this.payrollService.overrides$.next(current);
        }
    };
    PayrollComponent.prototype.expenseRowEdit = function (prop, item, event, index) {
        var fieldValue = event.target.value;
        // set item property to field value
        item[prop] = fieldValue;
        if (index != null) {
            var form = this.form.controls.expenses;
            var patch = {};
            patch[prop] = fieldValue;
            form.controls[index].patchValue(patch);
        }
        if (this.hasEditedLastRow(this.expenseDataSource$.getValue())) {
            var current = this.expenseDataSource$.getValue();
            current.push(this.insertExpenseRow());
            this.payrollService.expenses$.next(current);
        }
    };
    PayrollComponent.prototype.openRejectDialog = function (item, index) {
        var _this = this;
        this.dialog
            .open(_dialogs_reject_note_component__WEBPACK_IMPORTED_MODULE_9__["RejectNoteDialogComponent"], {
            width: '400px',
            data: { item: item, index: index }
        })
            .afterClosed().subscribe(function (result) {
            if (result == null)
                return;
            var agent = result.agent;
            var index = result.index;
            _this.dataSource[index] = agent;
        });
    };
    PayrollComponent.prototype.updateSelectedAgent = function () {
        var _this = this;
        if (this.overrideAgents == null
            || this.overrideAgents.length == 0) {
            this.userService.refreshAgents()
                .then(function (agents) {
                _this.agent = lodash__WEBPACK_IMPORTED_MODULE_7__["find"](agents, { 'agentId': _this.invoice.agentId });
                _this.disableOverrides = !_this.agent.isManager;
            });
        }
        else {
            this.agent = lodash__WEBPACK_IMPORTED_MODULE_7__["find"](this.agents, { 'agentId': this.invoice.agentId });
            this.disableOverrides = !this.agent.isManager;
        }
    };
    PayrollComponent.prototype.validateInvoice = function () {
        var dataSource = this.dataSource$.getValue();
        var overrideDataSource = this.overrideDataSource$.getValue();
        var expenseDataSource = this.expenseDataSource$.getValue();
        var lastSalesRow = dataSource.length - 1;
        var lastOverrideRow = overrideDataSource.length - 1;
        var lastExpenseRow = expenseDataSource.length - 1;
        var salesFormArray = this.form.controls.sales;
        var overridesFormArray = this.form.controls.overrides;
        var expensesFormArray = this.form.controls.expenses;
        if (this.form.invalid && salesFormArray.controls[lastSalesRow].dirty)
            return;
        this.removeEmptyDataSourceRow(salesFormArray, dataSource, lastSalesRow, 'dataSource$');
        this.removeEmptyDataSourceRow(overridesFormArray, overrideDataSource, lastOverrideRow, 'overrideDataSource$');
        this.removeEmptyDataSourceRow(expensesFormArray, expenseDataSource, lastExpenseRow, 'expenseDataSource$');
        this.form.updateValueAndValidity();
        this.saveInvoice(dataSource, overrideDataSource, expenseDataSource);
    };
    PayrollComponent.prototype.removeEmptyDataSourceRow = function (formArray, dataSource, pos, destinationDataSource) {
        var hasData;
        var row = dataSource[pos];
        for (var p in row) {
            hasData = row[p] != null;
            if (hasData)
                break;
        }
        if (hasData)
            return;
        formArray.removeAt(pos);
        dataSource.splice(pos, 1);
        this[destinationDataSource].next(dataSource);
    };
    PayrollComponent.prototype.removeEmptyOverride = function (i) {
        var data = this.overrideDataSource$.getValue();
        if (!lodash__WEBPACK_IMPORTED_MODULE_7__["isEmpty"](data[i]))
            return;
        data.splice(i, 1);
        this.overrideDataSource$.next(data);
    };
    PayrollComponent.prototype.removeEmptyExpense = function (i) {
        var data = this.expenseDataSource$.getValue();
        if (!lodash__WEBPACK_IMPORTED_MODULE_7__["isEmpty"](data[i]))
            return;
        data.splice(i, 1);
        this.expenseDataSource$.next(data);
    };
    PayrollComponent.prototype.saveInvoice = function (sales, overrides, expenses) {
        console.log('Form is invalid: ' + this.form.invalid);
        console.dir(this.form);
        if (this.form.invalid)
            return;
        var data = {
            invoiceId: null,
            agentId: this.selectedAgentId,
            campaignId: this.selectedCampaignId,
            agentSales: sales,
            overrides: overrides,
            expenses: expenses,
            issueDate: this.issueDate,
            weekEnding: this.weekEnding
        };
        for (var i = 0; i < data.agentSales.length; i++) {
            data.agentSales[i].agentId = this.selectedAgentId;
        }
        for (var i = 0; i < data.expenses.length; i++) {
            data.expenses[i].agentId = this.selectedAgentId;
        }
        console.dir(data);
        this.payrollService
            .saveNewInvoice(this.user.sessionUser.sessionClient, this.agent.agentId, data)
            .subscribe(function (result) {
            console.dir(result);
        });
        // let dto: InvoiceDto = <InvoiceDto>{
        //   invoiceId: null,
        //   agentId: form.control,
        //   campaignId: form.controls.campaign.value,
        //   agentSales: sales,
        //   overrides: overrides,
        //   expenses: expenses,
        //   issueDate: form.controls.issueDate.value,
        //   weekEnding: form.controls.weekEnding.value
        // }
        // this.payrollService
        //   .saveInvoice(dto)
        //   .then((result: InvoiceDto) => {
        //     console.dir(result);
        //   });
    };
    /**
     * finds the currently selected agent and checks to see if they're a manager so
     * that we can properly set the var that shows/hides the overrides panel.
     */
    PayrollComponent.prototype.changeAgent = function () {
        this.agent = lodash__WEBPACK_IMPORTED_MODULE_7__["find"](this.agents, { 'agentId': this.form.value.agentId });
        this.disableOverrides = !(this.agent.isActive && this.agent.isManager);
    };
    /**
     * Checks to make sure agent has suboridnates prior to expanding the
     * dataset and adding an override row.
     *
     * @param wasSectionHidden
     *
     */
    PayrollComponent.prototype.addOverrideRow = function (wasSectionHidden) {
        var _this = this;
        if (wasSectionHidden === void 0) { wasSectionHidden = false; }
        if (wasSectionHidden && this.agent.agentId != null) {
            if (this.agent == null)
                this.agent = lodash__WEBPACK_IMPORTED_MODULE_7__["find"](this.agents, { 'agentId': this.selectedAgentId });
            this.userService.getAgentsByManagerId(this.agent.managerId)
                .then(function (agents) {
                _this.overrideAgents = agents;
                _this.payrollService.addEmptyOverride();
            })
                .catch(this.msg.showWebApiError);
        }
        else {
            if (this.overrideAgents == null || this.overrideAgents.length == 0) {
                this.msg.addMessage('Please make sure you select an agent before you start entering overrides.', 'dismiss', 6000);
                return;
            }
            this.payrollService.addEmptyOverride();
        }
    };
    PayrollComponent.prototype.addExpenseRow = function () {
        this.payrollService.addEmptyExpense();
    };
    PayrollComponent.prototype.removeRow = function (sourceType, index) {
        var data;
        switch (sourceType) {
            case 'overrides':
                data = this.overrideDataSource$.getValue();
                data.splice(index, 1);
                this.overrideDataSource$.next(data);
                this.payrollService.updateDataSource(sourceType, this.overrideDataSource$.getValue());
                break;
            case 'expenses':
                data = this.expenseDataSource$.getValue();
                data.splice(index, 1);
                this.expenseDataSource$.next(data);
                this.payrollService.updateDataSource(sourceType, this.expenseDataSource$.getValue());
                break;
            case 'sales':
            default:
                data = this.dataSource$.getValue();
                data.splice(index, 1);
                this.dataSource$.next(data);
                this.payrollService.updateDataSource(sourceType, this.dataSource$.getValue());
                break;
        }
    };
    PayrollComponent.prototype.insertPayrollRow = function () {
        return {
            invoiceId: null,
            agentSalesId: null,
            agentId: null,
            saleDate: null,
            firstName: null,
            lastName: null,
            address: null,
            city: null,
            state: null,
            postalCode: null,
            statusType: null,
            amount: null,
            note: null,
            createdAt: null,
            updatedAt: null
        };
    };
    PayrollComponent.prototype.insertOverrideRow = function () {
        return {
            overrideId: null,
            agentId: null,
            invoiceId: null,
            commission: null,
            sales: null,
            total: null
        };
    };
    PayrollComponent.prototype.insertExpenseRow = function () {
        return {
            expenseId: null,
            agentId: null,
            invoiceId: null,
            title: null,
            description: null,
            amount: null,
            updatedAt: null,
            modifiedBy: null,
            createdAt: null
        };
    };
    PayrollComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-payroll',
            template: __webpack_require__(/*! ./payroll.component.html */ "./src/app/payroll/payroll.component.html"),
            styles: [__webpack_require__(/*! ./payroll.component.scss */ "./src/app/payroll/payroll.component.scss")],
            viewProviders: [ng2_file_upload__WEBPACK_IMPORTED_MODULE_2__["FileSelectDirective"]]
        }),
        __metadata("design:paramtypes", [_campaigns_campaign_service__WEBPACK_IMPORTED_MODULE_4__["CampaignService"],
            _app_message_service__WEBPACK_IMPORTED_MODULE_3__["MessageService"],
            _user_features_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_8__["MatDialog"],
            _payroll_service__WEBPACK_IMPORTED_MODULE_6__["PayrollService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]])
    ], PayrollComponent);
    return PayrollComponent;
}());

// updateMapping(f:FormGroup):void {
//   if(f.controls.selectedAgent.invalid) this.msg.addMessage('Oops! Looks like we encountered an error, please refresh and try again.', 'dismiss', 6000);
//   this.mapped.agentId = f.controls.selectedAgent.value;
//   let user = _.find(this.users, { id: this.mapped.agentId });
//   this.mapped.agentName = user.firstName + ' ' + user.lastName;
//   let sales: IAgentSale[] = this.dataSource$.getValue();
//   let salesTableHasData: boolean = false;
//   _.each(sales, (sale: IAgentSale) => {
//     for(let s in sale) {
//       // check if there are any values in the first row and on... then do the check.
//       if(salesTableHasData) break;
//       salesTableHasData = sale[s] !== null;
//     }
//   });
//   if(salesTableHasData) {
//     let dialogRef = this.dialog.open(ChangeAgentDialogComponent, {
//       width: '250px',
//     });
//     dialogRef.afterClosed().subscribe((result: boolean) => {
//       if(result) {
//         this.mapped.entries = [];
//         this.mapped.entries.push(this.insertPayrollRow());
//         this.dataSource$.next(this.mapped.entries);
//         this.overrideDataSource$.next([]);
//         this.expenseDataSource$.next([]);
//       }
//     });
//   }
// }
// private createForm() {
//   this.form = this.fb.group({
//     sales: this.fb.array(this.dataSource$.getValue()),
//     overrides: this.fb.array(this.overrideDataSource$.getValue()),
//     expenses: this.fb.array(this.expenseDataSource$.getValue())
//   });
// }
// private resetForm() {
//   this.form = this.fb.group({
//     sales: this.fb.array(this.dataSource$.getValue()),
//     overrides: this.fb.array(this.overrideDataSource$.getValue()),
//     expenses: this.fb.array(this.expenseDataSource$.getValue())
//   });
// }
// openSalesMappingDialog(headers: any, rows: IAgentSale[]): void {
//   // move this to import button click event... and highlight field that user needs to interact with before they continue
//   if(!(this.invoice.agentId > 0)) {
//     this.msg.addMessage('Please make sure you select a salesperson before continuing.', 'dismiss', 5000);
//     return;
//   } else if (!(this.invoice.campaignId > 0)) {
//     this.msg.addMessage('Please select a campaign before continuing.', 'dismiss', 5000);
//     return;
//   }
//   this.dialog
//     .open(SelectMapperComponent, {
//       width: '500px',
//       data: {}
//     })
//     .afterClosed()
//     .subscribe((mapBy:string) => {
//       if(mapBy == undefined) return;
//       // if the user is mapping by something other than username, we need to do the work to get the correct sales ID to map with here...
//       if(mapBy === 'salesId') {
//         // need to get user details here and get their sales id for the currently selected campaign and store the current sales id
//         // to something that we can use... maybe store this as "currentSalesId" in the payroll service or something, so that it is
//         // easily accessible from multiple components...?
//         console.log('map by ' + mapBy);
//         this.userService.getUserDetail()
//           .then((detail:IUserDetail) => {
//             if(detail == null) {
//               this.msg.addMessage('Fatal error. Please refresh and try again.', 'dismiss', 6000);
//             } else {
//               switch(this.selectedCampaign.value) {
//                 case this.userDetail.saleOneCampaignId:
//                   this.salesId = this.userDetail.saleOneId;
//                   break;
//                 case this.userDetail.saleTwoCampaignId:
//                   this.salesId = this.userDetail.saleTwoId;
//                   break;
//                 case this.userDetail.saleThreeCampaignId:
//                   this.salesId = this.userDetail.saleThreeId;
//                   break;
//                 default:
//                   this.salesId = 0;
//                   break;
//               }
//               if(this.salesId === 0)
//                 this.msg.addMessage('Please make sure that you have a sales ID for the specified campaign saved in your profile.', 'dismiss', 6000);
//             }
//           });
//         console.dir(this.userDetail);
//       } else {
//         console.log("map by " + mapBy);
//       }
//       let dialogRef = this.dialog.open(SalesMappingComponent, {
//         width: '500px',
//         data: { headers: headers, rows: rows }
//       });
//       dialogRef.afterClosed().subscribe((result: IPayrollMap) => {
//         if(result.entries == null) {
//           this.msg.addMessage('Something went wrong. Please try again.', 'dismiss', 6000);
//           return;
//         }
//         if(result != undefined && result.entries.length > 0) {
//           this.mapped.entries = result.entries;
//           // make sure our results only match the employee that the user has selected in the top left...
//           _.remove(this.mapped.entries, (e: IAgentSale) => {
//             return e.agentName.toLowerCase().trim() !== this.mapped.agentName.toLowerCase().trim();
//           });
//           for(let i = 0; i < this.mapped.entries.length; i++) {
//             let data = this.mapped.entries[i];
//             if(data['zip']) {
//               data.postalCode = data['zip'];
//               delete data['zip'];
//             }
//           }
//           if(this.mapped.entries.length === 0) this.msg.addMessage('Looks like there are no results for that agent. Please try again.', 'dismiss', 5000);
//           // if(this.newFileUpload) {
//           //   for(let i = 0; i < this.mapped.entries.length; i++) {
//           //     this.mapped.entries[i].agentSalesId = i + 1;
//           //   }
//           // }
//           this.mapped.entries.push(this.insertPayrollRow());
//           console.dir(this.mapped.entries);
//           this.payrollService.updateDataSource('sales', this.mapped.entries);
//         }
//       });
//     });
// }
// chooseFile(e:any):void {
//   this.newFileUpload = true;
//   let file:File = e.target.files[0];
//   let reader:FileReader = new FileReader();
//   reader.onload = (e: any) => {
//     const bstr: string = e.target.result;
//     const wb: XLSX.WorkBook = XLSX.read(bstr, { type: 'binary' });
//     // grab first sheet
//     let wsname: string;
//     let ws: XLSX.WorkSheet;
//     if(wb.SheetNames.length > 1) {
//       wsname = wb.SheetNames[1] === 'Data' ? wb.SheetNames[1] : 'Data';
//       ws = wb.Sheets[wsname];
//     } else {
//       wsname = wb.SheetNames[0];
//       ws = wb.Sheets[wsname];
//     }
//     // save data
//     this.data = <any>(XLSX.utils.sheet_to_json(ws, { header: 1 }));
//     let entry = [];
//     let rows = [];
//     for(var h = 0; h < this.data.length; h++) {
//       let row = this.data[h];
//       if(h === 0) {
//         for(var i = 0; i < row.length; i++) {
//           row[i] = row[i].toLowerCase().split(' ').map(function(w, idx){
//             if(idx > 0 && w.length > 2) {
//               return w.charAt(0).toUpperCase() + w.substr(1);
//             } else {
//               return w;
//             }
//           }).join(' ');
//           entry.push(row[i]);
//         }
//         this.wsHeaders$.next(row);
//       } else { // data form worksheet
//         if(row.length > 0) rows.push(row);
//       }
//     }
//     this.openSalesMappingDialog(entry, rows);
//   };
//   if(file) reader.readAsBinaryString(file);
// }


/***/ }),

/***/ "./src/app/payroll/payroll.service.ts":
/*!********************************************!*\
  !*** ./src/app/payroll/payroll.service.ts ***!
  \********************************************/
/*! exports provided: PayrollService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayrollService", function() { return PayrollService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _env_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @env/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PayrollService = /** @class */ (function () {
    function PayrollService(http) {
        this.http = http;
        this.apiUrl = _env_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].apiUrl;
        this.dataStore = {
            sales: [this.insertSalesRow()],
            overrides: [],
            expenses: []
        };
        this.sales$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](this.dataStore.sales);
        this.sales = this.sales$.asObservable();
        this.overrides$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](this.dataStore.overrides);
        this.overrides = this.overrides$.asObservable();
        this.expenses$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](this.dataStore.expenses);
        this.expenses = this.expenses$.asObservable();
    }
    PayrollService.prototype.reloadSales = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.sales$.next(_this.dataStore.sales);
        });
    };
    PayrollService.prototype.reloadOverrides = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.overrides$.next(_this.dataStore.overrides);
        });
    };
    PayrollService.prototype.reloadExpenses = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.expenses$.next(_this.dataStore.expenses);
        });
    };
    PayrollService.prototype.addEmptyOverride = function () {
        this.dataStore.overrides.push(this.insertOverrideRow());
        this.overrides$.next(this.dataStore.overrides);
    };
    PayrollService.prototype.addEmptyExpense = function () {
        this.dataStore.expenses.push(this.insertExpenseRow());
        this.expenses$.next(this.dataStore.expenses);
    };
    PayrollService.prototype.saveInvoice = function (invoiceDto, invoiceId) {
        if (invoiceId === void 0) { invoiceId = null; }
        var url = invoiceId === null ?
            this.apiUrl + 'api/invoices' :
            this.apiUrl + 'api/invoices/' + invoiceId;
        return this.http.post(url, invoiceDto).toPromise();
    };
    PayrollService.prototype.saveNewInvoice = function (clientId, agentId, data) {
        var url = this.apiUrl + '/api/clients/' + clientId + '/agents/'
            + agentId + '/invoices';
        return this.http.post(url, data);
    };
    /**
     * Can pass any of the three datasources with descriptive string that will update their
     * behavior subject and private data stores.
     *
     * @param sourceType string
     * @param data any
     */
    PayrollService.prototype.updateDataSource = function (sourceType, data) {
        switch (sourceType) {
            case 'overrides':
                this.dataStore.overrides = data;
                this.overrides$.next(this.dataStore.overrides);
                break;
            case 'expenses':
                this.dataStore.expenses = data;
                this.expenses$.next(this.dataStore.expenses);
                break;
            case 'sales':
            default:
                this.dataStore.sales = data;
                this.sales$.next(this.dataStore.sales);
                break;
        }
    };
    // private methods
    PayrollService.prototype.insertSalesRow = function () {
        return {
            invoiceId: null,
            agentSalesId: null,
            agentId: null,
            saleDate: null,
            firstName: null,
            lastName: null,
            address: null,
            city: null,
            state: null,
            postalCode: null,
            statusType: null,
            amount: null,
            note: null,
            createdAt: null,
            updatedAt: null
        };
    };
    PayrollService.prototype.insertOverrideRow = function () {
        return {
            overrideId: null,
            agentId: null,
            invoiceId: null,
            commission: null,
            sales: null,
            total: null
        };
    };
    PayrollService.prototype.insertExpenseRow = function () {
        return {
            expenseId: null,
            agentId: null,
            invoiceId: null,
            title: null,
            description: null,
            amount: null,
            updatedAt: null,
            modifiedBy: null,
            createdAt: null
        };
    };
    PayrollService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], PayrollService);
    return PayrollService;
}());



/***/ }),

/***/ "./src/app/pipes/phone.pipe.ts":
/*!*************************************!*\
  !*** ./src/app/pipes/phone.pipe.ts ***!
  \*************************************/
/*! exports provided: PhonePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PhonePipe", function() { return PhonePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var PhonePipe = /** @class */ (function () {
    function PhonePipe() {
    }
    PhonePipe.prototype.transform = function (value, args) {
        value = value + '';
        var npa = value.substr(0, 3);
        var npx = value.substr(3, 3);
        var xxxx = value.substr(6, 4);
        return "(" + npa + ") " + npx + "-" + xxxx;
    };
    PhonePipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'phone'
        })
    ], PhonePipe);
    return PhonePipe;
}());



/***/ }),

/***/ "./src/app/pipes/pipes.module.ts":
/*!***************************************!*\
  !*** ./src/app/pipes/pipes.module.ts ***!
  \***************************************/
/*! exports provided: PipesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PipesModule", function() { return PipesModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _app_pipes_phone_pipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/pipes/phone.pipe */ "./src/app/pipes/phone.pipe.ts");
/* harmony import */ var _app_material_material_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/material/material.module */ "./src/app/material/material.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var PipesModule = /** @class */ (function () {
    function PipesModule() {
    }
    PipesModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _app_material_material_module__WEBPACK_IMPORTED_MODULE_3__["MaterialModule"]
            ],
            declarations: [_app_pipes_phone_pipe__WEBPACK_IMPORTED_MODULE_2__["PhonePipe"]],
            exports: [_app_pipes_phone_pipe__WEBPACK_IMPORTED_MODULE_2__["PhonePipe"]]
        })
    ], PipesModule);
    return PipesModule;
}());



/***/ }),

/***/ "./src/app/public-home/public-home.component.html":
/*!********************************************************!*\
  !*** ./src/app/public-home/public-home.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\n  public-home works!\n</p>\n"

/***/ }),

/***/ "./src/app/public-home/public-home.component.scss":
/*!********************************************************!*\
  !*** ./src/app/public-home/public-home.component.scss ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/public-home/public-home.component.ts":
/*!******************************************************!*\
  !*** ./src/app/public-home/public-home.component.ts ***!
  \******************************************************/
/*! exports provided: PublicHomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublicHomeComponent", function() { return PublicHomeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var PublicHomeComponent = /** @class */ (function () {
    function PublicHomeComponent() {
    }
    PublicHomeComponent.prototype.ngOnInit = function () {
    };
    PublicHomeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'vs-public-home',
            template: __webpack_require__(/*! ./public-home.component.html */ "./src/app/public-home/public-home.component.html"),
            styles: [__webpack_require__(/*! ./public-home.component.scss */ "./src/app/public-home/public-home.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], PublicHomeComponent);
    return PublicHomeComponent;
}());



/***/ }),

/***/ "./src/app/scroll-lock.directive.ts":
/*!******************************************!*\
  !*** ./src/app/scroll-lock.directive.ts ***!
  \******************************************/
/*! exports provided: ScrollLockDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScrollLockDirective", function() { return ScrollLockDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ScrollLockDirective = /** @class */ (function () {
    function ScrollLockDirective(elementRef, zone, cd) {
        var _this = this;
        this.zone = zone;
        this.cd = cd;
        // private methods
        this.handleEvent = function (event) {
            if (!_this.isTrappingEvent(event))
                return;
            // Regardless of whether or not we're going to allow this event to be applied
            // locally, we want to stop the event from propagating above this container. This way,
            // we make sure that an acestor instance higher up in the DOM, doesn't accidentally interfere
            // with the default behavior being applied locally.
            event.stopPropagation();
            if (_this.eventShouldBePrevented(event))
                event.preventDefault();
        };
        this.element = elementRef.nativeElement;
    }
    ScrollLockDirective.prototype.ngOnChanges = function () {
        this.trapScroll = this.parseBoolean(this.trapScroll);
        if (this.element.tabIndex >= -1) {
            this.element.tabIndex = -1;
        }
        else {
            this.element.removeAttribute('tabIndex');
        }
        this.cd.detectChanges();
    };
    ScrollLockDirective.prototype.ngOnDestroy = function () {
        this.element.removeEventListener('wheel', this.handleEvent, false);
    };
    ScrollLockDirective.prototype.ngOnInit = function () {
        var _this = this;
        this.zone.runOutsideAngular(function () {
            // NOTE: All modern browsers support "wheel". As such, we'll apply this
            // as a progressive enhancement and not worry about older browsers.
            _this.element.addEventListener("wheel", _this.handleEvent, false);
            _this.element.addEventListener("keydown", _this.handleEvent, false);
        });
    };
    ScrollLockDirective.prototype.eventShouldBePrevented = function (event) {
        var target = event.target;
        // check for embedded scrolling opportunities
        while (target !== this.element) {
            // if the event will cause scrolling in an embedded event, then we do not
            // want to prevent the default behavior of the event.
            if (this.isScrollableElement(target))
                return false;
            target = target.parentNode;
        }
        // if we've made it this far, there weren't any embedded scrollable elements to
        // inspect. As such, we can now examine the container. If the event will cause
        // scrolling in container element, then we DO NOT want to prevent
        return true;
    };
    ScrollLockDirective.prototype.isScrollableElement = function (element) {
        if (getComputedStyle(element).overflowY === 'hidden')
            return false;
        return element.scrollHeight !== element.clientHeight;
    };
    ScrollLockDirective.prototype.isTrappingEvent = function (event) {
        if (!this.trapScroll)
            return false;
        return true;
    };
    ScrollLockDirective.prototype.parseBoolean = function (value) {
        return value == true;
    };
    ScrollLockDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[scrollLock]',
            inputs: ['trapScroll']
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]])
    ], ScrollLockDirective);
    return ScrollLockDirective;
}());



/***/ }),

/***/ "./src/app/select-mapper/select-mapper.component.css":
/*!***********************************************************!*\
  !*** ./src/app/select-mapper/select-mapper.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/select-mapper/select-mapper.component.html":
/*!************************************************************!*\
  !*** ./src/app/select-mapper/select-mapper.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n\n<mat-card-title>Choose a mapping method.</mat-card-title>\n<mat-card-content>\n  The best method to map is to use the agent's sales id. However, it is imperative that you make sure both the sales ID is updated in their\n  profile and is displayed properly in the invoice. The fallback option would be to match the agent by name, but this requires that the name\n  typed into the invoice matches identically to the agent's profile.\n</mat-card-content>\n<mat-card-actions class=\"d-flex justify-content-between mx-0\">\n  <button type=\"button\" mat-button (click)=\"closeDialog('username')\">Username</button>\n  <button type=\"button\" mat-raised-button color=\"primary\" (click)=\"closeDialog('salesId')\">Sales ID</button>\n</mat-card-actions>\n"

/***/ }),

/***/ "./src/app/select-mapper/select-mapper.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/select-mapper/select-mapper.component.ts ***!
  \**********************************************************/
/*! exports provided: SelectMapperComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectMapperComponent", function() { return SelectMapperComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


var SelectMapperComponent = /** @class */ (function () {
    function SelectMapperComponent(ref, data) {
        this.ref = ref;
        this.data = data;
        this.isMappedByUsername = false;
    }
    SelectMapperComponent.prototype.ngOnInit = function () {
        this.toggleTitle = this.isMappedByUsername ? 'Map invoice by Username' : 'Map invoice by Sales ID';
    };
    SelectMapperComponent.prototype.closeDialog = function (mapBy) {
        this.ref.close(mapBy);
    };
    SelectMapperComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-select-mapper',
            template: __webpack_require__(/*! ./select-mapper.component.html */ "./src/app/select-mapper/select-mapper.component.html"),
            styles: [__webpack_require__(/*! ./select-mapper.component.css */ "./src/app/select-mapper/select-mapper.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object])
    ], SelectMapperComponent);
    return SelectMapperComponent;
}());



/***/ }),

/***/ "./src/app/session.service.ts":
/*!************************************!*\
  !*** ./src/app/session.service.ts ***!
  \************************************/
/*! exports provided: SessionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionService", function() { return SessionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _ngx_pwa_local_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-pwa/local-storage */ "./node_modules/@ngx-pwa/local-storage/fesm5/local-storage.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var rootUrl = _environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].rootUrl;
var schema = {
    properties: {
        expires: { type: 'integer' },
        data: { type: 'object' }
    },
    required: ['expires', 'data']
};
var SessionService = /** @class */ (function () {
    function SessionService(localStorage, router) {
        this.localStorage = localStorage;
        this.router = router;
        this.opened$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.dataStore = {
            user: null,
            token: null
        };
        this.navigateQueue = [];
        this.loggedInService = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](false);
        // FIXME: This doesn't work... If we subscribe to this for multiple types it will update everytime and the child files
        // will try to change the data type
        this.storageItem$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](null);
        this.userItem$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1);
        this.tokenItem$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1);
        this.loading$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.hasTokenSubject = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1);
        this.isLoginSubject = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](this.hasToken());
        // make sure we're removing expired cookies on app boot
        this.pruneExpiredStorage();
        for (var p in this.dataStore) {
            this.getItem(p);
        }
        this.userItem = this.userItem$.asObservable();
        this.tokenItem = this.tokenItem$.asObservable();
        this.loadingState = this.loading$.asObservable();
    }
    SessionService_1 = SessionService;
    Object.defineProperty(SessionService.prototype, "isUserLoggedIn", {
        get: function () {
            return this.userLoggedIn;
        },
        enumerable: true,
        configurable: true
    });
    SessionService.prototype.hasToken = function () {
        var _this = this;
        this.hasTokenSubject.subscribe(function (hasToken) {
            _this.userLoggedIn = hasToken;
        });
        this.localStorage
            .getItem('token')
            .toPromise()
            .then(function (item) {
            if (item == null)
                return;
            if (Date.now() >= item.expires) {
                _this.removeItem('token');
                _this.isLoginSubject.next(false);
            }
            else {
                _this.dataStore.token = item.data;
                _this.tokenItem$.next(item.data);
                _this.isLoginSubject.next(true);
            }
        });
        return this.userLoggedIn;
    };
    SessionService.prototype.login = function (token) {
        this.setToken(token.data);
        this.setItem('token', token);
        this.hideLoader();
        this.navigateTo('/');
    };
    SessionService.prototype.logout = function () {
        this.clearStorage();
        this.isLoginSubject.next(false);
        this.hasTokenSubject.next(false);
        window.location.href = rootUrl + '/#/login';
    };
    SessionService.prototype.getUserItem = function () {
        return this.userItem$.asObservable();
    };
    Object.defineProperty(SessionService.prototype, "userHomePage", {
        get: function () {
            return SessionService_1.defaultUserUrl;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Updates the app's loading spinner status. It is recommended to use the hide/show methods though.
     *
     * @param loading
     */
    SessionService.prototype.updateLoadingState = function (loading) {
        this.loading$.next(loading);
    };
    // hide the loading graphics
    SessionService.prototype.hideLoader = function () {
        this.loading$.next(false);
    };
    // show the loading graphics
    SessionService.prototype.showLoader = function () {
        this.loading$.next(true);
    };
    /**
     * Access router instance and redirect user to the view of your choice.
     *
     * @param view string
     */
    SessionService.prototype.navigateTo = function (view) {
        this.navigateQueue.push(view);
        this.router.navigateByUrl(view);
    };
    SessionService.prototype.navigateByUrl = function (url) {
        this.router.navigateByUrl(url);
    };
    /**
     * Navigate back to a page the user has been to very the navigation queue.
     *
     * @param index
     */
    SessionService.prototype.navigateBack = function (index) {
        if (index === void 0) { index = 1; }
        return this.router.navigateByUrl(this.navigateQueue[index]);
    };
    /**
     * Updates the user item in the session
     *
     * @param user
     */
    SessionService.prototype.setUser = function (user) {
        this.userItem$.next(user);
    };
    /**
     * What is this doing????
     *
     * @param sidenav
     */
    SessionService.prototype.setSidenav = function (sidenav) {
        this.sidenav = sidenav;
    };
    SessionService.prototype.open = function () {
        return this.sidenav.open();
    };
    SessionService.prototype.close = function () {
        return this.sidenav.close();
    };
    SessionService.prototype.toggle = function (isOpen) {
        return this.sidenav.toggle(isOpen);
    };
    SessionService.prototype.setToken = function (token) {
        this.isLoginSubject.next(true);
        this.hasTokenSubject.next(true);
        this.dataStore.token = token;
        this.tokenItem$.next(token);
    };
    SessionService.prototype.setItem = function (itemName, data) {
        if (this.dataStore[itemName])
            this.dataStore[itemName] = data.data;
        data.expires =
            data.expires == null ? moment__WEBPACK_IMPORTED_MODULE_5__().valueOf() + moment__WEBPACK_IMPORTED_MODULE_5__["duration"](3, 'days').milliseconds() : data.expires;
        this.localStorage.setItemSubscribe(itemName, data);
    };
    SessionService.prototype.getItem = function (itemName) {
        var _this = this;
        itemName = itemName.trim().toLowerCase();
        this.localStorage.getItem(itemName).subscribe(function (next) {
            if (next == null) {
                return;
            }
            else if (Date.now() >= next.expires) {
                _this.hasTokenSubject.next(false);
                _this.isLoginSubject.next(false);
                _this.removeItem(itemName);
            }
            else if (itemName === 'user') {
                _this.hasTokenSubject.next(true);
                _this.isLoginSubject.next(true);
                _this.dataStore.user = next.data;
                _this.userItem$.next(next.data);
            }
            else if (itemName === 'token') {
                _this.hasTokenSubject.next(true);
                _this.isLoginSubject.next(true);
                _this.dataStore.token = next.data;
                _this.tokenItem$.next(next.data);
            }
            _this.loggedInService.next(_this.userLoggedIn);
        });
    };
    /**
     * Exposes our localstorage user via the session service.
     */
    SessionService.prototype.isUserAuthenticated = function () {
        return this.localStorage.getItem('user');
    };
    /**
     * Explicit method to load user item from storage.
     *
     */
    SessionService.prototype.loadUserStorageItem = function () {
        var _this = this;
        this.localStorage.getItem('user').subscribe(function (item) {
            if (item == null) {
                _this.userLoggedIn = false;
                return;
            }
            if (item.expires <= moment__WEBPACK_IMPORTED_MODULE_5__().valueOf()) {
                _this.userLoggedIn = false;
                _this.removeItem('user');
            }
            else {
                _this.userLoggedIn = true;
                _this.dataStore.user = item.data;
                _this.userItem$.next(item.data);
            }
            _this.loggedInService.next(_this.userLoggedIn);
        });
    };
    /**
     * Explicit method to load token item from storage.
     *
     */
    SessionService.prototype.loadTokenStorageItem = function () {
        var _this = this;
        this.pruneExpiredStorage();
        this.localStorage.getItem('token').subscribe(function (item) {
            if (item == null)
                return;
            if (item.expires <= Date.now()) {
                _this.userLoggedIn = false;
                _this.removeItem('token');
            }
            else {
                _this.userLoggedIn = _this.userLoggedIn || true;
                _this.dataStore.token = item.data;
                _this.tokenItem$.next(item.data);
            }
            _this.loggedInService.next(_this.userLoggedIn);
        });
    };
    /**
     * Removes an item from the localstorage.
     *
     * @param itemName
     */
    SessionService.prototype.removeItem = function (itemName) {
        this.localStorage.removeItemSubscribe(itemName);
    };
    /**
     * Forces an item from localstorage. Returns the observable.
     *
     * @param itemName
     */
    SessionService.prototype.expediteItem = function (itemName) {
        return this.localStorage.getItem(itemName);
    };
    /**
     * Returns a promise with the user from local storage.
     */
    SessionService.prototype.getUserAuthenticationStatus = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.localStorage.getItem('user').subscribe(function (item) {
                if (item == null)
                    reject('Not logged in.');
                if (item.expires <= Date.now()) {
                    _this.removeItem('user');
                    reject('Login has expired. Please log back in.');
                }
                else {
                    resolve(item.data);
                }
            });
        });
    };
    SessionService.prototype.isExpiredItem = function (key, expires) {
        var result = false;
        if (Date.now() > expires) {
            this.removeItem(key);
            result = true;
        }
        return result;
    };
    /**
     * Iterates through all stored objects in localstorage
     * and checks their expiration dates. If the object has passed
     * its expiration date, it is invalidated and the object is
     * removed.
     *
     */
    SessionService.prototype.pruneExpiredStorage = function () {
        var values = [], keys = Object.keys(localStorage), i = keys.length;
        while (i--) {
            values.push({
                key: keys[i],
                data: this.localStorage.getItem(keys[i])
            });
        }
        for (var v = 0; v < values.length; v++) {
            var item = values[v];
            if (Date.now() > item.data.expires) {
                this.removeItem(item.key);
            }
        }
    };
    SessionService.prototype.clearStorage = function () {
        this.localStorage.clearSubscribe();
        this.userItem$.next(null);
        this.tokenItem$.next(null);
    };
    /**
     * When the user has been logged in, we need to make sure we are appending these to every HTTP call,
     * so that the user can make authorized calls to the server.
     *
     */
    SessionService.prototype.getTokenRequest = function (request) {
        return request.clone({
            setHeaders: {
                Authorization: 'Bearer ' + this.dataStore.token.access_token
            }
        });
    };
    var SessionService_1;
    SessionService.defaultUserUrl = 'my-information';
    SessionService = SessionService_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ngx_pwa_local_storage__WEBPACK_IMPORTED_MODULE_2__["LocalStorage"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], SessionService);
    return SessionService;
}());



/***/ }),

/***/ "./src/app/shared/index.ts":
/*!*********************************!*\
  !*** ./src/app/shared/index.ts ***!
  \*********************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _shared_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shared.module */ "./src/app/shared/shared.module.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return _shared_module__WEBPACK_IMPORTED_MODULE_0__["SharedModule"]; });




/***/ }),

/***/ "./src/app/shared/models/state.model.ts":
/*!**********************************************!*\
  !*** ./src/app/shared/models/state.model.ts ***!
  \**********************************************/
/*! exports provided: States */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "States", function() { return States; });
var States = /** @class */ (function () {
    function States() {
    }
    States.list = [
        {
            "name": "Alabama",
            "abbreviation": "AL"
        },
        {
            "name": "Alaska",
            "abbreviation": "AK"
        },
        {
            "name": "American Samoa",
            "abbreviation": "AS"
        },
        {
            "name": "Arizona",
            "abbreviation": "AZ"
        },
        {
            "name": "Arkansas",
            "abbreviation": "AR"
        },
        {
            "name": "California",
            "abbreviation": "CA"
        },
        {
            "name": "Colorado",
            "abbreviation": "CO"
        },
        {
            "name": "Connecticut",
            "abbreviation": "CT"
        },
        {
            "name": "Delaware",
            "abbreviation": "DE"
        },
        {
            "name": "District Of Columbia",
            "abbreviation": "DC"
        },
        {
            "name": "Federated States Of Micronesia",
            "abbreviation": "FM"
        },
        {
            "name": "Florida",
            "abbreviation": "FL"
        },
        {
            "name": "Georgia",
            "abbreviation": "GA"
        },
        {
            "name": "Guam",
            "abbreviation": "GU"
        },
        {
            "name": "Hawaii",
            "abbreviation": "HI"
        },
        {
            "name": "Idaho",
            "abbreviation": "ID"
        },
        {
            "name": "Illinois",
            "abbreviation": "IL"
        },
        {
            "name": "Indiana",
            "abbreviation": "IN"
        },
        {
            "name": "Iowa",
            "abbreviation": "IA"
        },
        {
            "name": "Kansas",
            "abbreviation": "KS"
        },
        {
            "name": "Kentucky",
            "abbreviation": "KY"
        },
        {
            "name": "Louisiana",
            "abbreviation": "LA"
        },
        {
            "name": "Maine",
            "abbreviation": "ME"
        },
        {
            "name": "Marshall Islands",
            "abbreviation": "MH"
        },
        {
            "name": "Maryland",
            "abbreviation": "MD"
        },
        {
            "name": "Massachusetts",
            "abbreviation": "MA"
        },
        {
            "name": "Michigan",
            "abbreviation": "MI"
        },
        {
            "name": "Minnesota",
            "abbreviation": "MN"
        },
        {
            "name": "Mississippi",
            "abbreviation": "MS"
        },
        {
            "name": "Missouri",
            "abbreviation": "MO"
        },
        {
            "name": "Montana",
            "abbreviation": "MT"
        },
        {
            "name": "Nebraska",
            "abbreviation": "NE"
        },
        {
            "name": "Nevada",
            "abbreviation": "NV"
        },
        {
            "name": "New Hampshire",
            "abbreviation": "NH"
        },
        {
            "name": "New Jersey",
            "abbreviation": "NJ"
        },
        {
            "name": "New Mexico",
            "abbreviation": "NM"
        },
        {
            "name": "New York",
            "abbreviation": "NY"
        },
        {
            "name": "North Carolina",
            "abbreviation": "NC"
        },
        {
            "name": "North Dakota",
            "abbreviation": "ND"
        },
        {
            "name": "Northern Mariana Islands",
            "abbreviation": "MP"
        },
        {
            "name": "Ohio",
            "abbreviation": "OH"
        },
        {
            "name": "Oklahoma",
            "abbreviation": "OK"
        },
        {
            "name": "Oregon",
            "abbreviation": "OR"
        },
        {
            "name": "Palau",
            "abbreviation": "PW"
        },
        {
            "name": "Pennsylvania",
            "abbreviation": "PA"
        },
        {
            "name": "Puerto Rico",
            "abbreviation": "PR"
        },
        {
            "name": "Rhode Island",
            "abbreviation": "RI"
        },
        {
            "name": "South Carolina",
            "abbreviation": "SC"
        },
        {
            "name": "South Dakota",
            "abbreviation": "SD"
        },
        {
            "name": "Tennessee",
            "abbreviation": "TN"
        },
        {
            "name": "Texas",
            "abbreviation": "TX"
        },
        {
            "name": "Utah",
            "abbreviation": "UT"
        },
        {
            "name": "Vermont",
            "abbreviation": "VT"
        },
        {
            "name": "Virgin Islands",
            "abbreviation": "VI"
        },
        {
            "name": "Virginia",
            "abbreviation": "VA"
        },
        {
            "name": "Washington",
            "abbreviation": "WA"
        },
        {
            "name": "West Virginia",
            "abbreviation": "WV"
        },
        {
            "name": "Wisconsin",
            "abbreviation": "WI"
        },
        {
            "name": "Wyoming",
            "abbreviation": "WY"
        }
    ];
    States.$get = function () { return States.list; };
    return States;
}());



/***/ }),

/***/ "./src/app/shared/moment-extensions.ts":
/*!*********************************************!*\
  !*** ./src/app/shared/moment-extensions.ts ***!
  \*********************************************/
/*! exports provided: MomentExtensions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MomentExtensions", function() { return MomentExtensions; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

var MomentExtensions = /** @class */ (function () {
    function MomentExtensions() {
        this.toDateString = function () {
            return moment__WEBPACK_IMPORTED_MODULE_0__(this).clone().format('YYYY-MM-DD');
        };
        moment__WEBPACK_IMPORTED_MODULE_0__["fn"].toDateString = this.toDateString;
    }
    MomentExtensions.init = function () { return new MomentExtensions(); };
    return MomentExtensions;
}());



/***/ }),

/***/ "./src/app/shared/shared.module.ts":
/*!*****************************************!*\
  !*** ./src/app/shared/shared.module.ts ***!
  \*****************************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var angular2_moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular2-moment */ "./node_modules/angular2-moment/index.js");
/* harmony import */ var angular2_moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(angular2_moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _campaigns_campaigns_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../campaigns/campaigns.module */ "./src/app/campaigns/campaigns.module.ts");
/* harmony import */ var _user_features_user_features_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../user-features/user-features.module */ "./src/app/user-features/user-features.module.ts");
/* harmony import */ var _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../client-selector/client-selector.component */ "./src/app/client-selector/client-selector.component.ts");
/* harmony import */ var _select_mapper_select_mapper_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../select-mapper/select-mapper.component */ "./src/app/select-mapper/select-mapper.component.ts");
/* harmony import */ var _loading_spinner_loading_spinner_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../loading-spinner/loading-spinner.component */ "./src/app/loading-spinner/loading-spinner.component.ts");
/* harmony import */ var _app_base_base_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @app/base/base.module */ "./src/app/base/base.module.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












var SharedModule = /** @class */ (function () {
    function SharedModule() {
    }
    SharedModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
                _material_material_module__WEBPACK_IMPORTED_MODULE_3__["MaterialModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                angular2_moment__WEBPACK_IMPORTED_MODULE_5__["MomentModule"],
                _campaigns_campaigns_module__WEBPACK_IMPORTED_MODULE_6__["CampaignsModule"],
                _user_features_user_features_module__WEBPACK_IMPORTED_MODULE_7__["UserFeaturesModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
                _app_base_base_module__WEBPACK_IMPORTED_MODULE_11__["BaseModule"]
            ],
            entryComponents: [
                _client_selector_client_selector_component__WEBPACK_IMPORTED_MODULE_8__["ClientSelectorComponent"],
                _select_mapper_select_mapper_component__WEBPACK_IMPORTED_MODULE_9__["SelectMapperComponent"],
                _loading_spinner_loading_spinner_component__WEBPACK_IMPORTED_MODULE_10__["LoadingSpinnerComponent"]
            ],
            declarations: [],
            providers: []
        })
    ], SharedModule);
    return SharedModule;
}());



/***/ }),

/***/ "./src/app/sidenav/sidenav.component.html":
/*!************************************************!*\
  !*** ./src/app/sidenav/sidenav.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\" *ngIf=\"user != null\">\n    <mat-toolbar-row>\n        <i class=\"material-icons md-48 mt-3\">account_circle</i>\n        <span class=\"fill-remaining-space\"></span>\n        <button mat-button (click)=\"toggleSidenav()\" class=\"sidenav-close\">\n            <i class=\"material-icons\">close</i>\n        </button>\n    </mat-toolbar-row>\n    <mat-toolbar-row class=\"d-flex flex-column align-items-start mb-2 mt-3\">\n        {{user.firstName}} {{user.lastName}}\n        <small>{{user.email}}</small>\n    </mat-toolbar-row>\n</mat-toolbar>\n\n<mat-nav-list *ngIf=\"user != null\">\n    <!-- all users -->\n    <a mat-list-item routerLink=\"dashboard\" routerLinkActive=\"mat-router-link-active\">\n        <i class=\"material-icons px-1\">pie_chart</i>\n        <span>My Work</span>\n    </a>\n    <a mat-list-item routerLink=\"my-information\" routerLinkActive=\"mat-router-link-active\">\n        <i class=\"material-icons px-1\">info_outline</i>\n        <span>My Information</span>\n    </a>\n    <a mat-list-item \n        routerLink=\"daily-tracker\" \n        routerLinkActive=\"mat-router-link-active\"\n        *ngIf=\"user.role.role < roleType.supervisor && user.role.isSalesAdmin\"\n    >\n        <i class=\"material-icons px-1\">ballot</i>\n        <span>Daily Tracker</span>\n    </a>\n\n    <!-- agents only -->\n    <ng-template *ngIf=\"user.role.role < roleType.companyAdmin\">\n        <a mat-list-item class=\"hide\">\n            <i class=\"material-icons px-1\">monetization_on</i>\n            <span>My Pay</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <i class=\"material-icons px-1\">library_books</i>\n            <span>My Documents</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <i class=\"material-icons px-1\">chat_bubble</i>\n            <span>Messages</span>\n        </a>\n    </ng-template>\n\n    <!-- do we have hr level links? -->\n\n    <!-- company admin+ -->\n    <ng-container *ngIf=\"user.role.role >= roleType.companyAdmin\">\n        <a mat-list-item routerLink=\"daily-tracker\" routerLinkActive=\"mat-router-link-active\">\n            <i class=\"material-icons px-1\">ballot</i>\n            <span>Daily Tracker</span>\n        </a>\n        <a mat-list-item routerLink=\"client-information\" routerLinkActive=\"mat-router-link-active\">\n            <i class=\"material-icons px-1\">business</i>\n            <span>Client Information</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <i class=\"material-icons px-1\">payment</i>\n            <span>Paystubs</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <i class=\"material-icons px-1\">dashboard</i>\n            <span>Blog</span>\n        </a>\n        <a mat-list-item routerLink=\"agents\" routerLinkActive=\"mat-router-link-active\">\n            <i class=\"material-icons px-1\">person</i>\n            <span>Agents</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <i class=\"material-icons px-1\">monetization_on</i>\n            <span>Pay Status</span>\n        </a>\n        <!-- <a mat-list-item routerLink=\"payroll-tools\" routerLinkActive=\"mat-router-link-active\">\n      <i class=\"material-icons px-1\">build</i>\n      <span>Payroll Entry</span>\n    </a> -->\n        <a mat-list-item class=\"hide\">\n            <i class=\"material-icons px-1\">assignment_ind</i>\n            <span>Overrides</span>\n        </a>\n        <a mat-list-item routerLink=\"campaigns\" routerLinkActive=\"mat-router-link-active\">\n            <i class=\"material-icons px-1\">assignment</i>\n            <span>Campaigns</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <i class=\"material-icons px-1\">library_books</i>\n            <span>Documents</span>\n        </a>\n        <a mat-list-item class=\"hide\">\n            <i class=\"material-icons px-1\">face</i>\n            <span>Customers</span>\n        </a>\n        <!-- end of admin links -->\n    </ng-container>\n\n    <!-- all users -->\n    <a mat-list-item class=\"hide\">\n        <i class=\"material-icons px-1\">info_outline</i>\n        <span>About</span>\n    </a>\n</mat-nav-list>"

/***/ }),

/***/ "./src/app/sidenav/sidenav.component.scss":
/*!************************************************!*\
  !*** ./src/app/sidenav/sidenav.component.scss ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@media screen and (min-width: 481px) {\n  .sidenav-close {\n    display: none; } }\n"

/***/ }),

/***/ "./src/app/sidenav/sidenav.component.ts":
/*!**********************************************!*\
  !*** ./src/app/sidenav/sidenav.component.ts ***!
  \**********************************************/
/*! exports provided: SidenavComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidenavComponent", function() { return SidenavComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _app_session_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @app/session.service */ "./src/app/session.service.ts");
/* harmony import */ var _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @app/sidenav/sidenav.service */ "./src/app/sidenav/sidenav.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SidenavComponent = /** @class */ (function () {
    function SidenavComponent(session, navService) {
        var _this = this;
        this.session = session;
        this.navService = navService;
        this.roleType = {
            systemAdmin: 7,
            companyAdmin: 6,
            humanResources: 5,
            regManager: 4,
            manager: 3,
            supervisor: 2,
            user: 1
        };
        this.session.getUserItem().subscribe(function (u) { return _this.user = u; });
    }
    SidenavComponent.prototype.ngOnInit = function () {
        // this.session.getUserItem().subscribe(u => this.user = u);
        /**
         * Subscribe to router events, so that anytime the user clicks a
         * link in the sidenav, the router event will signal here and we will
         * close the sidenav.
         */
        // this.router.events.subscribe(() => {
        //   this.sidenav.close();
        // });
    };
    SidenavComponent.prototype.toggleSidenav = function () {
        this.navService.toggle();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSidenav"])
    ], SidenavComponent.prototype, "sidenav", void 0);
    SidenavComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'side-nav',
            template: __webpack_require__(/*! ./sidenav.component.html */ "./src/app/sidenav/sidenav.component.html"),
            styles: [__webpack_require__(/*! ./sidenav.component.scss */ "./src/app/sidenav/sidenav.component.scss")]
        }),
        __metadata("design:paramtypes", [_app_session_service__WEBPACK_IMPORTED_MODULE_2__["SessionService"],
            _app_sidenav_sidenav_service__WEBPACK_IMPORTED_MODULE_3__["SidenavService"]])
    ], SidenavComponent);
    return SidenavComponent;
}());



/***/ }),

/***/ "./src/app/sidenav/sidenav.service.ts":
/*!********************************************!*\
  !*** ./src/app/sidenav/sidenav.service.ts ***!
  \********************************************/
/*! exports provided: SidenavService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidenavService", function() { return SidenavService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var SidenavService = /** @class */ (function () {
    function SidenavService() {
        this.opened$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // if(this.sidenav != null) 
        //     this.opened$.next(this.sidenav.opened);
        // else
        //     this.opened$.next(false);
    }
    SidenavService.prototype.open = function () {
        this.opened$.next(true);
        return this.sidenav.open();
    };
    SidenavService.prototype.close = function () {
        this.opened$.next(false);
        if (this.sidenav == null)
            return;
        return this.sidenav.close();
    };
    SidenavService.prototype.toggle = function (isOpen) {
        if (this.sidenav != null)
            this.opened$.next(!this.sidenav.opened);
        return this.sidenav.toggle(isOpen);
    };
    SidenavService.prototype.setSidenav = function (nav) {
        this.sidenav = nav;
    };
    SidenavService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], SidenavService);
    return SidenavService;
}());



/***/ }),

/***/ "./src/app/token.interceptor.ts":
/*!**************************************!*\
  !*** ./src/app/token.interceptor.ts ***!
  \**************************************/
/*! exports provided: TokenInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenInterceptor", function() { return TokenInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./session.service */ "./src/app/session.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth.service */ "./src/app/auth.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TokenInterceptor = /** @class */ (function () {
    function TokenInterceptor(session, auth) {
        var _this = this;
        this.session = session;
        this.auth = auth;
        this.session.userItem.subscribe(function (next) { _this.user = next; });
        this.apiUrl = this.auth.apiUrl;
        // get user authenticated status from the session service.
        this.session
            .isLoginSubject
            .subscribe(function (authenticated) {
            _this.userLoggedIn = authenticated;
        });
    }
    TokenInterceptor.prototype.intercept = function (request, next) {
        this.session.navigateQueue.push(request.url);
        // if the url is nothing our WebAPI, we are not going to append HTTP headers
        var url = this.apiUrl.substring(7, 11);
        if (request.url.indexOf(url) == -1 || !this.userLoggedIn) {
            return next.handle(request);
        }
        else {
            return next.handle(this.session.getTokenRequest(request));
        }
    };
    TokenInterceptor = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_session_service__WEBPACK_IMPORTED_MODULE_1__["SessionService"], _auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]])
    ], TokenInterceptor);
    return TokenInterceptor;
}());



/***/ }),

/***/ "./src/app/user-features/user-features.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/user-features/user-features.module.ts ***!
  \*******************************************************/
/*! exports provided: UserFeaturesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserFeaturesModule", function() { return UserFeaturesModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _material_material_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../material/material.module */ "./src/app/material/material.module.ts");
/* harmony import */ var ng2_file_upload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng2-file-upload */ "./node_modules/ng2-file-upload/index.js");
/* harmony import */ var ng2_file_upload__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(ng2_file_upload__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _weather_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../weather.service */ "./src/app/weather.service.ts");
/* harmony import */ var _my_information_my_information_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../my-information/my-information.component */ "./src/app/my-information/my-information.component.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./user.service */ "./src/app/user-features/user.service.ts");
/* harmony import */ var _payroll_payroll_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../payroll/payroll.component */ "./src/app/payroll/payroll.component.ts");
/* harmony import */ var _payroll_dialogs_change_agent_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../payroll/dialogs/change-agent.component */ "./src/app/payroll/dialogs/change-agent.component.ts");
/* harmony import */ var _payroll_dialogs_reject_note_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../payroll/dialogs/reject-note.component */ "./src/app/payroll/dialogs/reject-note.component.ts");
/* harmony import */ var _payroll_dialogs_sales_mapping_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../payroll/dialogs/sales-mapping.component */ "./src/app/payroll/dialogs/sales-mapping.component.ts");
/* harmony import */ var _masks_ssn_directive__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../masks/ssn.directive */ "./src/app/masks/ssn.directive.ts");
/* harmony import */ var _validators_required_validator_directive__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../validators/required-validator.directive */ "./src/app/validators/required-validator.directive.ts");
/* harmony import */ var _app_campaigns_campaigns_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @app/campaigns/campaigns.module */ "./src/app/campaigns/campaigns.module.ts");
/* harmony import */ var _app_payroll_paste_directive__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @app/payroll/paste.directive */ "./src/app/payroll/paste.directive.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













// import { HotTableModule } from '@handsontable/angular';




var UserFeaturesModule = /** @class */ (function () {
    function UserFeaturesModule() {
    }
    UserFeaturesModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _material_material_module__WEBPACK_IMPORTED_MODULE_4__["MaterialModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_3__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                ng2_file_upload__WEBPACK_IMPORTED_MODULE_5__["FileUploadModule"],
                _app_campaigns_campaigns_module__WEBPACK_IMPORTED_MODULE_15__["CampaignsModule"]
            ],
            declarations: [
                _my_information_my_information_component__WEBPACK_IMPORTED_MODULE_7__["MyInformationComponent"],
                _payroll_payroll_component__WEBPACK_IMPORTED_MODULE_9__["PayrollComponent"],
                _payroll_dialogs_change_agent_component__WEBPACK_IMPORTED_MODULE_10__["ChangeAgentDialogComponent"],
                _masks_ssn_directive__WEBPACK_IMPORTED_MODULE_13__["MaskSsn"],
                _payroll_dialogs_reject_note_component__WEBPACK_IMPORTED_MODULE_11__["RejectNoteDialogComponent"],
                _payroll_dialogs_sales_mapping_component__WEBPACK_IMPORTED_MODULE_12__["SalesMappingComponent"],
                _validators_required_validator_directive__WEBPACK_IMPORTED_MODULE_14__["RequiredValidatorDirective"],
                _app_payroll_paste_directive__WEBPACK_IMPORTED_MODULE_16__["VsPasteDirective"]
            ],
            entryComponents: [
                _payroll_dialogs_reject_note_component__WEBPACK_IMPORTED_MODULE_11__["RejectNoteDialogComponent"],
                _payroll_dialogs_sales_mapping_component__WEBPACK_IMPORTED_MODULE_12__["SalesMappingComponent"],
                _payroll_dialogs_change_agent_component__WEBPACK_IMPORTED_MODULE_10__["ChangeAgentDialogComponent"]
            ],
            providers: [_weather_service__WEBPACK_IMPORTED_MODULE_6__["WeatherService"], _user_service__WEBPACK_IMPORTED_MODULE_8__["UserService"]]
        })
    ], UserFeaturesModule);
    return UserFeaturesModule;
}());



/***/ }),

/***/ "./src/app/user-features/user.service.ts":
/*!***********************************************!*\
  !*** ./src/app/user-features/user.service.ts ***!
  \***********************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _session_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../session.service */ "./src/app/session.service.ts");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _env_environment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @env/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var UserService = /** @class */ (function () {
    function UserService(http, session) {
        var _this = this;
        this.http = http;
        this.session = session;
        this.apiUrl = _env_environment__WEBPACK_IMPORTED_MODULE_6__["environment"].apiUrl;
        this.api = _env_environment__WEBPACK_IMPORTED_MODULE_6__["environment"].apiUrl + 'api/';
        this.dataStore = {
            user: null,
            users: null,
            detail: null,
            agents: null
        };
        this.user$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        this.users$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        this.agents$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        this.userDetail$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["ReplaySubject"](1);
        this.user = this.user$.asObservable();
        this.users = this.users$.asObservable();
        this.userDetail = this.userDetail$.asObservable();
        this.agents = this.agents$.asObservable();
        this.session.userItem.subscribe(function (user) {
            _this.user$.next(user);
            _this.dataStore.user = user;
            _this.dataStore.detail = user.detail;
            _this.userDetail$.next(user.detail);
        });
    }
    UserService.prototype.ngOnInit = function () {
        this.session.getItem('user');
    };
    UserService.prototype.setUser = function (user) {
        this.user$.next(user);
    };
    UserService.prototype.reloadUserPromise = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.dataStore.user == null) {
                _this.session.getItem('user');
            }
            _this.user$.next(_this.dataStore.user);
        });
    };
    UserService.prototype.reloadUsers = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.users$.next(_this.dataStore.users);
            return true;
        });
    };
    /**
     * Get's session user's detail.
     */
    UserService.prototype.getUserDetail = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.dataStore.detail == null)
                reject();
            _this.userDetail$.next(_this.dataStore.detail);
            resolve(_this.dataStore.detail);
        });
    };
    UserService.prototype.reloadUserDetail = function () {
        this.userDetail$.next(this.dataStore.detail);
    };
    UserService.prototype.reloadUser = function () {
        if (this.dataStore.user == null) {
            this.user$.next(this.session.dataStore.user);
        }
        else {
            this.user$.next(this.dataStore.user);
        }
    };
    /**
     * Gets a user's detail entity.
     *
     * @param userId
     */
    UserService.prototype.getUserDetailById = function (userId) {
        return this.http.get(this.apiUrl + 'api/users/' + userId + '/detail')
            .toPromise()
            .then(function (detail) {
            return detail;
        });
    };
    UserService.prototype.loadUsersByActiveState = function (activeOnly) {
        var _this = this;
        if (activeOnly === void 0) { activeOnly = true; }
        this.http.get(this.apiUrl + 'api/users/all/statuses/' + activeOnly)
            .subscribe(function (data) {
            _this.dataStore.users = data;
            _this.users$.next(_this.dataStore.users);
        });
    };
    /**
     *
     *
     * @param activeOnly
     */
    UserService.prototype.loadAgents = function (activeOnly) {
        var _this = this;
        if (activeOnly === void 0) { activeOnly = true; }
        this.http.get(this.apiUrl + 'api/agents')
            .subscribe(function (data) {
            _this.dataStore.agents = data;
            _this.agents$.next(_this.dataStore.agents);
        });
    };
    /**
     * Get all agents, return a promise asynchronously.
     */
    UserService.prototype.refreshAgents = function () {
        var _this = this;
        return new Promise(function (resolve) {
            if (_this.dataStore.agents == null)
                _this.loadAgents(true);
            resolve(_this.dataStore.agents);
        });
    };
    UserService.prototype.getAgentByUserId = function (userId) {
        var _this = this;
        if (this.dataStore.agents == null)
            this.loadAgents(true);
        return new Promise(function (resolve) {
            var agent = lodash__WEBPACK_IMPORTED_MODULE_4__["filter"](_this.dataStore.agents, function (a) { return a.userId == userId; });
            resolve(agent);
        });
    };
    UserService.prototype.getAgentsByManagerId = function (managerId) {
        var _this = this;
        if (this.dataStore.agents == null) {
            return new Promise(function (resolve) {
                _this.http.get(_this.apiUrl + 'api/agents')
                    .subscribe(function (agents) {
                    _this.dataStore.agents = agents;
                    _this.agents$.next(agents);
                    agents = lodash__WEBPACK_IMPORTED_MODULE_4__["filter"](agents, function (a) { return a.managerId == managerId; });
                    resolve(agents);
                });
            });
        }
        else {
            return new Promise(function (resolve) {
                var agents = lodash__WEBPACK_IMPORTED_MODULE_4__["filter"](_this.dataStore.agents, function (agent) { return agent.managerId == managerId; });
                resolve(agents);
            });
        }
    };
    /**
     * Get a user entity by user id for use, this is not to be used for session user info.
     *
     * @param userId
     */
    UserService.prototype.getUser = function (userId) {
        return this.http.get(this.apiUrl + 'api/users/' + userId)
            .toPromise()
            .then(function (user) {
            return user;
        });
    };
    /**
     * Get a user by username... ONLY use if the user is authenticated. This route should
     * be covered with middleware on the server.
     *
     * @param username
     */
    UserService.prototype.loadUser = function (username) {
        var _this = this;
        this.http.get(this.apiUrl + 'api/users/' + username + '/session')
            .subscribe(function (data) {
            _this.dataStore.detail = data.detail;
            _this.userDetail$.next(data.detail);
            _this.dataStore.user = data;
            _this.session.setUser(_this.dataStore.user);
            _this.user$.next(_this.dataStore.user);
            _this.setLocalStorageUser(_this.dataStore.user);
        });
    };
    UserService.prototype.storeNgUser = function (user) {
        this.dataStore.detail = user.detail;
        this.userDetail$.next(user.detail);
        this.dataStore.user = user;
        this.session.setUser(this.dataStore.user);
        this.user$.next(this.dataStore.user);
        this.setLocalStorageUser(this.dataStore.user);
    };
    UserService.prototype.updateUser = function (user, detail) {
        var _this = this;
        this.http.post(this.apiUrl + 'api/users/' + user.id, { user: user, detail: detail })
            .subscribe(function (data) {
            if (data.user) {
                _this.dataStore.user = data.user;
                _this.session.setUser(_this.dataStore.user);
            }
            else {
                _this.dataStore.user = data;
            }
            if (data.detail != null) {
                _this.dataStore.detail = data.detail;
                _this.userDetail$.next(_this.dataStore.detail);
            }
            _this.user$.next(_this.dataStore.user);
            _this.setLocalStorageUser(_this.dataStore.user);
        });
    };
    UserService.prototype.updateUserEntity = function (user) {
        return this.http.post(this.apiUrl + 'api/users/' + user.id, user)
            .toPromise()
            .then(function (user) {
            return user;
        });
    };
    UserService.prototype.saveNewUserAgentEntity = function (user, agent, detail, clientId, role) {
        var dto = { user: user, agent: agent, detail: detail, role: role };
        return this.http.post(this.apiUrl + "api/users/clients/" + clientId + "/new-user-agent", dto);
    };
    /**
     * @description This will allow us to the update the current signed in user's cached session information
     * without having to persist anything back to the server. This should only be used if the updated information
     * on the user's session is non-related to the user's table (e.g. The current client selected has options changed
     * and the logged in user's object needs to know about those changes).
     *
     * @param user
     * @return void
     */
    UserService.prototype.cacheUser = function (user) {
        this.dataStore.user = user;
        this.user$.next(this.dataStore.user);
        this.setLocalStorageUser(this.dataStore.user);
    };
    UserService.prototype.loadUserDetail = function (userId) {
        var _this = this;
        if (userId === void 0) { userId = null; }
        userId = userId || this.dataStore.user.id;
        this.http.get(this.apiUrl + 'api/users/' + userId + '/detail')
            .subscribe(function (data) {
            if (data == null)
                return;
            _this.dataStore.detail = data;
            _this.userDetail$.next(_this.dataStore.detail);
        });
    };
    /**
     * For use to update a user's detail information and return promise.
     *
     * @param detail
     */
    UserService.prototype.saveDetailEntity = function (detail) {
        var executionUrl = detail.userDetailId != null
            ? this.apiUrl + 'api/users/' + detail.userId + '/details/' + detail.userDetailId
            : this.apiUrl + 'api/users/' + detail.userId + '/details';
        return this.http.post(executionUrl, detail)
            .toPromise()
            .then(function (detail) {
            return detail;
        });
    };
    /**
     * Update user detail sale info
     *
     * @param detail
     */
    UserService.prototype.updateDetailSaleInfo = function (detail) {
        var url = this.api + 'users/' + detail.userId + '/details/' + detail.userDetailId + '/sale-info';
        return this.http.post(url, detail)
            .toPromise()
            .then(function (detail) {
            return detail;
        });
    };
    UserService.prototype.updateDetailAgentInfo = function (detail) {
        var url = this.api + 'users/' + detail.userId + '/details/' + detail.userDetailId + '/agent-info';
        return this.http.post(url, detail)
            .toPromise()
            .then(function (detail) {
            return detail;
        });
    };
    /**
     * Only for use on session user, this will update session user details.
     *
     * @param detail
     */
    UserService.prototype.updateDetail = function (detail) {
        var _this = this;
        this.http.post(this.apiUrl + 'api/users/' + detail.userId + '/details/' + detail.userDetailId, detail)
            .subscribe(function (data) {
            _this.dataStore.detail = data;
            _this.userDetail$.next(_this.dataStore.detail);
        });
    };
    UserService.prototype.logout = function () {
        this.dataStore.user = null;
        this.user$.next(null);
        this.dataStore.detail = null;
        this.userDetail$.next(null);
    };
    /**
     * This sets the session user. It will save/overwrite any existing user information for the logged in
     * user on the session cookie.
     *
     * @param user
     */
    UserService.prototype.setLocalStorageUser = function (user) {
        var data = {
            expires: moment__WEBPACK_IMPORTED_MODULE_5__().valueOf() + (1000 * (60 * 24 * 3)),
            data: user
        };
        this.session.setItem('user', data);
    };
    UserService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _session_service__WEBPACK_IMPORTED_MODULE_3__["SessionService"]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/app/validators/required-validator.directive.ts":
/*!************************************************************!*\
  !*** ./src/app/validators/required-validator.directive.ts ***!
  \************************************************************/
/*! exports provided: RequiredValidatorDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RequiredValidatorDirective", function() { return RequiredValidatorDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var RequiredValidatorDirective = /** @class */ (function () {
    function RequiredValidatorDirective(el, renderer) {
        this.el = el;
        this.renderer = renderer;
        this._elementClass = [];
        console.dir(el);
        if (el.nativeElement.firstElementChild !== null)
            console.dir(el.nativeElement.firstElementChild.validity);
    }
    RequiredValidatorDirective.prototype.fieldBlur = function () {
        // this.el.nativeElement.validity.valid = false;
        // this.invalidateField();
        if (!this.el.nativeElement.validity.valid)
            this.invalidateField();
    };
    Object.defineProperty(RequiredValidatorDirective.prototype, "elementClass", {
        get: function () {
            return this._elementClass.join(' ');
        },
        enumerable: true,
        configurable: true
    });
    RequiredValidatorDirective.prototype.invalidateField = function () {
        // this.renderer.addClass(this.el.nativeElement, 'mat-form-field-invalid');
        // this.renderer.addClass(this.el.nativeElement, 'mat-input-invalid');
        // this.renderer.addClass(this.el.nativeElement, 'text-danger');
        this._elementClass.push('mat-form-field-invalid');
        this._elementClass.push('mat-input-invalid');
        this._elementClass.push('text-danger');
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"])('mouseleave'),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", []),
        __metadata("design:returntype", void 0)
    ], RequiredValidatorDirective.prototype, "fieldBlur", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"])('class'),
        __metadata("design:type", String),
        __metadata("design:paramtypes", [])
    ], RequiredValidatorDirective.prototype, "elementClass", null);
    RequiredValidatorDirective = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({
            selector: '[requiredValidator]'
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["Renderer2"]])
    ], RequiredValidatorDirective);
    return RequiredValidatorDirective;
}());



/***/ }),

/***/ "./src/app/weather.service.ts":
/*!************************************!*\
  !*** ./src/app/weather.service.ts ***!
  \************************************/
/*! exports provided: WeatherService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WeatherService", function() { return WeatherService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var WeatherService = /** @class */ (function () {
    function WeatherService(http) {
        this.http = http;
        this.APIKEY = '2580c0421b529216d4197f97870a52a6';
    }
    WeatherService.prototype.getWeatherByGeoLocale = function (long, lat) {
        return this.http.get('http://api.openweathermap.org/data/2.5/weather?lat=' + lat + '&lon=' + long + '&APPID=' + this.APIKEY).toPromise();
    };
    WeatherService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], WeatherService);
    return WeatherService;
}());



/***/ }),

/***/ "./src/environments/environment.prod.ts":
/*!**********************************************!*\
  !*** ./src/environments/environment.prod.ts ***!
  \**********************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
var environment = {
    production: true,
    rootUrl: 'https://verostack.io',
    apiUrl: 'https://verostack.io/'
};


/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false,
    rootUrl: 'http://verostack:8888',
    apiUrl: 'http://verostack:8888/'
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_4__);





if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/drewpayment/dev/verostack/resources/assets/ng/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map