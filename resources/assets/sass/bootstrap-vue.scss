input.form-control {
  &[type=color], &[type=range] {
    height: 2.25rem;
  }
  &.form-control-sm {
    &[type=color], &[type=range] {
      height: 1.9375rem;
    }
  }
  &.form-control-lg {
    &[type=color], &[type=range] {
      height: 3rem;
    }
  }
  &[type=color] {
    padding: 0.25rem 0.25rem;
  }
  &.form-control-sm[type=color] {
    padding: 0.125rem 0.125rem;
  }
}

.b-form-file.custom-file .custom-file-input {
  &.focus ~ .custom-file-control, &:focus ~ .custom-file-control {
    color: #495057;
    background-color: #fff;
    border-color: #80bdff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    outline: 0;
  }
  &.is-invalid {
    &.focus ~ .custom-file-control, &:focus ~ .custom-file-control {
      box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
      border-color: #dc3545;
    }
  }
}

.was-validated .b-form-file.custom-file .custom-file-input:invalid {
  &.focus ~ .custom-file-control, &:focus ~ .custom-file-control {
    box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
    border-color: #dc3545;
  }
}

.b-form-file.custom-file .custom-file-input.is-valid {
  &.focus ~ .custom-file-control, &:focus ~ .custom-file-control {
    box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
    border-color: #28a745;
  }
}

.was-validated .b-form-file.custom-file .custom-file-input:valid {
  &.focus ~ .custom-file-control, &:focus ~ .custom-file-control {
    box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
    border-color: #28a745;
  }
}

.form-control-file {
  &.is-invalid ~ .invalid-feedback, &.is-valid ~ .valid-feedback {
    display: block;
  }
}

.was-validated .form-control-file {
  &:invalid ~ .invalid-feedback, &:valid ~ .valid-feedback {
    display: block;
  }
}

.b-form-file.custom-file {
  .custom-file-control {
    overflow: hidden;
    overflow: hidden;
    &.dragging {
      overflow: hidden;
      filter: blur(3px);
    }
    &[data-selected]::after {
      content: attr(data-selected);
    }
    &[data-choose]::before {
      content: attr(data-choose);
    }
  }
  .drop-here {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 3px;
    z-index: 99999;
    display: flex;
    justify-content: center;
    align-items: center;
    &::before {
      color: #fff;
      content: attr(data-drop);
    }
  }
}

.modal-dialog-centered {
  display: flex;
  align-items: center;
  min-height: calc(100% - (10px * 2));
  .modal-content {
    width: 100%;
  }
}

@media (min-width: 576px) {
  .modal-dialog-centered {
    min-height: calc(100% - (30px * 2));
  }
}

.progress-bar {
  transition: width 0.6s ease;
}

table.b-table {
  &.b-table-fixed {
    table-layout: fixed;
  }
  &[aria-busy=false] {
    opacity: 1;
  }
  &[aria-busy=true] {
    opacity: 0.6;
  }
  > {
    tfoot > tr > th, thead > tr > th {
      position: relative;
    }
    tfoot > tr > th.sorting, thead > tr > th.sorting {
      padding-right: 1.5em;
      cursor: pointer;
    }
    tfoot > tr > th.sorting {
      &::after, &::before {
        position: absolute;
        bottom: 0;
        display: block;
        opacity: .4;
        padding-bottom: inherit;
        font-size: inherit;
        line-height: 180%;
      }
    }
    thead > tr > th.sorting {
      &::after, &::before {
        position: absolute;
        bottom: 0;
        display: block;
        opacity: .4;
        padding-bottom: inherit;
        font-size: inherit;
        line-height: 180%;
      }
    }
    tfoot > tr > th.sorting::before, thead > tr > th.sorting::before {
      right: .75em;
      content: "↑";
    }
    tfoot > tr > th.sorting::after, thead > tr > th.sorting::after {
      right: .25em;
      content: "↓";
    }
    tfoot > tr > th {
      &.sorting_asc::after, &.sorting_desc::before {
        opacity: 1;
      }
    }
    thead > tr > th {
      &.sorting_asc::after, &.sorting_desc::before {
        opacity: 1;
      }
    }
  }
  &.b-table-stacked {
    width: 100%;
    display: block;
    > {
      caption {
        display: block;
      }
      tbody {
        display: block;
        > tr {
          display: block;
          > {
            td, th {
              display: block;
            }
          }
          &.b-table-bottom-row, &.b-table-top-row {
            display: none;
          }
        }
      }
      tfoot, thead {
        display: none;
      }
      tbody > tr > {
        :first-child {
          border-top-width: 0.4rem;
        }
        [data-label] {
          display: grid;
          grid-template-columns: 40% auto;
          grid-gap: 0.25rem 1rem;
          &::before {
            content: attr(data-label);
            display: inline;
            text-align: right;
            overflow-wrap: break-word;
            font-weight: 700;
            font-style: normal;
          }
        }
      }
    }
  }
  > tbody > tr.b-table-details > td {
    border-top: none;
  }
}

@media all and (max-width: 575.99px) {
  table.b-table.b-table-stacked-sm {
    width: 100%;
    display: block;
    > {
      caption {
        display: block;
      }
      tbody {
        display: block;
        > tr {
          display: block;
          > {
            td, th {
              display: block;
            }
          }
          &.b-table-bottom-row, &.b-table-top-row {
            display: none;
          }
        }
      }
      tfoot, thead {
        display: none;
      }
      tbody > tr > {
        :first-child {
          border-top-width: 0.4rem;
        }
        [data-label] {
          display: grid;
          grid-template-columns: 40% auto;
          grid-gap: 0.25rem 1rem;
          &::before {
            content: attr(data-label);
            display: inline;
            text-align: right;
            overflow-wrap: break-word;
            font-weight: 700;
            font-style: normal;
          }
        }
      }
    }
  }
}

@media all and (max-width: 767.99px) {
  table.b-table.b-table-stacked-md {
    width: 100%;
    display: block;
    > {
      caption {
        display: block;
      }
      tbody {
        display: block;
        > tr {
          display: block;
          > {
            td, th {
              display: block;
            }
          }
          &.b-table-bottom-row, &.b-table-top-row {
            display: none;
          }
        }
      }
      tfoot, thead {
        display: none;
      }
      tbody > tr > {
        :first-child {
          border-top-width: 0.4rem;
        }
        [data-label] {
          display: grid;
          grid-template-columns: 40% auto;
          grid-gap: 0.25rem 1rem;
          &::before {
            content: attr(data-label);
            display: inline;
            text-align: right;
            overflow-wrap: break-word;
            font-weight: 700;
            font-style: normal;
          }
        }
      }
    }
  }
}

@media all and (max-width: 991.99px) {
  table.b-table.b-table-stacked-lg {
    width: 100%;
    display: block;
    > {
      caption {
        display: block;
      }
      tbody {
        display: block;
        > tr {
          display: block;
          > {
            td, th {
              display: block;
            }
          }
          &.b-table-bottom-row, &.b-table-top-row {
            display: none;
          }
        }
      }
      tfoot, thead {
        display: none;
      }
      tbody > tr > {
        :first-child {
          border-top-width: 0.4rem;
        }
        [data-label] {
          display: grid;
          grid-template-columns: 40% auto;
          grid-gap: 0.25rem 1rem;
          &::before {
            content: attr(data-label);
            display: inline;
            text-align: right;
            overflow-wrap: break-word;
            font-weight: 700;
            font-style: normal;
          }
        }
      }
    }
  }
}

@media all and (max-width: 1199.99px) {
  table.b-table.b-table-stacked-xl {
    width: 100%;
    display: block;
    > {
      caption {
        display: block;
      }
      tbody {
        display: block;
        > tr {
          display: block;
          > {
            td, th {
              display: block;
            }
          }
          &.b-table-bottom-row, &.b-table-top-row {
            display: none;
          }
        }
      }
      tfoot, thead {
        display: none;
      }
      tbody > tr > {
        :first-child {
          border-top-width: 0.4rem;
        }
        [data-label] {
          display: grid;
          grid-template-columns: 40% auto;
          grid-gap: 0.25rem 1rem;
          &::before {
            content: attr(data-label);
            display: inline;
            text-align: right;
            overflow-wrap: break-word;
            font-weight: 700;
            font-style: normal;
          }
        }
      }
    }
  }
}